(function(p,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],t):(p=typeof globalThis<"u"?globalThis:p||self,t(p["@stonecrop/aform"]={},p.Vue))})(this,function(p,t){"use strict";const le={id:"checkbox-container"},ae=["id","readonly","required"],re={id:"custom-checkbox"},se=["for"],ie=["innerHTML"],ce=t.defineComponent({__name:"ACheckbox",props:{label:{},value:{},required:{type:Boolean},readOnly:{type:Boolean},uuid:{},validation:{default:()=>({errorMessage:"&nbsp;"})}},emits:["update:value"],setup(e,{emit:n}){const o=e,l=n,r=t.computed({get(){return o.value},set(a){l("update:value",a)}});return(a,s)=>(t.openBlock(),t.createElementBlock("div",null,[t.createElementVNode("label",le,[t.withDirectives(t.createElementVNode("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>r.value=i),type:"checkbox",id:a.uuid,class:"checkbox",readonly:a.readOnly,required:a.required},null,8,ae),[[t.vModelCheckbox,r.value]]),t.createElementVNode("span",re,t.toDisplayString(r.value),1)]),t.createElementVNode("label",{for:a.uuid,id:"checkbox-label"},t.toDisplayString(a.label),9,se),t.withDirectives(t.createElementVNode("p",{innerHTML:a.validation.errorMessage},null,8,ie),[[t.vShow,a.validation.errorMessage]])]))}}),dt="",_=(e,n)=>{const o=e.__vccOpts||e;for(const[l,r]of n)o[l]=r;return o},N=_(ce,[["__scopeId","data-v-743cd4db"]]),de=t.createElementVNode("div",null,[t.createElementVNode("input",{type:"text"}),t.createElementVNode("input",{type:"text"}),t.createElementVNode("input",{type:"text"})],-1),$=t.defineComponent({__name:"AComboBox",props:["event","cellData","tableID"],setup(e){return(n,o)=>{const l=t.resolveComponent("ATableModal");return t.openBlock(),t.createBlock(l,{event:e.event,cellData:e.cellData,class:"amodal"},{default:t.withCtx(()=>[de]),_:1},8,["event","cellData"])}}}),ue=["id","disabled","required"],pe=["for"],me=["innerHTML"],fe=t.defineComponent({__name:"ADate",props:{label:{},modelValue:{},required:{type:Boolean},readonly:{type:Boolean},uuid:{},validation:{default:()=>({errorMessage:"&nbsp;"})}},emits:["update:modelValue"],setup(e,{emit:n}){const o=e,l=n,r=t.computed({get:()=>o.modelValue,set:a=>{l("update:modelValue",a)}});return(a,s)=>(t.openBlock(),t.createElementBlock("div",null,[t.withDirectives(t.createElementVNode("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>r.value=i),type:"date",id:a.uuid,disabled:a.readonly,required:a.required},null,8,ue),[[t.vModelText,r.value]]),t.createElementVNode("label",{for:a.uuid},t.toDisplayString(a.label),9,pe),t.withDirectives(t.createElementVNode("p",{innerHTML:a.validation.errorMessage},null,8,me),[[t.vShow,a.validation.errorMessage]])]))}}),ut="",v=_(fe,[["__scopeId","data-v-91963706"]]),he=t.defineComponent({name:"ADropdown",props:{modelValue:{type:String,required:!1,default:""},label:{type:String,required:!0},value:String,items:{type:Array,required:!1,default:()=>[]},isAsync:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue","filterChanged"],data(){return{results:[],search:this.modelValue,isLoading:!1,arrowCounter:0,isOpen:!1}},watch:{items:function(e,n){this.isLoading=!1,this.results=e}},mounted(){document.addEventListener("click",this.handleClickOutside),this.filterResults()},destroyed(){document.removeEventListener("click",this.handleClickOutside)},methods:{setResult(e){this.search=e,this.closeResults()},filterResults(){this.results=this.items.filter(e=>e.toLowerCase().indexOf(this.search.toLowerCase())>-1)},onChange(){this.isOpen=!0,this.isAsync?(this.isLoading=!0,this.$emit("filterChanged",this.search)):this.filterResults()},handleClickOutside(e){this.$el.contains(e.target)||(this.closeResults(),this.arrowCounter=0)},closeResults(){this.isOpen=!1,this.items.includes(this.search)||(this.search=""),this.$emit("update:modelValue",this.search)},onArrowDown(){this.arrowCounter<this.results.length&&(this.arrowCounter=this.arrowCounter+1)},onArrowUp(){this.arrowCounter>0&&(this.arrowCounter=this.arrowCounter-1)},onEnter(){this.search=this.results[this.arrowCounter],this.closeResults(),this.arrowCounter=0},openWithSearch(){this.search="",this.onChange(),this.$refs.mopInput.focus()}}}),pt="",ye={class:"input-wrapper"},ge={id:"autocomplete-results",class:"autocomplete-results"},_e={key:0,class:"loading autocomplete-result"},be=["onClick"];function we(e,n,o,l,r,a){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["autocomplete",{isOpen:e.isOpen}])},[t.createElementVNode("div",ye,[t.withDirectives(t.createElementVNode("input",{ref:"mopInput",type:"text",onInput:n[0]||(n[0]=(...s)=>e.onChange&&e.onChange(...s)),onFocus:n[1]||(n[1]=(...s)=>e.onChange&&e.onChange(...s)),"onUpdate:modelValue":n[2]||(n[2]=s=>e.search=s),onKeydown:[n[3]||(n[3]=t.withKeys((...s)=>e.onArrowDown&&e.onArrowDown(...s),["down"])),n[4]||(n[4]=t.withKeys((...s)=>e.onArrowUp&&e.onArrowUp(...s),["up"])),n[5]||(n[5]=t.withKeys((...s)=>e.onEnter&&e.onEnter(...s),["enter"]))]},null,544),[[t.vModelText,e.search]]),t.withDirectives(t.createElementVNode("ul",ge,[e.isLoading?(t.openBlock(),t.createElementBlock("li",_e,"Loading results...")):(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:1},t.renderList(e.results,(s,i)=>(t.openBlock(),t.createElementBlock("li",{key:i,onClick:d=>e.setResult(s),class:t.normalizeClass(["autocomplete-result",{"is-active":i===e.arrowCounter}])},t.toDisplayString(s),11,be))),128))],512),[[t.vShow,e.isOpen]]),t.createElementVNode("label",null,t.toDisplayString(e.label),1)])],2)}const O=_(he,[["render",we]]);var L;const P=typeof window<"u",ke=e=>typeof e=="string",Ee=()=>{};P&&(L=window==null?void 0:window.navigator)!=null&&L.userAgent&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function F(e){return typeof e=="function"?e():t.unref(e)}function De(e){return e}function Ce(e){return t.getCurrentScope()?(t.onScopeDispose(e),!0):!1}function V(e){var n;const o=F(e);return(n=o==null?void 0:o.$el)!=null?n:o}const q=P?window:void 0;function Ae(...e){let n,o,l,r;if(ke(e[0])||Array.isArray(e[0])?([o,l,r]=e,n=q):[n,o,l,r]=e,!n)return Ee;Array.isArray(o)||(o=[o]),Array.isArray(l)||(l=[l]);const a=[],s=()=>{a.forEach(u=>u()),a.length=0},i=(u,h,y,m)=>(u.addEventListener(h,y,m),()=>u.removeEventListener(h,y,m)),d=t.watch(()=>[V(n),F(r)],([u,h])=>{s(),u&&a.push(...o.flatMap(y=>l.map(m=>i(u,y,m,h))))},{immediate:!0,flush:"post"}),c=()=>{d(),s()};return Ce(c),c}const H=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},x="__vueuse_ssr_handlers__";H[x]=H[x]||{};function Ve(e,{window:n=q,scrollTarget:o}={}){const l=t.ref(!1),r=()=>{if(!n)return;const a=n.document,s=V(e);if(!s)l.value=!1;else{const i=s.getBoundingClientRect();l.value=i.top<=(n.innerHeight||a.documentElement.clientHeight)&&i.left<=(n.innerWidth||a.documentElement.clientWidth)&&i.bottom>=0&&i.right>=0}};return t.watch(()=>V(e),()=>r(),{immediate:!0,flush:"post"}),n&&Ae(o||n,"scroll",r,{capture:!1,passive:!0}),l}var R;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(R||(R={}));var Se=Object.defineProperty,U=Object.getOwnPropertySymbols,Me=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable,Q=(e,n,o)=>n in e?Se(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,Te=(e,n)=>{for(var o in n||(n={}))Me.call(n,o)&&Q(e,o,n[o]);if(U)for(var o of U(n))Be.call(n,o)&&Q(e,o,n[o]);return e};Te({linear:De},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});const b=e=>{let n=Ve(e).value;return n=n&&e.offsetHeight>0,n},w=e=>e.tabIndex>=0,j=e=>{const n=e.target;return S(n)},S=e=>{var n;let o;if(e instanceof HTMLTableCellElement){const l=(n=e.parentElement)==null?void 0:n.previousElementSibling;if(l){const r=Array.from(l.children)[e.cellIndex];r&&(o=r)}}else if(e instanceof HTMLTableRowElement){const l=e.previousElementSibling;l&&(o=l)}return o&&(!w(o)||!b(o))?S(o):o},Ie=e=>{var n;const o=e.target;let l;if(o instanceof HTMLTableCellElement){const r=(n=o.parentElement)==null?void 0:n.parentElement;if(r){const a=r.firstElementChild.children[o.cellIndex];a&&(l=a)}}else if(o instanceof HTMLTableRowElement){const r=o.parentElement;if(r){const a=r.firstElementChild;a&&(l=a)}}return l&&(!w(l)||!b(l))?M(l):l},W=e=>{const n=e.target;return M(n)},M=e=>{var n;let o;if(e instanceof HTMLTableCellElement){const l=(n=e.parentElement)==null?void 0:n.nextElementSibling;if(l){const r=Array.from(l.children)[e.cellIndex];r&&(o=r)}}else if(e instanceof HTMLTableRowElement){const l=e.nextElementSibling;l&&(o=l)}return o&&(!w(o)||!b(o))?M(o):o},Ne=e=>{var n;const o=e.target;let l;if(o instanceof HTMLTableCellElement){const r=(n=o.parentElement)==null?void 0:n.parentElement;if(r){const a=r.lastElementChild.children[o.cellIndex];a&&(l=a)}}else if(o instanceof HTMLTableRowElement){const r=o.parentElement;if(r){const a=r.lastElementChild;a&&(l=a)}}return l&&(!w(l)||!b(l))?S(l):l},Y=e=>{const n=e.target;return B(n)},B=e=>{var n;let o;if(e.previousElementSibling)o=e.previousElementSibling;else{const l=(n=e.parentElement)==null?void 0:n.previousElementSibling;o=l==null?void 0:l.lastElementChild}return o&&(!w(o)||!b(o))?B(o):o},z=e=>{const n=e.target;return T(n)},T=e=>{var n;let o;if(e.nextElementSibling)o=e.nextElementSibling;else{const l=(n=e.parentElement)==null?void 0:n.nextElementSibling;o=l==null?void 0:l.firstElementChild}return o&&(!w(o)||!b(o))?T(o):o},K=e=>{const n=e.target.parentElement.firstElementChild;return n&&(!w(n)||!b(n))?T(n):n},G=e=>{const n=e.target.parentElement.lastElementChild;return n&&(!w(n)||!b(n))?B(n):n},A=["alt","control","shift","meta"],$e={ArrowUp:"up",ArrowDown:"down",ArrowLeft:"left",ArrowRight:"right"},J={"keydown.up":e=>{const n=j(e);n&&(e.preventDefault(),e.stopPropagation(),n.focus())},"keydown.down":e=>{const n=W(e);n&&(e.preventDefault(),e.stopPropagation(),n.focus())},"keydown.left":e=>{const n=Y(e);e.preventDefault(),e.stopPropagation(),n&&n.focus()},"keydown.right":e=>{const n=z(e);e.preventDefault(),e.stopPropagation(),n&&n.focus()},"keydown.control.up":e=>{const n=Ie(e);n&&(e.preventDefault(),e.stopPropagation(),n.focus())},"keydown.control.down":e=>{const n=Ne(e);n&&(e.preventDefault(),e.stopPropagation(),n.focus())},"keydown.control.left":e=>{const n=K(e);n&&(e.preventDefault(),e.stopPropagation(),n.focus())},"keydown.control.right":e=>{const n=G(e);n&&(e.preventDefault(),e.stopPropagation(),n.focus())},"keydown.end":e=>{const n=G(e);n&&(e.preventDefault(),e.stopPropagation(),n.focus())},"keydown.enter":e=>{if(e.target instanceof HTMLTableCellElement){e.preventDefault(),e.stopPropagation();const n=W(e);n&&n.focus()}},"keydown.shift.enter":e=>{if(e.target instanceof HTMLTableCellElement){e.preventDefault(),e.stopPropagation();const n=j(e);n&&n.focus()}},"keydown.home":e=>{const n=K(e);n&&(e.preventDefault(),e.stopPropagation(),n.focus())},"keydown.tab":e=>{const n=z(e);n&&(e.preventDefault(),e.stopPropagation(),n.focus())},"keydown.shift.tab":e=>{const n=Y(e);n&&(e.preventDefault(),e.stopPropagation(),n.focus())}};function ve(e){const n=l=>{let r=null;l.parent&&(typeof l.parent=="string"?r=document.querySelector(l.parent):l.parent instanceof Element?r=l.parent:r=l.parent.value);let a=[];if(l.selectors)if(typeof l.selectors=="string")a=r?Array.from(r.querySelectorAll(l.selectors)):Array.from(document.querySelectorAll(l.selectors));else if(l.selectors instanceof Element)a.push(l.selectors);else if(Array.isArray(l.selectors.value))for(const s of l.selectors.value)s instanceof Element?a.push(s):a.push(s.$el);else a.push(l.selectors.value);else a=Array.from(r.children).filter(s=>w(s)&&b(s));return a},o=l=>r=>{const a=$e[r.key]||r.key.toLowerCase();if(A.includes(a))return;const s=l.handlers||J;for(const i of Object.keys(s)){const[d,...c]=i.split(".");if(d==="keydown"&&c.includes(a)){const u=s[i],h=c.filter(m=>A.includes(m)),y=A.some(m=>{const D=m.charAt(0).toUpperCase()+m.slice(1);return r.getModifierState(D)});if(h.length>0){if(y){for(const m of A)if(c.includes(m)){const D=m.charAt(0).toUpperCase()+m.slice(1);r.getModifierState(D)&&u(r)}}}else y||u(r)}}};t.onMounted(()=>{for(const l of e){const r=n(l);for(const a of r)a.addEventListener("keydown",o(l))}}),t.onBeforeUnmount(()=>{for(const l of e){const r=n(l);for(const a of r)a.removeEventListener("keydown",o(l))}})}const Oe=e=>(t.pushScopeId("data-v-4abe2c18"),e=e(),t.popScopeId(),e),Le=["event"],Pe={colspan:"5"},Fe=Oe(()=>t.createElementVNode("tr",null,[t.createElementVNode("td",null,"M"),t.createElementVNode("td",null,"T"),t.createElementVNode("td",null,"W"),t.createElementVNode("td",null,"T"),t.createElementVNode("td",null,"F"),t.createElementVNode("td",null,"S"),t.createElementVNode("td",null,"S")],-1)),qe=["onClick"],He=6,E=7,xe=t.defineComponent({__name:"ADatePicker",props:{modelValue:{},event:{}},emits:["update:value"],setup(e,{emit:n}){const o=e,l=n,r=new Date,a=t.ref(o.modelValue||void 0),s=t.ref(),i=t.ref(),d=t.ref([]);t.onMounted(async()=>{let f=new Date;f?(a.value=f,s.value=a.value.getMonth(),i.value=a.value.getFullYear()):(s.value=r.getMonth(),i.value=r.getFullYear()),c(),await t.nextTick();const C=document.getElementsByClassName("selecteddate");if(C.length>0)C[0].focus();else{const g=document.getElementsByClassName("todaysdate");g.length>0&&g[0].focus()}}),t.watch([s,i],()=>{c()});const c=()=>{d.value=[];const f=new Date(i.value,s.value,1),C=f.getDay(),g=f.setDate(f.getDate()-C);for(let k of Array(43).keys())d.value.push(g+k*864e5)},u=()=>{i.value-=1},h=()=>{i.value+=1},y=()=>{s.value==0?(s.value=11,u()):s.value-=1},m=()=>{s.value==11?(s.value=0,h()):s.value+=1},D=f=>{if(s.value===r.getMonth())return r.toDateString()===new Date(f).toDateString()},st=f=>new Date(f).toDateString()===new Date(a.value).toDateString();t.computed({get:()=>modelValue.value,set:f=>{oe(f)}});const oe=f=>{a.value=new Date(d.value[f]),l("modelValue",a.value.getTime())},it=t.computed(()=>new Date(i.value,s.value,1).toLocaleDateString(void 0,{year:"numeric",month:"long"}));return ve([{parent:"table.adate",selectors:"td",handlers:{...J,"keydown.pageup":y,"keydown.shift.pageup":u,"keydown.pagedown":m,"keydown.shift.pagedown":h,"keydown.shift.tab":()=>{},"keydown.shift.enter":()=>{}}}]),(f,C)=>(t.openBlock(),t.createElementBlock("div",{event:f.event,class:"adatepicker",tabindex:"0",ref:"adatepicker"},[t.createElementVNode("table",null,[t.createElementVNode("tr",null,[t.createElementVNode("td",{onClick:y,tabindex:-1},"<"),t.createElementVNode("th",Pe,t.toDisplayString(it.value),1),t.createElementVNode("td",{onClick:m,tabindex:-1},">")]),Fe,(t.openBlock(),t.createElementBlock(t.Fragment,null,t.renderList(He,g=>t.createElementVNode("tr",{key:g},[(t.openBlock(),t.createElementBlock(t.Fragment,null,t.renderList(E,k=>t.createElementVNode("td",{key:(g-1)*E+k,contenteditable:!1,spellcheck:!1,tabindex:0,onClick:t.withModifiers(ct=>oe(ct),["prevent","stop"]),class:t.normalizeClass({todaysDate:D(d.value[(g-1)*E+k]),selectedDate:st(d.value[(g-1)*E+k])})},t.toDisplayString(new Date(d.value[(g-1)*E+k]).getDate()),11,qe)),64))])),64))])],8,Le))}}),ft="",X=_(xe,[["__scopeId","data-v-4abe2c18"]]),Re=t.defineComponent({__name:"CollapseButton",props:{collapsed:{type:Boolean}},setup(e){return(n,o)=>(t.openBlock(),t.createElementBlock("button",{class:t.normalizeClass(["collapse-button",n.collapsed?"rotated":"unrotated"])},"Ã—",2))}}),ht="",Ue=_(Re,[["__scopeId","data-v-6f1c1b45"]]),Qe=t.defineComponent({__name:"AForm",props:{modelValue:{},data:{},readonly:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:n}){const o=e,l=n,r=t.ref(o.data||{}),a=i=>{let d={};for(const[c,u]of Object.entries(i))["component","fieldtype"].includes(c)||(d[c]=u),c==="rows"&&u&&u.length===0&&(d.rows=r.value[i.fieldname]);return d},s=t.computed({get:()=>o.modelValue.map((i,d)=>t.computed({get(){return i.value},set:c=>{o.modelValue[d].value=c,l("update:modelValue",o.modelValue)}})),set:()=>{}});return(i,d)=>(t.openBlock(),t.createElementBlock("form",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(i.modelValue,(c,u)=>(t.openBlock(),t.createBlock(t.resolveDynamicComponent(c.component),t.mergeProps({key:u,schema:c,modelValue:s.value[u].value,"onUpdate:modelValue":h=>s.value[u].value=h,data:r.value[c.fieldname],readonly:i.readonly},a(c)),null,16,["schema","modelValue","onUpdate:modelValue","data","readonly"]))),128))]))}}),yt="",I=_(Qe,[["__scopeId","data-v-82492bb4"]]),je=t.defineComponent({__name:"AFieldset",props:{schema:{},label:{},collapsible:{type:Boolean},data:{}},setup(e){const n=e,o=t.ref(n.data||[]);let l=t.ref(!1),r=t.ref(n.collapsible);const a=t.ref(n.schema);function s(i){i.preventDefault(),r.value&&(l.value=!l.value)}return(i,d)=>(t.openBlock(),t.createElementBlock("fieldset",null,[t.createElementVNode("legend",{onClick:s,onSubmit:s},[t.createTextVNode(t.toDisplayString(i.label)+" ",1),t.unref(r)?(t.openBlock(),t.createBlock(Ue,{key:0,collapsed:t.unref(l)},null,8,["collapsed"])):t.createCommentVNode("",!0)],32),t.renderSlot(i.$slots,"default",{collapsed:t.unref(l)},()=>[t.withDirectives(t.createVNode(I,{modelValue:a.value,"onUpdate:modelValue":d[0]||(d[0]=c=>a.value=c),data:o.value},null,8,["modelValue","data"]),[[t.vShow,!t.unref(l)]])],!0)]))}}),gt="",Z=_(je,[["__scopeId","data-v-cad9b578"]]),We=["id","disabled","required"],Ye=["for"],ze=["innerHTML"],Ke=t.defineComponent({__name:"ANumericInput",props:{label:{},modelValue:{},required:{type:Boolean},readonly:{type:Boolean},uuid:{},validation:{default:()=>({errorMessage:"&nbsp;"})}},emits:["update:modelValue"],setup(e,{emit:n}){const o=e,l=n,r=t.computed({get:()=>o.modelValue,set:a=>{l("update:modelValue",a)}});return(a,s)=>(t.openBlock(),t.createElementBlock("div",null,[t.withDirectives(t.createElementVNode("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>r.value=i),type:"number",id:a.uuid,disabled:a.readonly,required:a.required},null,8,We),[[t.vModelText,r.value]]),t.createElementVNode("label",{for:a.uuid},t.toDisplayString(a.label),9,Ye),t.withDirectives(t.createElementVNode("p",{innerHTML:a.validation.errorMessage},null,8,ze),[[t.vShow,a.validation.errorMessage]])]))}}),_t="",ee=_(Ke,[["__scopeId","data-v-be33e6c4"]]),te={date:"##/##/####",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"};function Ge(e){try{return Function(`"use strict";return (${e})`)()}catch{}}function Je(e){var o;let n=e.value;if(n){const l=Ge(n);if(l){const r=e.instance.locale;n=l(r)}}else{const r=(o=e.instance.schema.fieldtype)==null?void 0:o.toLowerCase();r&&te[r]&&(n=te[r])}return n}function Xe(e,n){n||(n="#");let o=e;const l=[n,"/","-","(",")"," "];for(const r of l)o=o.replaceAll(r,"");return o}function Ze(e,n,o){o||(o="#");let l=n;for(const r of e){const a=l.indexOf(o);if(a!==-1){const s=l.substring(0,a),i=l.substring(a+1);l=s+r+i}}return l.slice(0,n.length)}function et(e,n){const o=Je(n);if(!o)return;const l="#",r=e.value,a=Xe(r,l);if(a){const s=Ze(a,o,l);n.instance.maskFilled&&(n.instance.maskFilled=!s.includes(l)),e.value=s}else e.value=o}const tt=t.defineComponent({name:"ATextInput",props:{schema:{type:Object,required:!0},label:{type:String,required:!0},modelValue:{type:null},mask:{type:String},required:{type:Boolean},readonly:{type:Boolean},uuid:{type:String},validation:{type:Object,default:()=>({errorMessage:"&nbsp;"})}},setup(e,n){const o=t.ref(!1),l=t.inject("locale","");return{inputText:t.computed({get(){return e.modelValue},set(a){n.emit("update:modelValue",a)}}),locale:l,maskFilled:o}},directives:{mask:et}}),bt="",nt=["id","disabled","maxlength","required"],ot=["for"],lt=["innerHTML"];function at(e,n,o,l,r,a){const s=t.resolveDirective("mask");return t.openBlock(),t.createElementBlock("div",null,[t.withDirectives(t.createElementVNode("input",{"onUpdate:modelValue":n[0]||(n[0]=i=>e.inputText=i),id:e.uuid,disabled:e.readonly,maxlength:e.mask?e.maskFilled&&e.mask.length:void 0,required:e.required},null,8,nt),[[t.vModelText,e.inputText],[s,e.mask]]),t.createElementVNode("label",{for:e.uuid},t.toDisplayString(e.label),9,ot),t.withDirectives(t.createElementVNode("p",{innerHTML:e.validation.errorMessage},null,8,lt),[[t.vShow,e.validation.errorMessage]])])}const ne=_(tt,[["render",at],["__scopeId","data-v-76dba9b8"]]);function rt(e){e.component("ACheckbox",N),e.component("ACombobox",$),e.component("ADate",v),e.component("ADropdown",O),e.component("ADatePicker",X),e.component("AFieldset",Z),e.component("AForm",I),e.component("ANumericInput",ee),e.component("ATextInput",ne)}p.ACheckbox=N,p.AComboBox=$,p.ADate=v,p.ADatePicker=X,p.ADropdown=O,p.AFieldset=Z,p.AForm=I,p.ANumericInput=ee,p.ATextInput=ne,p.install=rt,Object.defineProperty(p,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=aform.umd.cjs.map
