{"version":3,"file":"aform.js","sources":["../src/components/form/ACheckbox.vue","../../utilities/dist/utilities.js","../src/components/form/ADate.vue","../src/components/AForm.vue","../src/components/form/AFieldset.vue","../src/components/form/ANumericInput.vue","../src/directives/mask.ts","../src/components/form/ATextInput.vue","../src/index.ts"],"sourcesContent":["<template>\n\t<div>\n\t\t<label id=\"checkbox-container\">\n\t\t\t<input v-model=\"checkbox\" type=\"checkbox\" :id=\"uuid\" class=\"checkbox\" :readonly=\"readOnly\" :required=\"required\" />\n\t\t\t<span id=\"custom-checkbox\">{{ checkbox }}</span>\n\t\t</label>\n\t\t<label :for=\"uuid\" id=\"checkbox-label\">{{ label }}</label>\n\t\t<p v-show=\"validation.errorMessage\" v-html=\"validation.errorMessage\"></p>\n\t</div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, InputHTMLAttributes } from 'vue'\n\nconst props = withDefaults(\n\tdefineProps<{\n\t\tlabel?: string\n\t\tvalue?: InputHTMLAttributes['checked']\n\t\trequired?: boolean\n\t\treadOnly?: boolean\n\t\tuuid?: string\n\t\tvalidation?: Record<string, any>\n\t}>(),\n\t{\n\t\tvalidation: () => ({ errorMessage: '&nbsp;' }),\n\t}\n)\n\nconst emit = defineEmits<{\n\t(e: 'update:value', value: InputHTMLAttributes['checked']): void\n}>()\n\nconst checkbox = computed({\n\tget() {\n\t\treturn props.value\n\t},\n\tset(value) {\n\t\temit('update:value', value)\n\t},\n})\n</script>\n\n<style scoped>\ndiv {\n\tdisplay: inline-block;\n\tmin-width: 40ch;\n\tborder: 1px solid transparent;\n\tpadding: 0rem;\n\tmargin: 0rem;\n\tmargin-right: 1ch;\n}\n\np,\nlabel {\n\tcolor: var(--input-label-color);\n\tdisplay: block;\n\tmin-height: 1.15rem;\n\tpadding: 0rem;\n\tmargin: 0rem;\n\tborder: 1px solid transparent;\n\tmargin-bottom: 0.25rem;\n}\n\np {\n\twidth: 100%;\n\tcolor: red;\n\tfont-size: 85%;\n}\n\n.checkbox {\n\tvisibility: hidden;\n}\n\n.checkbox + #custom-checkbox:after {\n\tcontent: '⬡';\n\tpadding: 1ch 0 0.5ch 0;\n\tfont-size: 120%;\n\tcursor: pointer;\n\tposition: relative;\n\tleft: -18px;\n}\n\n.checkbox:checked + #custom-checkbox:after {\n\tcontent: '⬣';\n\tpadding: 1ch 0 0.5ch 0;\n\tfont-size: 120%;\n\tcursor: pointer;\n\tposition: relative;\n\tleft: -18px;\n}\n\n#custom-checkbox {\n\tdisplay: inline-block;\n}\n\n#checkbox-container {\n\tdisplay: inline-block;\n\tmin-width: calc(100% - 1ch);\n\toutline: 1px solid transparent;\n\tborder: 1px solid var(--input-border-color);\n\tpadding: 1ch 0.5ch 0.5ch 1ch;\n\tmargin: calc(1.15rem / 2) 0 0 0;\n\theight: 1.15rem;\n\tborder-radius: 0.25rem;\n}\n\n#checkbox-container:hover {\n\tborder: 1px solid var(--input-active-border-color);\n}\n\n#checkbox-container:hover + label {\n\tcolor: var(--input-active-label-color);\n}\n\n#checkbox-label {\n\tz-index: 2;\n\tfont-size: 80%;\n\tposition: absolute;\n\tbackground: white;\n\tmargin: calc(-1.5rem - calc(2.15rem / 2)) 0 0 1ch;\n\tpadding: 0 0.25ch 0 0.25ch;\n}\n</style>\n","import { unref as Q, getCurrentScope as U, onScopeDispose as K, ref as B, watch as D, onMounted as W, onBeforeUnmount as V } from \"vue\";\nvar T;\nconst M = typeof window < \"u\", F = (e) => typeof e == \"string\", j = () => {\n};\nM && ((T = window == null ? void 0 : window.navigator) != null && T.userAgent) && /iP(ad|hone|od)/.test(window.navigator.userAgent);\nfunction H(e) {\n  return typeof e == \"function\" ? e() : Q(e);\n}\nfunction q(e) {\n  return e;\n}\nfunction G(e) {\n  return U() ? (K(e), !0) : !1;\n}\nfunction y(e) {\n  var t;\n  const r = H(e);\n  return (t = r == null ? void 0 : r.$el) != null ? t : r;\n}\nconst N = M ? window : void 0;\nfunction z(...e) {\n  let t, r, n, o;\n  if (F(e[0]) || Array.isArray(e[0]) ? ([r, n, o] = e, t = N) : [t, r, n, o] = e, !t)\n    return j;\n  Array.isArray(r) || (r = [r]), Array.isArray(n) || (n = [n]);\n  const l = [], s = () => {\n    l.forEach((c) => c()), l.length = 0;\n  }, a = (c, g, p, i) => (c.addEventListener(g, p, i), () => c.removeEventListener(g, p, i)), C = D(() => [y(t), H(o)], ([c, g]) => {\n    s(), c && l.push(...r.flatMap((p) => n.map((i) => a(c, p, i, g))));\n  }, { immediate: !0, flush: \"post\" }), d = () => {\n    C(), s();\n  };\n  return G(d), d;\n}\nconst E = typeof globalThis < \"u\" ? globalThis : typeof window < \"u\" ? window : typeof global < \"u\" ? global : typeof self < \"u\" ? self : {}, w = \"__vueuse_ssr_handlers__\";\nE[w] = E[w] || {};\nE[w];\nfunction J(e, { window: t = N, scrollTarget: r } = {}) {\n  const n = B(!1), o = () => {\n    if (!t)\n      return;\n    const l = t.document, s = y(e);\n    if (!s)\n      n.value = !1;\n    else {\n      const a = s.getBoundingClientRect();\n      n.value = a.top <= (t.innerHeight || l.documentElement.clientHeight) && a.left <= (t.innerWidth || l.documentElement.clientWidth) && a.bottom >= 0 && a.right >= 0;\n    }\n  };\n  return D(() => y(e), () => o(), { immediate: !0, flush: \"post\" }), t && z(r || t, \"scroll\", o, {\n    capture: !1,\n    passive: !0\n  }), n;\n}\nvar P;\n(function(e) {\n  e.UP = \"UP\", e.RIGHT = \"RIGHT\", e.DOWN = \"DOWN\", e.LEFT = \"LEFT\", e.NONE = \"NONE\";\n})(P || (P = {}));\nvar X = Object.defineProperty, I = Object.getOwnPropertySymbols, Y = Object.prototype.hasOwnProperty, Z = Object.prototype.propertyIsEnumerable, _ = (e, t, r) => t in e ? X(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, ee = (e, t) => {\n  for (var r in t || (t = {}))\n    Y.call(t, r) && _(e, r, t[r]);\n  if (I)\n    for (var r of I(t))\n      Z.call(t, r) && _(e, r, t[r]);\n  return e;\n};\nconst te = {\n  easeInSine: [0.12, 0, 0.39, 0],\n  easeOutSine: [0.61, 1, 0.88, 1],\n  easeInOutSine: [0.37, 0, 0.63, 1],\n  easeInQuad: [0.11, 0, 0.5, 0],\n  easeOutQuad: [0.5, 1, 0.89, 1],\n  easeInOutQuad: [0.45, 0, 0.55, 1],\n  easeInCubic: [0.32, 0, 0.67, 0],\n  easeOutCubic: [0.33, 1, 0.68, 1],\n  easeInOutCubic: [0.65, 0, 0.35, 1],\n  easeInQuart: [0.5, 0, 0.75, 0],\n  easeOutQuart: [0.25, 1, 0.5, 1],\n  easeInOutQuart: [0.76, 0, 0.24, 1],\n  easeInQuint: [0.64, 0, 0.78, 0],\n  easeOutQuint: [0.22, 1, 0.36, 1],\n  easeInOutQuint: [0.83, 0, 0.17, 1],\n  easeInExpo: [0.7, 0, 0.84, 0],\n  easeOutExpo: [0.16, 1, 0.3, 1],\n  easeInOutExpo: [0.87, 0, 0.13, 1],\n  easeInCirc: [0.55, 0, 1, 0.45],\n  easeOutCirc: [0, 0.55, 0.45, 1],\n  easeInOutCirc: [0.85, 0, 0.15, 1],\n  easeInBack: [0.36, 0, 0.66, -0.56],\n  easeOutBack: [0.34, 1.56, 0.64, 1],\n  easeInOutBack: [0.68, -0.6, 0.32, 1.6]\n};\nee({\n  linear: q\n}, te);\nconst f = (e) => {\n  let t = J(e).value;\n  return t = t && e.offsetHeight > 0, t;\n}, u = (e) => e.tabIndex >= 0, A = (e) => {\n  const t = e.target;\n  return h(t);\n}, h = (e) => {\n  var r;\n  let t;\n  if (e instanceof HTMLTableCellElement) {\n    const n = (r = e.parentElement) == null ? void 0 : r.previousElementSibling;\n    if (n) {\n      const l = Array.from(n.children)[e.cellIndex];\n      l && (t = l);\n    }\n  } else if (e instanceof HTMLTableRowElement) {\n    const n = e.previousElementSibling;\n    n && (t = n);\n  }\n  return t && (!u(t) || !f(t)) ? h(t) : t;\n}, ne = (e) => {\n  var n;\n  const t = e.target;\n  let r;\n  if (t instanceof HTMLTableCellElement) {\n    const o = (n = t.parentElement) == null ? void 0 : n.parentElement;\n    if (o) {\n      const s = o.firstElementChild.children[t.cellIndex];\n      s && (r = s);\n    }\n  } else if (t instanceof HTMLTableRowElement) {\n    const o = t.parentElement;\n    if (o) {\n      const l = o.firstElementChild;\n      l && (r = l);\n    }\n  }\n  return r && (!u(r) || !f(r)) ? b(r) : r;\n}, x = (e) => {\n  const t = e.target;\n  return b(t);\n}, b = (e) => {\n  var r;\n  let t;\n  if (e instanceof HTMLTableCellElement) {\n    const n = (r = e.parentElement) == null ? void 0 : r.nextElementSibling;\n    if (n) {\n      const l = Array.from(n.children)[e.cellIndex];\n      l && (t = l);\n    }\n  } else if (e instanceof HTMLTableRowElement) {\n    const n = e.nextElementSibling;\n    n && (t = n);\n  }\n  return t && (!u(t) || !f(t)) ? b(t) : t;\n}, re = (e) => {\n  var n;\n  const t = e.target;\n  let r;\n  if (t instanceof HTMLTableCellElement) {\n    const o = (n = t.parentElement) == null ? void 0 : n.parentElement;\n    if (o) {\n      const s = o.lastElementChild.children[t.cellIndex];\n      s && (r = s);\n    }\n  } else if (t instanceof HTMLTableRowElement) {\n    const o = t.parentElement;\n    if (o) {\n      const l = o.lastElementChild;\n      l && (r = l);\n    }\n  }\n  return r && (!u(r) || !f(r)) ? h(r) : r;\n}, k = (e) => {\n  const t = e.target;\n  return v(t);\n}, v = (e) => {\n  var r;\n  let t;\n  if (e.previousElementSibling)\n    t = e.previousElementSibling;\n  else {\n    const n = (r = e.parentElement) == null ? void 0 : r.previousElementSibling;\n    t = n == null ? void 0 : n.lastElementChild;\n  }\n  return t && (!u(t) || !f(t)) ? v(t) : t;\n}, S = (e) => {\n  const t = e.target;\n  return O(t);\n}, O = (e) => {\n  var r;\n  let t;\n  if (e.nextElementSibling)\n    t = e.nextElementSibling;\n  else {\n    const n = (r = e.parentElement) == null ? void 0 : r.nextElementSibling;\n    t = n == null ? void 0 : n.firstElementChild;\n  }\n  return t && (!u(t) || !f(t)) ? O(t) : t;\n}, L = (e) => {\n  const n = e.target.parentElement.firstElementChild;\n  return n && (!u(n) || !f(n)) ? O(n) : n;\n}, R = (e) => {\n  const n = e.target.parentElement.lastElementChild;\n  return n && (!u(n) || !f(n)) ? v(n) : n;\n}, m = [\"alt\", \"control\", \"shift\", \"meta\"], oe = {\n  ArrowUp: \"up\",\n  ArrowDown: \"down\",\n  ArrowLeft: \"left\",\n  ArrowRight: \"right\"\n}, le = {\n  \"keydown.up\": (e) => {\n    const t = A(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  },\n  \"keydown.down\": (e) => {\n    const t = x(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  },\n  \"keydown.left\": (e) => {\n    const t = k(e);\n    e.preventDefault(), e.stopPropagation(), t && t.focus();\n  },\n  \"keydown.right\": (e) => {\n    const t = S(e);\n    e.preventDefault(), e.stopPropagation(), t && t.focus();\n  },\n  \"keydown.control.up\": (e) => {\n    const t = ne(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  },\n  \"keydown.control.down\": (e) => {\n    const t = re(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  },\n  \"keydown.control.left\": (e) => {\n    const t = L(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  },\n  \"keydown.control.right\": (e) => {\n    const t = R(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  },\n  \"keydown.end\": (e) => {\n    const t = R(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  },\n  \"keydown.enter\": (e) => {\n    if (e.target instanceof HTMLTableCellElement) {\n      e.preventDefault(), e.stopPropagation();\n      const r = x(e);\n      r && r.focus();\n    }\n  },\n  \"keydown.shift.enter\": (e) => {\n    if (e.target instanceof HTMLTableCellElement) {\n      e.preventDefault(), e.stopPropagation();\n      const r = A(e);\n      r && r.focus();\n    }\n  },\n  \"keydown.home\": (e) => {\n    const t = L(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  },\n  \"keydown.tab\": (e) => {\n    const t = S(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  },\n  \"keydown.shift.tab\": (e) => {\n    const t = k(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  }\n};\nfunction ie(e) {\n  const t = (n) => {\n    let o = null;\n    n.parent && (typeof n.parent == \"string\" ? o = document.querySelector(n.parent) : n.parent instanceof Element ? o = n.parent : o = n.parent.value);\n    let l = [];\n    if (n.selectors)\n      if (typeof n.selectors == \"string\")\n        l = o ? Array.from(o.querySelectorAll(n.selectors)) : Array.from(document.querySelectorAll(n.selectors));\n      else if (n.selectors instanceof Element)\n        l.push(n.selectors);\n      else if (Array.isArray(n.selectors.value))\n        for (const s of n.selectors.value)\n          s instanceof Element ? l.push(s) : l.push(s.$el);\n      else\n        l.push(n.selectors.value);\n    else\n      l = Array.from(o.children).filter((a) => u(a) && f(a));\n    return l;\n  }, r = (n) => (o) => {\n    const l = oe[o.key] || o.key.toLowerCase();\n    if (m.includes(l))\n      return;\n    const s = n.handlers || le;\n    for (const a of Object.keys(s)) {\n      const [C, ...d] = a.split(\".\");\n      if (C === \"keydown\" && d.includes(l)) {\n        const c = s[a], g = d.filter((i) => m.includes(i)), p = m.some((i) => {\n          const $ = i.charAt(0).toUpperCase() + i.slice(1);\n          return o.getModifierState($);\n        });\n        if (g.length > 0) {\n          if (p) {\n            for (const i of m)\n              if (d.includes(i)) {\n                const $ = i.charAt(0).toUpperCase() + i.slice(1);\n                o.getModifierState($) && c(o);\n              }\n          }\n        } else\n          p || c(o);\n      }\n    }\n  };\n  W(() => {\n    for (const n of e) {\n      const o = t(n);\n      for (const l of o)\n        l.addEventListener(\"keydown\", r(n));\n    }\n  }), V(() => {\n    for (const n of e) {\n      const o = t(n);\n      for (const l of o)\n        l.removeEventListener(\"keydown\", r(n));\n    }\n  });\n}\nfunction ae(e) {\n}\nexport {\n  le as defaultKeypressHandlers,\n  ae as install,\n  ie as useKeyboardNav\n};\n//# sourceMappingURL=utilities.js.map\n","<template>\n\t<div\n\t\tv-if=\"!readonly\"\n\t\t:event=\"event\"\n\t\t:colIndex=\"colIndex\"\n\t\t:rowIndex=\"rowIndex\"\n\t\t:tableid=\"tableid\"\n\t\tclass=\"adate\"\n\t\ttabindex=\"0\"\n\t\tref=\"adatepicker\">\n\t\t<table>\n\t\t\t<tr>\n\t\t\t\t<td @click=\"previousMonth\" :tabindex=\"-1\">&lt;</td>\n\t\t\t\t<th colspan=\"5\">{{ monthAndYear }}</th>\n\t\t\t\t<td @click=\"nextMonth\" :tabindex=\"-1\">&gt;</td>\n\t\t\t</tr>\n\t\t\t<tr v-for=\"rowNo in numberOfRows\" :key=\"rowNo\">\n\t\t\t\t<!-- TODO: (style) remove inline styling and replace with theme package -->\n\t\t\t\t<td\n\t\t\t\t\tv-for=\"colNo in numberOfColumns\"\n\t\t\t\t\t:key=\"(rowNo - 1) * numberOfColumns + colNo\"\n\t\t\t\t\t:contenteditable=\"false\"\n\t\t\t\t\t:spellcheck=\"false\"\n\t\t\t\t\t:tabindex=\"0\"\n\t\t\t\t\t:style=\"{\n\t\t\t\t\t\tborder: isSelectedDate(currentDates[(rowNo - 1) * numberOfColumns + colNo])\n\t\t\t\t\t\t\t? '2px solid var(--focus-cell-outline)'\n\t\t\t\t\t\t\t: 'none',\n\t\t\t\t\t\tborderBottomColor: isTodaysDate(currentDates[(rowNo - 1) * numberOfColumns + colNo])\n\t\t\t\t\t\t\t? 'var(--focus-cell-outline)'\n\t\t\t\t\t\t\t: 'none',\n\t\t\t\t\t}\"\n\t\t\t\t\t@click.prevent.stop=\"selectDate($event, (rowNo - 1) * numberOfColumns + colNo)\"\n\t\t\t\t\t:class=\"{\n\t\t\t\t\t\ttodaysdate: isTodaysDate(currentDates[(rowNo - 1) * numberOfColumns + colNo]),\n\t\t\t\t\t\tselecteddate: isSelectedDate(currentDates[(rowNo - 1) * numberOfColumns + colNo]),\n\t\t\t\t\t}\">\n\t\t\t\t\t{{ new Date(currentDates[(rowNo - 1) * numberOfColumns + colNo]).getDate() }}\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, inject, nextTick, onMounted, ref, watch } from 'vue'\n\nimport { TableDataStore } from '@agritheory/atable'\nimport { defaultKeypressHandlers, useKeyboardNav } from '@agritheory/utilities'\n\nconst props = defineProps<{\n\tcolIndex?: number\n\trowIndex?: number\n\ttableid?: string\n\tevent?: Event\n\tindent?: number\n\treadonly?: boolean\n}>()\n\nconst tableData = inject<TableDataStore>(props.tableid)\n\nconst numberOfRows = 6\nconst numberOfColumns = 7\nconst todaysDate = new Date()\n\nconst selectedDate = ref<Date>()\nconst currentMonth = ref<number>()\nconst currentYear = ref<number>()\nconst currentDates = ref<number[]>([])\n// const width = ref('')\n\nonMounted(async () => {\n\tlet cellDate = tableData.cellData<string | number | Date>(props.colIndex, props.rowIndex)\n\tif (cellDate) {\n\t\tif (!(cellDate instanceof Date)) {\n\t\t\tcellDate = new Date(cellDate)\n\t\t}\n\n\t\tselectedDate.value = cellDate\n\t\tcurrentMonth.value = selectedDate.value.getMonth()\n\t\tcurrentYear.value = selectedDate.value.getFullYear()\n\t} else {\n\t\tcurrentMonth.value = todaysDate.getMonth()\n\t\tcurrentYear.value = todaysDate.getFullYear()\n\t}\n\n\trenderMonth()\n\tawait nextTick()\n\n\tconst $selectedDate = document.getElementsByClassName('selecteddate')\n\tif ($selectedDate.length > 0) {\n\t\t;($selectedDate[0] as HTMLElement).focus()\n\t} else {\n\t\tconst $todaysDate = document.getElementsByClassName('todaysdate')\n\t\tif ($todaysDate.length > 0) {\n\t\t\t;($todaysDate[0] as HTMLElement).focus()\n\t\t}\n\t}\n})\n\nwatch([currentMonth, currentYear], () => {\n\trenderMonth()\n})\n\nconst renderMonth = () => {\n\tcurrentDates.value = []\n\tconst firstOfMonth = new Date(currentYear.value, currentMonth.value, 1)\n\tconst monthStartWeekday = firstOfMonth.getDay()\n\tconst calendarStartDay = firstOfMonth.setDate(firstOfMonth.getDate() - monthStartWeekday)\n\tfor (let dayIndex of Array(43).keys()) {\n\t\tcurrentDates.value.push(calendarStartDay + dayIndex * 86400000)\n\t}\n}\n\nconst previousYear = () => {\n\tcurrentYear.value -= 1\n}\n\nconst nextYear = () => {\n\tcurrentYear.value += 1\n}\n\nconst previousMonth = () => {\n\tif (currentMonth.value == 0) {\n\t\tcurrentMonth.value = 11\n\t\tpreviousYear()\n\t} else {\n\t\tcurrentMonth.value -= 1\n\t}\n}\n\nconst nextMonth = () => {\n\tif (currentMonth.value == 11) {\n\t\tcurrentMonth.value = 0\n\t\tnextYear()\n\t} else {\n\t\tcurrentMonth.value += 1\n\t}\n}\n\nconst isTodaysDate = (day: string | number | Date) => {\n\tif (currentMonth.value !== todaysDate.getMonth()) {\n\t\treturn\n\t}\n\treturn todaysDate.toDateString() === new Date(day).toDateString()\n}\n\nconst isSelectedDate = (day: string | number | Date) => {\n\treturn new Date(day).toDateString() === new Date(selectedDate.value).toDateString()\n}\n\nconst selectDate = (event: Event, currentIndex: number) => {\n\tselectedDate.value = new Date(currentDates.value[currentIndex])\n\tupdateData()\n\t// TODO: (typing) figure out a way to close datepicker\n\t// context.refs.adatepicker.destroy()\n}\n\nconst updateData = () => {\n\t// TODO: check proper date format to feed back (assuming number for now)\n\ttableData.setCellData(props.rowIndex, props.colIndex, selectedDate.value.getTime())\n}\n\n// const dayWidth = computed(() => {\n// \tconst widthValue = Number(width.value.replace('px', ''))\n// \treturn `${widthValue / (numberOfColumns - 1)}px`\n// })\n\nconst monthAndYear = computed(() => {\n\treturn new Date(currentYear.value, currentMonth.value, 1).toLocaleDateString(undefined, {\n\t\tyear: 'numeric',\n\t\tmonth: 'long',\n\t})\n})\n\n// setup keyboard navigation\nuseKeyboardNav([\n\t{\n\t\tparent: 'table.adate',\n\t\tselectors: 'td',\n\t\thandlers: {\n\t\t\t...defaultKeypressHandlers,\n\t\t\t...{\n\t\t\t\t'keydown.pageup': previousMonth,\n\t\t\t\t'keydown.shift.pageup': previousYear,\n\t\t\t\t'keydown.pagedown': nextMonth,\n\t\t\t\t'keydown.shift.pagedown': nextYear,\n\t\t\t},\n\t\t},\n\t},\n])\n</script>\n\n<style scoped>\n@import '@/theme/aform.css';\n\n.adate {\n\tborder: 2px solid var(--focus-cell-outline);\n\tposition: absolute;\n\tz-index: 100;\n\tfont-size: var(--table-font-size);\n\tdisplay: inline-table;\n\tbackground-color: var(--row-color-zebra-light);\n\tcolor: var(--cell-text-color);\n\toutline: none;\n\twidth: calc(100% - 4px);\n}\n\n.adate tr {\n\theight: 1.15rem;\n\ttext-align: center;\n\tvertical-align: middle;\n}\n\n.adate td {\n\tborder: 2px solid transparent;\n\tmin-width: 2.25ch; /* this doesn't zoom correctly */\n}\n\n.adate td:hover {\n\tborder: 2px solid var(--focus-cell-outline);\n}\n\n.adate td {\n\tborder: 1px;\n\tborder-style: solid;\n\tborder-color: var(--cell-border-color);\n\tborder-radius: 0px;\n\tbox-sizing: border-box;\n\tmargin: 0px;\n\toutline: none;\n\tbox-shadow: none;\n\tcolor: var(--cell-text-color);\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\tpadding-left: 0.5ch;\n\tpadding-right: 0.5ch;\n}\n\n.adate td:focus,\n.adate td:focus-within {\n\tbackground-color: var(--focus-cell-background);\n\toutline-width: 2px;\n\toutline-style: solid;\n\toutline-color: var(--focus-cell-outline);\n\tbox-shadow: none;\n\toverflow: hidden;\n\tmin-height: 1.15em;\n\tmax-height: 1.15em;\n\toverflow: hidden;\n}\n\nbutton {\n\tbackground-color: var(--row-color-zebra-light);\n\tborder: none;\n\tpadding: 0px;\n\tmargin: 0px;\n\tcolor: var(--cell-text-color);\n\toutline: none;\n\tfont-size: var(--table-font-size);\n}\n\n.dateheader {\n\tfont-weight: 700;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n}\n\n.adate .todaysdate {\n\tborder-bottom-color: var(--focus-cell-outline);\n}\n\n.adate .selecteddate {\n\tborder: 2px solid var(--focus-cell-outline);\n}\n</style>\n","<template>\n\t<form>\n\t\t<component\n\t\t\tv-for=\"(componentObj, key) in modelValue\"\n\t\t\t:is=\"componentObj.component\"\n\t\t\t:key=\"key\"\n\t\t\t:schema=\"componentObj\"\n\t\t\tv-model=\"childModels[key].value\"\n\t\t\t:data=\"formData[componentObj.fieldname]\"\n\t\t\t:readonly=\"readonly\"\n\t\t\tv-bind=\"componentProps(componentObj)\">\n\t\t</component>\n\t</form>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed } from 'vue'\n\nimport { SchemaTypes } from 'types'\n\nconst props = defineProps<{\n\tmodelValue: SchemaTypes[]\n\tdata: Record<string, any>\n\treadonly?: boolean\n}>()\n\nconst emit = defineEmits(['update:modelValue'])\n\nconst formData = ref(props.data || {})\n\nconst componentProps = (componentObj: SchemaTypes) => {\n\tlet propsToPass = {}\n\tfor (const [key, value] of Object.entries(componentObj)) {\n\t\tif (!['component', 'fieldtype'].includes(key)) {\n\t\t\tpropsToPass[key] = value\n\t\t}\n\n\t\t// handle ATable data formats in case the table is nested under an AFormm;\n\t\t// TODO: there's probably a better way to do this\n\t\tif (key === 'rows') {\n\t\t\tif (value && (value as any[]).length === 0) {\n\t\t\t\tpropsToPass['rows'] = formData.value[componentObj.fieldname]\n\t\t\t}\n\t\t}\n\t}\n\treturn propsToPass\n}\n\nconst childModels = computed({\n\tget: () => {\n\t\treturn props.modelValue.map((val, i) => {\n\t\t\treturn computed({\n\t\t\t\tget() {\n\t\t\t\t\treturn val.value\n\t\t\t\t},\n\t\t\t\tset: newValue => {\n\t\t\t\t\t// Find the component in modelValue and update it\n\t\t\t\t\tprops.modelValue[i].value = newValue\n\t\t\t\t\temit('update:modelValue', props.modelValue)\n\t\t\t\t},\n\t\t\t})\n\t\t})\n\t},\n\tset: (/* newValue */) => {\n\t\t//emit('update:modelValue', '')\n\t},\n})\n</script>\n\n<style scoped>\nform {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\tjustify-content: flex-start;\n\talign-items: baseline;\n}\n</style>\n","<template>\n\t<fieldset>\n\t\t<legend @click=\"toggleCollapse\" @submit=\"toggleCollapse\">\n\t\t\t{{ label }}\n\t\t\t<CollapseButton v-if=\"collapsible\" :collapsed=\"collapsed\" />\n\t\t</legend>\n\t\t<slot :collapsed=\"collapsed\">\n\t\t\t<AForm v-show=\"!collapsed\" v-model=\"formSchema\" :data=\"formData\" />\n\t\t</slot>\n\t</fieldset>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from 'vue'\n\nimport CollapseButton from '@/components/base/CollapseButton.vue'\nimport AForm from '@/components/AForm.vue'\nimport { SchemaTypes } from 'types/index'\n\nconst props = defineProps<{\n\tschema: SchemaTypes[]\n\tlabel: string\n\tcollapsible?: boolean\n\tdata?: any\n}>()\n\nconst formData = ref(props.data || [])\nlet collapsed = ref(false)\nlet collapsible = ref(props.collapsible)\n\nconst formSchema = ref(props.schema)\nfunction toggleCollapse(event: Event) {\n\tevent.preventDefault()\n\tif (!collapsible.value) {\n\t\treturn\n\t}\n\tcollapsed.value = !collapsed.value\n}\n</script>\n\n<style scoped>\nfieldset {\n\tmax-width: 100%;\n\twidth: 100%;\n\tmargin-right: 2ch;\n\tborder: 1px solid transparent;\n\tborder-bottom: 1px solid var(--gray-50);\n}\n\nlegend {\n\twidth: 100%;\n\theight: 1.15rem;\n\tborder: 1px solid transparent;\n\tpadding-bottom: 0.5rem;\n\tfont-size: 110%;\n\tfont-weight: 600;\n\tuser-select: none;\n}\n\n.collapse-button {\n\tfloat: right;\n}\n</style>\n","<template>\n\t<div>\n\t\t<input v-model=\"inputNumber\" type=\"number\" :id=\"uuid\" :disabled=\"readonly\" :required=\"required\" />\n\t\t<label :for=\"uuid\">{{ label }}</label>\n\t\t<p v-show=\"validation.errorMessage\" v-html=\"validation.errorMessage\"></p>\n\t</div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\n\nconst props = withDefaults(\n\tdefineProps<{\n\t\tlabel: string\n\t\tmodelValue: any\n\t\trequired?: boolean\n\t\treadonly?: boolean\n\t\tuuid?: string\n\t\tvalidation?: Record<string, any>\n\t}>(),\n\t{\n\t\tvalidation: () => ({ errorMessage: '&nbsp;' }),\n\t}\n)\nconst emit = defineEmits(['update:modelValue'])\nconst inputNumber = computed({\n\tget: () => {\n\t\treturn props.modelValue\n\t},\n\tset: newValue => {\n\t\temit('update:modelValue', newValue)\n\t},\n})\n</script>\n\n<style scoped>\ndiv {\n\tmin-width: 40ch;\n\tborder: 1px solid transparent;\n\tpadding: 0rem;\n\tmargin: 0rem;\n\tmargin-right: 1ch;\n}\n\ninput {\n\twidth: calc(100% - 1ch);\n\toutline: 1px solid transparent;\n\tborder: 1px solid var(--input-border-color);\n\tpadding: 1ch 0.5ch 0.5ch 1ch;\n\tmargin: calc(1.15rem / 2) 0 0 0;\n\tmin-height: 1.15rem;\n\tborder-radius: 0.25rem;\n}\n\np,\nlabel {\n\tcolor: var(--input-label-color);\n\tdisplay: block;\n\tmin-height: 1.15rem;\n\tpadding: 0rem;\n\tmargin: 0rem;\n\tborder: 1px solid transparent;\n\tmargin-bottom: 0.25rem;\n}\n\np {\n\twidth: 100%;\n\tcolor: red;\n\tfont-size: 85%;\n}\n\nlabel {\n\tz-index: 2;\n\tfont-size: 80%;\n\tposition: absolute;\n\tbackground: white;\n\tmargin: calc(-1.5rem - calc(2.15rem / 2)) 0 0 1ch;\n\tpadding: 0 0.25ch 0 0.25ch;\n}\n\ninput:focus {\n\tborder: 1px solid var(--input-active-border-color);\n}\n\ninput:focus + label {\n\tcolor: var(--input-active-label-color);\n}\n</style>\n","import type { FormSchema } from 'types'\nimport { DirectiveBinding } from 'vue'\n\nconst NAMED_MASKS = {\n\tdate: '##/##/####',\n\tdatetime: '####/##/## ##:##',\n\ttime: '##:##',\n\tfulltime: '##:##:##',\n\tphone: '(###) ### - ####',\n\tcard: '#### #### #### ####',\n}\n\nfunction extractMaskFn(mask: string): ((args: any) => string) | void {\n\ttry {\n\t\t// eslint-disable-next-line @typescript-eslint/no-implied-eval\n\t\treturn Function(`\"use strict\";return (${mask})`)()\n\t} catch (error) {\n\t\tif (error instanceof ReferenceError) {\n\t\t\t// assume mask is a string\n\t\t}\n\t}\n}\n\nfunction getMask(binding: DirectiveBinding<string>) {\n\tlet mask = binding.value\n\n\tif (mask) {\n\t\tconst maskFn = extractMaskFn(mask)\n\t\tif (maskFn) {\n\t\t\t// TODO: (state) replace with state management;\n\t\t\t// pass the entire form/table data to the function\n\t\t\tconst locale = binding.instance['locale']\n\t\t\tmask = maskFn(locale)\n\t\t}\n\t} else {\n\t\t// TODO: (state) handle using state management\n\t\tconst schema: FormSchema = binding.instance['schema']\n\t\tconst fieldType: string | undefined = schema.fieldtype?.toLowerCase()\n\t\tif (fieldType && NAMED_MASKS[fieldType]) {\n\t\t\tmask = NAMED_MASKS[fieldType]\n\t\t}\n\t}\n\n\treturn mask\n}\n\nfunction unmaskInput(input: string, maskToken?: string) {\n\tif (!maskToken) {\n\t\tmaskToken = '#'\n\t}\n\n\tlet unmaskedInput = input\n\tconst maskChars = [maskToken, '/', '-', '(', ')', ' ']\n\n\tfor (const char of maskChars) {\n\t\tunmaskedInput = unmaskedInput.replaceAll(char, '')\n\t}\n\n\treturn unmaskedInput\n}\n\nfunction fillMask(input: string, mask: string, maskToken?: string) {\n\tif (!maskToken) {\n\t\tmaskToken = '#'\n\t}\n\n\tlet replacement = mask\n\tfor (const inputChar of input) {\n\t\tconst replaceIndex = replacement.indexOf(maskToken)\n\t\tif (replaceIndex !== -1) {\n\t\t\tconst prefix = replacement.substring(0, replaceIndex)\n\t\t\tconst suffix = replacement.substring(replaceIndex + 1)\n\t\t\treplacement = prefix + inputChar + suffix\n\t\t}\n\t}\n\n\treturn replacement.slice(0, mask.length)\n}\n\nexport function useStringMask(el: HTMLInputElement, binding: DirectiveBinding<string>) {\n\tconst mask = getMask(binding)\n\tif (!mask) return\n\n\tconst maskToken = '#'\n\tconst inputText = el.value\n\n\t// process input value with mask\n\tconst unmaskedInput = unmaskInput(inputText, maskToken)\n\tif (unmaskedInput) {\n\t\tconst replacement = fillMask(unmaskedInput, mask, maskToken)\n\n\t\t// TODO: (state) this is very opinionated;\n\t\t// most likely fixed with state management;\n\t\t// a better way could be to emit back to instance;\n\n\t\tif (binding.instance['maskFilled']) {\n\t\t\tbinding.instance['maskFilled'] = !replacement.includes(maskToken)\n\t\t}\n\n\t\tel.value = replacement\n\t} else {\n\t\tel.value = mask\n\t}\n}\n","<template>\n\t<div>\n\t\t<input\n\t\t\tv-model=\"inputText\"\n\t\t\t:id=\"uuid\"\n\t\t\t:disabled=\"readonly\"\n\t\t\t:maxlength=\"mask ? maskFilled && mask.length : undefined\"\n\t\t\t:required=\"required\"\n\t\t\tv-mask=\"mask\" />\n\t\t<label :for=\"uuid\">{{ label }} </label>\n\t\t<p v-show=\"validation.errorMessage\" v-html=\"validation.errorMessage\"></p>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, inject, PropType, ref, computed } from 'vue'\n\nimport { FormSchema } from 'types'\nimport { useStringMask } from '@/directives/mask'\n\n// TODO: when moving to composition API, figure out how to provide mask\n// as a custom directive\nexport default defineComponent({\n\tname: 'ATextInput',\n\tprops: {\n\t\tschema: {\n\t\t\ttype: Object as PropType<FormSchema>,\n\t\t\trequired: true,\n\t\t},\n\t\tlabel: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tmodelValue: {\n\t\t\ttype: null as unknown as PropType<string | number>,\n\t\t},\n\t\tmask: {\n\t\t\ttype: String,\n\t\t},\n\t\trequired: {\n\t\t\ttype: Boolean,\n\t\t},\n\t\treadonly: {\n\t\t\ttype: Boolean,\n\t\t},\n\t\tuuid: {\n\t\t\ttype: String,\n\t\t},\n\t\tvalidation: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({ errorMessage: '&nbsp;' }),\n\t\t},\n\t},\n\tsetup(props, context) {\n\t\tconst maskFilled = ref(false)\n\n\t\t// TODO: (state) replace with state management\n\t\tconst locale = inject<string>('locale', '')\n\n\t\tconst inputText = computed({\n\t\t\tget() {\n\t\t\t\treturn props.modelValue\n\t\t\t},\n\t\t\tset(newValue) {\n\t\t\t\tcontext.emit('update:modelValue', newValue)\n\t\t\t},\n\t\t})\n\n\t\treturn { inputText, locale, maskFilled }\n\t},\n\tdirectives: {\n\t\tmask: useStringMask,\n\t},\n})\n</script>\n\n<style scoped>\ndiv {\n\tmin-width: 40ch;\n\tborder: 1px solid transparent;\n\tpadding: 0rem;\n\tmargin: 0rem;\n\tmargin-right: 1ch;\n}\n\ninput {\n\twidth: calc(100% - 1ch);\n\toutline: 1px solid transparent;\n\tborder: 1px solid var(--input-border-color);\n\tpadding: 1ch 0.5ch 0.5ch 1ch;\n\tmargin: calc(1.15rem / 2) 0 0 0;\n\tmin-height: 1.15rem;\n\tborder-radius: 0.25rem;\n}\n\np,\nlabel {\n\tcolor: var(--input-label-color);\n\tdisplay: block;\n\tmin-height: 1.15rem;\n\tpadding: 0rem;\n\tmargin: 0rem;\n\tborder: 1px solid transparent;\n\tmargin-bottom: 0.25rem;\n}\n\np {\n\twidth: 100%;\n\tcolor: red;\n\tfont-size: 85%;\n}\n\nlabel {\n\tz-index: 2;\n\tfont-size: 80%;\n\tposition: absolute;\n\tbackground: white;\n\tmargin: calc(-1.5rem - calc(2.15rem / 2)) 0 0 1ch;\n\tpadding: 0 0.25ch 0 0.25ch;\n}\n\ninput:focus {\n\tborder: 1px solid var(--input-active-border-color);\n}\n\ninput:focus + label {\n\tcolor: var(--input-active-label-color);\n}\n</style>\n","import { App } from 'vue'\n\nimport ACheckbox from '@/components/form/ACheckbox.vue'\nimport AComboBox from '@/components/form/AComboBox.vue'\nimport ADate from '@/components/form/ADate.vue'\nimport AFieldset from '@/components/form/AFieldset.vue'\nimport AForm from '@/components/AForm.vue'\nimport ANumericInput from '@/components/form/ANumericInput.vue'\nimport ATextInput from '@/components/form/ATextInput.vue'\n// import { ACurrency } from '@/components/form/ACurrency.vue'\n// import { AQuantity } from '@/components/form/AQuantity.vue'\n\nfunction install(app: App /* options */) {\n\tapp.component('ACheckbox', ACheckbox)\n\tapp.component('ACombobox', AComboBox)\n\tapp.component('ADate', ADate)\n\tapp.component('AFieldset', AFieldset)\n\tapp.component('AForm', AForm)\n\tapp.component('ANumericInput', ANumericInput)\n\tapp.component('ATextInput', ATextInput)\n\t// app.component('ACurrency', ACurrency)\n\t// app.component('AQuantity', AQuantity)\n}\n\nexport { ACheckbox, AComboBox, ADate, AFieldset, AForm, ANumericInput, ATextInput, install }\n"],"names":["checkbox","computed","props","value","emit","T","M","F","j","H","Q","q","G","U","K","y","r","N","z","l","c","a","g","p","i","C","D","d","E","w","J","B","P","X","I","Y","Z","_","ee","te","f","u","A","h","t","ne","n","s","b","x","re","k","v","S","O","L","R","m","oe","le","ie","$","W","V","tableData","inject","numberOfRows","numberOfColumns","todaysDate","selectedDate","ref","currentMonth","currentYear","currentDates","onMounted","cellDate","renderMonth","nextTick","$selectedDate","$todaysDate","watch","firstOfMonth","monthStartWeekday","calendarStartDay","dayIndex","previousYear","nextYear","previousMonth","nextMonth","isTodaysDate","day","isSelectedDate","selectDate","event","currentIndex","updateData","monthAndYear","useKeyboardNav","defaultKeypressHandlers","formData","componentProps","componentObj","propsToPass","key","childModels","val","newValue","collapsed","collapsible","formSchema","toggleCollapse","inputNumber","NAMED_MASKS","extractMaskFn","mask","getMask","binding","maskFn","locale","fieldType","_a","unmaskInput","input","maskToken","unmaskedInput","maskChars","char","fillMask","replacement","inputChar","replaceIndex","prefix","suffix","useStringMask","el","inputText","_sfc_main","defineComponent","context","maskFilled","_resolveDirective","_withDirectives","_createElementVNode","_cache","$event","_ctx","_hoisted_1","_vModelText","_directive_mask","_toDisplayString","_hoisted_2","_hoisted_3","install","app","ACheckbox","AComboBox","ADate","AFieldset","AForm","ANumericInput","ATextInput"],"mappings":"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"}