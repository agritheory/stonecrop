{"version":3,"file":"aform.umd.cjs","sources":["../src/components/form/ACheckbox.vue","../../utilities/dist/utilities.js","../src/components/form/ADate.vue","../src/components/AForm.vue","../src/components/form/AFieldset.vue","../src/components/form/ANumericInput.vue","../src/directives/mask.ts","../src/components/form/ATextInput.vue","../src/index.ts"],"sourcesContent":["<template>\n\t<div>\n\t\t<label id=\"checkbox-container\">\n\t\t\t<input v-model=\"checkbox\" type=\"checkbox\" :id=\"uuid\" class=\"checkbox\" :readonly=\"readOnly\" :required=\"required\" />\n\t\t\t<span id=\"custom-checkbox\">{{ checkbox }}</span>\n\t\t</label>\n\t\t<label :for=\"uuid\" id=\"checkbox-label\">{{ label }}</label>\n\t\t<p v-show=\"validation.errorMessage\" v-html=\"validation.errorMessage\"></p>\n\t</div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, InputHTMLAttributes } from 'vue'\n\nconst props = withDefaults(\n\tdefineProps<{\n\t\tlabel?: string\n\t\tvalue?: InputHTMLAttributes['checked']\n\t\trequired?: boolean\n\t\treadOnly?: boolean\n\t\tuuid?: string\n\t\tvalidation?: Record<string, any>\n\t}>(),\n\t{\n\t\tvalidation: () => ({ errorMessage: '&nbsp;' }),\n\t}\n)\n\nconst emit = defineEmits<{\n\t(e: 'update:value', value: InputHTMLAttributes['checked']): void\n}>()\n\nconst checkbox = computed({\n\tget() {\n\t\treturn props.value\n\t},\n\tset(value) {\n\t\temit('update:value', value)\n\t},\n})\n</script>\n\n<style scoped>\ndiv {\n\tdisplay: inline-block;\n\tmin-width: 40ch;\n\tborder: 1px solid transparent;\n\tpadding: 0rem;\n\tmargin: 0rem;\n\tmargin-right: 1ch;\n}\n\np,\nlabel {\n\tcolor: var(--input-label-color);\n\tdisplay: block;\n\tmin-height: 1.15rem;\n\tpadding: 0rem;\n\tmargin: 0rem;\n\tborder: 1px solid transparent;\n\tmargin-bottom: 0.25rem;\n}\n\np {\n\twidth: 100%;\n\tcolor: red;\n\tfont-size: 85%;\n}\n\n.checkbox {\n\tvisibility: hidden;\n}\n\n.checkbox + #custom-checkbox:after {\n\tcontent: '⬡';\n\tpadding: 1ch 0 0.5ch 0;\n\tfont-size: 120%;\n\tcursor: pointer;\n\tposition: relative;\n\tleft: -18px;\n}\n\n.checkbox:checked + #custom-checkbox:after {\n\tcontent: '⬣';\n\tpadding: 1ch 0 0.5ch 0;\n\tfont-size: 120%;\n\tcursor: pointer;\n\tposition: relative;\n\tleft: -18px;\n}\n\n#custom-checkbox {\n\tdisplay: inline-block;\n}\n\n#checkbox-container {\n\tdisplay: inline-block;\n\tmin-width: calc(100% - 1ch);\n\toutline: 1px solid transparent;\n\tborder: 1px solid var(--input-border-color);\n\tpadding: 1ch 0.5ch 0.5ch 1ch;\n\tmargin: calc(1.15rem / 2) 0 0 0;\n\theight: 1.15rem;\n\tborder-radius: 0.25rem;\n}\n\n#checkbox-container:hover {\n\tborder: 1px solid var(--input-active-border-color);\n}\n\n#checkbox-container:hover + label {\n\tcolor: var(--input-active-label-color);\n}\n\n#checkbox-label {\n\tz-index: 2;\n\tfont-size: 80%;\n\tposition: absolute;\n\tbackground: white;\n\tmargin: calc(-1.5rem - calc(2.15rem / 2)) 0 0 1ch;\n\tpadding: 0 0.25ch 0 0.25ch;\n}\n</style>\n","import { unref as Q, getCurrentScope as U, onScopeDispose as K, ref as B, watch as D, onMounted as W, onBeforeUnmount as V } from \"vue\";\nvar T;\nconst M = typeof window < \"u\", F = (e) => typeof e == \"string\", j = () => {\n};\nM && ((T = window == null ? void 0 : window.navigator) != null && T.userAgent) && /iP(ad|hone|od)/.test(window.navigator.userAgent);\nfunction H(e) {\n  return typeof e == \"function\" ? e() : Q(e);\n}\nfunction q(e) {\n  return e;\n}\nfunction G(e) {\n  return U() ? (K(e), !0) : !1;\n}\nfunction y(e) {\n  var t;\n  const r = H(e);\n  return (t = r == null ? void 0 : r.$el) != null ? t : r;\n}\nconst N = M ? window : void 0;\nfunction z(...e) {\n  let t, r, n, o;\n  if (F(e[0]) || Array.isArray(e[0]) ? ([r, n, o] = e, t = N) : [t, r, n, o] = e, !t)\n    return j;\n  Array.isArray(r) || (r = [r]), Array.isArray(n) || (n = [n]);\n  const l = [], s = () => {\n    l.forEach((c) => c()), l.length = 0;\n  }, a = (c, g, p, i) => (c.addEventListener(g, p, i), () => c.removeEventListener(g, p, i)), C = D(() => [y(t), H(o)], ([c, g]) => {\n    s(), c && l.push(...r.flatMap((p) => n.map((i) => a(c, p, i, g))));\n  }, { immediate: !0, flush: \"post\" }), d = () => {\n    C(), s();\n  };\n  return G(d), d;\n}\nconst E = typeof globalThis < \"u\" ? globalThis : typeof window < \"u\" ? window : typeof global < \"u\" ? global : typeof self < \"u\" ? self : {}, w = \"__vueuse_ssr_handlers__\";\nE[w] = E[w] || {};\nE[w];\nfunction J(e, { window: t = N, scrollTarget: r } = {}) {\n  const n = B(!1), o = () => {\n    if (!t)\n      return;\n    const l = t.document, s = y(e);\n    if (!s)\n      n.value = !1;\n    else {\n      const a = s.getBoundingClientRect();\n      n.value = a.top <= (t.innerHeight || l.documentElement.clientHeight) && a.left <= (t.innerWidth || l.documentElement.clientWidth) && a.bottom >= 0 && a.right >= 0;\n    }\n  };\n  return D(() => y(e), () => o(), { immediate: !0, flush: \"post\" }), t && z(r || t, \"scroll\", o, {\n    capture: !1,\n    passive: !0\n  }), n;\n}\nvar P;\n(function(e) {\n  e.UP = \"UP\", e.RIGHT = \"RIGHT\", e.DOWN = \"DOWN\", e.LEFT = \"LEFT\", e.NONE = \"NONE\";\n})(P || (P = {}));\nvar X = Object.defineProperty, I = Object.getOwnPropertySymbols, Y = Object.prototype.hasOwnProperty, Z = Object.prototype.propertyIsEnumerable, _ = (e, t, r) => t in e ? X(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, ee = (e, t) => {\n  for (var r in t || (t = {}))\n    Y.call(t, r) && _(e, r, t[r]);\n  if (I)\n    for (var r of I(t))\n      Z.call(t, r) && _(e, r, t[r]);\n  return e;\n};\nconst te = {\n  easeInSine: [0.12, 0, 0.39, 0],\n  easeOutSine: [0.61, 1, 0.88, 1],\n  easeInOutSine: [0.37, 0, 0.63, 1],\n  easeInQuad: [0.11, 0, 0.5, 0],\n  easeOutQuad: [0.5, 1, 0.89, 1],\n  easeInOutQuad: [0.45, 0, 0.55, 1],\n  easeInCubic: [0.32, 0, 0.67, 0],\n  easeOutCubic: [0.33, 1, 0.68, 1],\n  easeInOutCubic: [0.65, 0, 0.35, 1],\n  easeInQuart: [0.5, 0, 0.75, 0],\n  easeOutQuart: [0.25, 1, 0.5, 1],\n  easeInOutQuart: [0.76, 0, 0.24, 1],\n  easeInQuint: [0.64, 0, 0.78, 0],\n  easeOutQuint: [0.22, 1, 0.36, 1],\n  easeInOutQuint: [0.83, 0, 0.17, 1],\n  easeInExpo: [0.7, 0, 0.84, 0],\n  easeOutExpo: [0.16, 1, 0.3, 1],\n  easeInOutExpo: [0.87, 0, 0.13, 1],\n  easeInCirc: [0.55, 0, 1, 0.45],\n  easeOutCirc: [0, 0.55, 0.45, 1],\n  easeInOutCirc: [0.85, 0, 0.15, 1],\n  easeInBack: [0.36, 0, 0.66, -0.56],\n  easeOutBack: [0.34, 1.56, 0.64, 1],\n  easeInOutBack: [0.68, -0.6, 0.32, 1.6]\n};\nee({\n  linear: q\n}, te);\nconst f = (e) => {\n  let t = J(e).value;\n  return t = t && e.offsetHeight > 0, t;\n}, u = (e) => e.tabIndex >= 0, A = (e) => {\n  const t = e.target;\n  return h(t);\n}, h = (e) => {\n  var r;\n  let t;\n  if (e instanceof HTMLTableCellElement) {\n    const n = (r = e.parentElement) == null ? void 0 : r.previousElementSibling;\n    if (n) {\n      const l = Array.from(n.children)[e.cellIndex];\n      l && (t = l);\n    }\n  } else if (e instanceof HTMLTableRowElement) {\n    const n = e.previousElementSibling;\n    n && (t = n);\n  }\n  return t && (!u(t) || !f(t)) ? h(t) : t;\n}, ne = (e) => {\n  var n;\n  const t = e.target;\n  let r;\n  if (t instanceof HTMLTableCellElement) {\n    const o = (n = t.parentElement) == null ? void 0 : n.parentElement;\n    if (o) {\n      const s = o.firstElementChild.children[t.cellIndex];\n      s && (r = s);\n    }\n  } else if (t instanceof HTMLTableRowElement) {\n    const o = t.parentElement;\n    if (o) {\n      const l = o.firstElementChild;\n      l && (r = l);\n    }\n  }\n  return r && (!u(r) || !f(r)) ? b(r) : r;\n}, x = (e) => {\n  const t = e.target;\n  return b(t);\n}, b = (e) => {\n  var r;\n  let t;\n  if (e instanceof HTMLTableCellElement) {\n    const n = (r = e.parentElement) == null ? void 0 : r.nextElementSibling;\n    if (n) {\n      const l = Array.from(n.children)[e.cellIndex];\n      l && (t = l);\n    }\n  } else if (e instanceof HTMLTableRowElement) {\n    const n = e.nextElementSibling;\n    n && (t = n);\n  }\n  return t && (!u(t) || !f(t)) ? b(t) : t;\n}, re = (e) => {\n  var n;\n  const t = e.target;\n  let r;\n  if (t instanceof HTMLTableCellElement) {\n    const o = (n = t.parentElement) == null ? void 0 : n.parentElement;\n    if (o) {\n      const s = o.lastElementChild.children[t.cellIndex];\n      s && (r = s);\n    }\n  } else if (t instanceof HTMLTableRowElement) {\n    const o = t.parentElement;\n    if (o) {\n      const l = o.lastElementChild;\n      l && (r = l);\n    }\n  }\n  return r && (!u(r) || !f(r)) ? h(r) : r;\n}, k = (e) => {\n  const t = e.target;\n  return v(t);\n}, v = (e) => {\n  var r;\n  let t;\n  if (e.previousElementSibling)\n    t = e.previousElementSibling;\n  else {\n    const n = (r = e.parentElement) == null ? void 0 : r.previousElementSibling;\n    t = n == null ? void 0 : n.lastElementChild;\n  }\n  return t && (!u(t) || !f(t)) ? v(t) : t;\n}, S = (e) => {\n  const t = e.target;\n  return O(t);\n}, O = (e) => {\n  var r;\n  let t;\n  if (e.nextElementSibling)\n    t = e.nextElementSibling;\n  else {\n    const n = (r = e.parentElement) == null ? void 0 : r.nextElementSibling;\n    t = n == null ? void 0 : n.firstElementChild;\n  }\n  return t && (!u(t) || !f(t)) ? O(t) : t;\n}, L = (e) => {\n  const n = e.target.parentElement.firstElementChild;\n  return n && (!u(n) || !f(n)) ? O(n) : n;\n}, R = (e) => {\n  const n = e.target.parentElement.lastElementChild;\n  return n && (!u(n) || !f(n)) ? v(n) : n;\n}, m = [\"alt\", \"control\", \"shift\", \"meta\"], oe = {\n  ArrowUp: \"up\",\n  ArrowDown: \"down\",\n  ArrowLeft: \"left\",\n  ArrowRight: \"right\"\n}, le = {\n  \"keydown.up\": (e) => {\n    const t = A(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  },\n  \"keydown.down\": (e) => {\n    const t = x(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  },\n  \"keydown.left\": (e) => {\n    const t = k(e);\n    e.preventDefault(), e.stopPropagation(), t && t.focus();\n  },\n  \"keydown.right\": (e) => {\n    const t = S(e);\n    e.preventDefault(), e.stopPropagation(), t && t.focus();\n  },\n  \"keydown.control.up\": (e) => {\n    const t = ne(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  },\n  \"keydown.control.down\": (e) => {\n    const t = re(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  },\n  \"keydown.control.left\": (e) => {\n    const t = L(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  },\n  \"keydown.control.right\": (e) => {\n    const t = R(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  },\n  \"keydown.end\": (e) => {\n    const t = R(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  },\n  \"keydown.enter\": (e) => {\n    if (e.target instanceof HTMLTableCellElement) {\n      e.preventDefault(), e.stopPropagation();\n      const r = x(e);\n      r && r.focus();\n    }\n  },\n  \"keydown.shift.enter\": (e) => {\n    if (e.target instanceof HTMLTableCellElement) {\n      e.preventDefault(), e.stopPropagation();\n      const r = A(e);\n      r && r.focus();\n    }\n  },\n  \"keydown.home\": (e) => {\n    const t = L(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  },\n  \"keydown.tab\": (e) => {\n    const t = S(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  },\n  \"keydown.shift.tab\": (e) => {\n    const t = k(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  }\n};\nfunction ie(e) {\n  const t = (n) => {\n    let o = null;\n    n.parent && (typeof n.parent == \"string\" ? o = document.querySelector(n.parent) : n.parent instanceof Element ? o = n.parent : o = n.parent.value);\n    let l = [];\n    if (n.selectors)\n      if (typeof n.selectors == \"string\")\n        l = o ? Array.from(o.querySelectorAll(n.selectors)) : Array.from(document.querySelectorAll(n.selectors));\n      else if (n.selectors instanceof Element)\n        l.push(n.selectors);\n      else if (Array.isArray(n.selectors.value))\n        for (const s of n.selectors.value)\n          s instanceof Element ? l.push(s) : l.push(s.$el);\n      else\n        l.push(n.selectors.value);\n    else\n      l = Array.from(o.children).filter((a) => u(a) && f(a));\n    return l;\n  }, r = (n) => (o) => {\n    const l = oe[o.key] || o.key.toLowerCase();\n    if (m.includes(l))\n      return;\n    const s = n.handlers || le;\n    for (const a of Object.keys(s)) {\n      const [C, ...d] = a.split(\".\");\n      if (C === \"keydown\" && d.includes(l)) {\n        const c = s[a], g = d.filter((i) => m.includes(i)), p = m.some((i) => {\n          const $ = i.charAt(0).toUpperCase() + i.slice(1);\n          return o.getModifierState($);\n        });\n        if (g.length > 0) {\n          if (p) {\n            for (const i of m)\n              if (d.includes(i)) {\n                const $ = i.charAt(0).toUpperCase() + i.slice(1);\n                o.getModifierState($) && c(o);\n              }\n          }\n        } else\n          p || c(o);\n      }\n    }\n  };\n  W(() => {\n    for (const n of e) {\n      const o = t(n);\n      for (const l of o)\n        l.addEventListener(\"keydown\", r(n));\n    }\n  }), V(() => {\n    for (const n of e) {\n      const o = t(n);\n      for (const l of o)\n        l.removeEventListener(\"keydown\", r(n));\n    }\n  });\n}\nfunction ae(e) {\n}\nexport {\n  le as defaultKeypressHandlers,\n  ae as install,\n  ie as useKeyboardNav\n};\n//# sourceMappingURL=utilities.js.map\n","<template>\n\t<div\n\t\tv-if=\"!readonly\"\n\t\t:event=\"event\"\n\t\t:colIndex=\"colIndex\"\n\t\t:rowIndex=\"rowIndex\"\n\t\t:tableid=\"tableid\"\n\t\tclass=\"adate\"\n\t\ttabindex=\"0\"\n\t\tref=\"adatepicker\">\n\t\t<table>\n\t\t\t<tr>\n\t\t\t\t<td @click=\"previousMonth\" :tabindex=\"-1\">&lt;</td>\n\t\t\t\t<th colspan=\"5\">{{ monthAndYear }}</th>\n\t\t\t\t<td @click=\"nextMonth\" :tabindex=\"-1\">&gt;</td>\n\t\t\t</tr>\n\t\t\t<tr v-for=\"rowNo in numberOfRows\" :key=\"rowNo\">\n\t\t\t\t<!-- TODO: (style) remove inline styling and replace with theme package -->\n\t\t\t\t<td\n\t\t\t\t\tv-for=\"colNo in numberOfColumns\"\n\t\t\t\t\t:key=\"(rowNo - 1) * numberOfColumns + colNo\"\n\t\t\t\t\t:contenteditable=\"false\"\n\t\t\t\t\t:spellcheck=\"false\"\n\t\t\t\t\t:tabindex=\"0\"\n\t\t\t\t\t:style=\"{\n\t\t\t\t\t\tborder: isSelectedDate(currentDates[(rowNo - 1) * numberOfColumns + colNo])\n\t\t\t\t\t\t\t? '2px solid var(--focus-cell-outline)'\n\t\t\t\t\t\t\t: 'none',\n\t\t\t\t\t\tborderBottomColor: isTodaysDate(currentDates[(rowNo - 1) * numberOfColumns + colNo])\n\t\t\t\t\t\t\t? 'var(--focus-cell-outline)'\n\t\t\t\t\t\t\t: 'none',\n\t\t\t\t\t}\"\n\t\t\t\t\t@click.prevent.stop=\"selectDate($event, (rowNo - 1) * numberOfColumns + colNo)\"\n\t\t\t\t\t:class=\"{\n\t\t\t\t\t\ttodaysdate: isTodaysDate(currentDates[(rowNo - 1) * numberOfColumns + colNo]),\n\t\t\t\t\t\tselecteddate: isSelectedDate(currentDates[(rowNo - 1) * numberOfColumns + colNo]),\n\t\t\t\t\t}\">\n\t\t\t\t\t{{ new Date(currentDates[(rowNo - 1) * numberOfColumns + colNo]).getDate() }}\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, inject, nextTick, onMounted, ref, watch } from 'vue'\n\nimport { TableDataStore } from '@agritheory/atable'\nimport { defaultKeypressHandlers, useKeyboardNav } from '@agritheory/utilities'\n\nconst props = defineProps<{\n\tcolIndex?: number\n\trowIndex?: number\n\ttableid?: string\n\tevent?: Event\n\tindent?: number\n\treadonly?: boolean\n}>()\n\nconst tableData = inject<TableDataStore>(props.tableid)\n\nconst numberOfRows = 6\nconst numberOfColumns = 7\nconst todaysDate = new Date()\n\nconst selectedDate = ref<Date>()\nconst currentMonth = ref<number>()\nconst currentYear = ref<number>()\nconst currentDates = ref<number[]>([])\n// const width = ref('')\n\nonMounted(async () => {\n\tlet cellDate = tableData.cellData<string | number | Date>(props.colIndex, props.rowIndex)\n\tif (cellDate) {\n\t\tif (!(cellDate instanceof Date)) {\n\t\t\tcellDate = new Date(cellDate)\n\t\t}\n\n\t\tselectedDate.value = cellDate\n\t\tcurrentMonth.value = selectedDate.value.getMonth()\n\t\tcurrentYear.value = selectedDate.value.getFullYear()\n\t} else {\n\t\tcurrentMonth.value = todaysDate.getMonth()\n\t\tcurrentYear.value = todaysDate.getFullYear()\n\t}\n\n\trenderMonth()\n\tawait nextTick()\n\n\tconst $selectedDate = document.getElementsByClassName('selecteddate')\n\tif ($selectedDate.length > 0) {\n\t\t;($selectedDate[0] as HTMLElement).focus()\n\t} else {\n\t\tconst $todaysDate = document.getElementsByClassName('todaysdate')\n\t\tif ($todaysDate.length > 0) {\n\t\t\t;($todaysDate[0] as HTMLElement).focus()\n\t\t}\n\t}\n})\n\nwatch([currentMonth, currentYear], () => {\n\trenderMonth()\n})\n\nconst renderMonth = () => {\n\tcurrentDates.value = []\n\tconst firstOfMonth = new Date(currentYear.value, currentMonth.value, 1)\n\tconst monthStartWeekday = firstOfMonth.getDay()\n\tconst calendarStartDay = firstOfMonth.setDate(firstOfMonth.getDate() - monthStartWeekday)\n\tfor (let dayIndex of Array(43).keys()) {\n\t\tcurrentDates.value.push(calendarStartDay + dayIndex * 86400000)\n\t}\n}\n\nconst previousYear = () => {\n\tcurrentYear.value -= 1\n}\n\nconst nextYear = () => {\n\tcurrentYear.value += 1\n}\n\nconst previousMonth = () => {\n\tif (currentMonth.value == 0) {\n\t\tcurrentMonth.value = 11\n\t\tpreviousYear()\n\t} else {\n\t\tcurrentMonth.value -= 1\n\t}\n}\n\nconst nextMonth = () => {\n\tif (currentMonth.value == 11) {\n\t\tcurrentMonth.value = 0\n\t\tnextYear()\n\t} else {\n\t\tcurrentMonth.value += 1\n\t}\n}\n\nconst isTodaysDate = (day: string | number | Date) => {\n\tif (currentMonth.value !== todaysDate.getMonth()) {\n\t\treturn\n\t}\n\treturn todaysDate.toDateString() === new Date(day).toDateString()\n}\n\nconst isSelectedDate = (day: string | number | Date) => {\n\treturn new Date(day).toDateString() === new Date(selectedDate.value).toDateString()\n}\n\nconst selectDate = (event: Event, currentIndex: number) => {\n\tselectedDate.value = new Date(currentDates.value[currentIndex])\n\tupdateData()\n\t// TODO: (typing) figure out a way to close datepicker\n\t// context.refs.adatepicker.destroy()\n}\n\nconst updateData = () => {\n\t// TODO: check proper date format to feed back (assuming number for now)\n\ttableData.setCellData(props.rowIndex, props.colIndex, selectedDate.value.getTime())\n}\n\n// const dayWidth = computed(() => {\n// \tconst widthValue = Number(width.value.replace('px', ''))\n// \treturn `${widthValue / (numberOfColumns - 1)}px`\n// })\n\nconst monthAndYear = computed(() => {\n\treturn new Date(currentYear.value, currentMonth.value, 1).toLocaleDateString(undefined, {\n\t\tyear: 'numeric',\n\t\tmonth: 'long',\n\t})\n})\n\n// setup keyboard navigation\nuseKeyboardNav([\n\t{\n\t\tparent: 'table.adate',\n\t\tselectors: 'td',\n\t\thandlers: {\n\t\t\t...defaultKeypressHandlers,\n\t\t\t...{\n\t\t\t\t'keydown.pageup': previousMonth,\n\t\t\t\t'keydown.shift.pageup': previousYear,\n\t\t\t\t'keydown.pagedown': nextMonth,\n\t\t\t\t'keydown.shift.pagedown': nextYear,\n\t\t\t},\n\t\t},\n\t},\n])\n</script>\n\n<style scoped>\n@import '@/theme/aform.css';\n\n.adate {\n\tborder: 2px solid var(--focus-cell-outline);\n\tposition: absolute;\n\tz-index: 100;\n\tfont-size: var(--table-font-size);\n\tdisplay: inline-table;\n\tbackground-color: var(--row-color-zebra-light);\n\tcolor: var(--cell-text-color);\n\toutline: none;\n\twidth: calc(100% - 4px);\n}\n\n.adate tr {\n\theight: 1.15rem;\n\ttext-align: center;\n\tvertical-align: middle;\n}\n\n.adate td {\n\tborder: 2px solid transparent;\n\tmin-width: 2.25ch; /* this doesn't zoom correctly */\n}\n\n.adate td:hover {\n\tborder: 2px solid var(--focus-cell-outline);\n}\n\n.adate td {\n\tborder: 1px;\n\tborder-style: solid;\n\tborder-color: var(--cell-border-color);\n\tborder-radius: 0px;\n\tbox-sizing: border-box;\n\tmargin: 0px;\n\toutline: none;\n\tbox-shadow: none;\n\tcolor: var(--cell-text-color);\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\tpadding-left: 0.5ch;\n\tpadding-right: 0.5ch;\n}\n\n.adate td:focus,\n.adate td:focus-within {\n\tbackground-color: var(--focus-cell-background);\n\toutline-width: 2px;\n\toutline-style: solid;\n\toutline-color: var(--focus-cell-outline);\n\tbox-shadow: none;\n\toverflow: hidden;\n\tmin-height: 1.15em;\n\tmax-height: 1.15em;\n\toverflow: hidden;\n}\n\nbutton {\n\tbackground-color: var(--row-color-zebra-light);\n\tborder: none;\n\tpadding: 0px;\n\tmargin: 0px;\n\tcolor: var(--cell-text-color);\n\toutline: none;\n\tfont-size: var(--table-font-size);\n}\n\n.dateheader {\n\tfont-weight: 700;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n}\n\n.adate .todaysdate {\n\tborder-bottom-color: var(--focus-cell-outline);\n}\n\n.adate .selecteddate {\n\tborder: 2px solid var(--focus-cell-outline);\n}\n</style>\n","<template>\n\t<form>\n\t\t<component\n\t\t\tv-for=\"(componentObj, key) in modelValue\"\n\t\t\t:is=\"componentObj.component\"\n\t\t\t:key=\"key\"\n\t\t\t:schema=\"componentObj\"\n\t\t\tv-model=\"childModels[key].value\"\n\t\t\t:data=\"formData[componentObj.fieldname]\"\n\t\t\t:readonly=\"readonly\"\n\t\t\tv-bind=\"componentProps(componentObj)\">\n\t\t</component>\n\t</form>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed } from 'vue'\n\nimport { SchemaTypes } from 'types'\n\nconst props = defineProps<{\n\tmodelValue: SchemaTypes[]\n\tdata: Record<string, any>\n\treadonly?: boolean\n}>()\n\nconst emit = defineEmits(['update:modelValue'])\n\nconst formData = ref(props.data || {})\n\nconst componentProps = (componentObj: SchemaTypes) => {\n\tlet propsToPass = {}\n\tfor (const [key, value] of Object.entries(componentObj)) {\n\t\tif (!['component', 'fieldtype'].includes(key)) {\n\t\t\tpropsToPass[key] = value\n\t\t}\n\n\t\t// handle ATable data formats in case the table is nested under an AFormm;\n\t\t// TODO: there's probably a better way to do this\n\t\tif (key === 'rows') {\n\t\t\tif (value && (value as any[]).length === 0) {\n\t\t\t\tpropsToPass['rows'] = formData.value[componentObj.fieldname]\n\t\t\t}\n\t\t}\n\t}\n\treturn propsToPass\n}\n\nconst childModels = computed({\n\tget: () => {\n\t\treturn props.modelValue.map((val, i) => {\n\t\t\treturn computed({\n\t\t\t\tget() {\n\t\t\t\t\treturn val.value\n\t\t\t\t},\n\t\t\t\tset: newValue => {\n\t\t\t\t\t// Find the component in modelValue and update it\n\t\t\t\t\tprops.modelValue[i].value = newValue\n\t\t\t\t\temit('update:modelValue', props.modelValue)\n\t\t\t\t},\n\t\t\t})\n\t\t})\n\t},\n\tset: (/* newValue */) => {\n\t\t//emit('update:modelValue', '')\n\t},\n})\n</script>\n\n<style scoped>\nform {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\tjustify-content: flex-start;\n\talign-items: baseline;\n}\n</style>\n","<template>\n\t<fieldset>\n\t\t<legend @click=\"toggleCollapse\" @submit=\"toggleCollapse\">\n\t\t\t{{ label }}\n\t\t\t<CollapseButton v-if=\"collapsible\" :collapsed=\"collapsed\" />\n\t\t</legend>\n\t\t<slot :collapsed=\"collapsed\">\n\t\t\t<AForm v-show=\"!collapsed\" v-model=\"formSchema\" :data=\"formData\" />\n\t\t</slot>\n\t</fieldset>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from 'vue'\n\nimport CollapseButton from '@/components/base/CollapseButton.vue'\nimport AForm from '@/components/AForm.vue'\nimport { SchemaTypes } from 'types/index'\n\nconst props = defineProps<{\n\tschema: SchemaTypes[]\n\tlabel: string\n\tcollapsible?: boolean\n\tdata?: any\n}>()\n\nconst formData = ref(props.data || [])\nlet collapsed = ref(false)\nlet collapsible = ref(props.collapsible)\n\nconst formSchema = ref(props.schema)\nfunction toggleCollapse(event: Event) {\n\tevent.preventDefault()\n\tif (!collapsible.value) {\n\t\treturn\n\t}\n\tcollapsed.value = !collapsed.value\n}\n</script>\n\n<style scoped>\nfieldset {\n\tmax-width: 100%;\n\twidth: 100%;\n\tmargin-right: 2ch;\n\tborder: 1px solid transparent;\n\tborder-bottom: 1px solid var(--gray-50);\n}\n\nlegend {\n\twidth: 100%;\n\theight: 1.15rem;\n\tborder: 1px solid transparent;\n\tpadding-bottom: 0.5rem;\n\tfont-size: 110%;\n\tfont-weight: 600;\n\tuser-select: none;\n}\n\n.collapse-button {\n\tfloat: right;\n}\n</style>\n","<template>\n\t<div>\n\t\t<input v-model=\"inputNumber\" type=\"number\" :id=\"uuid\" :disabled=\"readonly\" :required=\"required\" />\n\t\t<label :for=\"uuid\">{{ label }}</label>\n\t\t<p v-show=\"validation.errorMessage\" v-html=\"validation.errorMessage\"></p>\n\t</div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\n\nconst props = withDefaults(\n\tdefineProps<{\n\t\tlabel: string\n\t\tmodelValue: any\n\t\trequired?: boolean\n\t\treadonly?: boolean\n\t\tuuid?: string\n\t\tvalidation?: Record<string, any>\n\t}>(),\n\t{\n\t\tvalidation: () => ({ errorMessage: '&nbsp;' }),\n\t}\n)\nconst emit = defineEmits(['update:modelValue'])\nconst inputNumber = computed({\n\tget: () => {\n\t\treturn props.modelValue\n\t},\n\tset: newValue => {\n\t\temit('update:modelValue', newValue)\n\t},\n})\n</script>\n\n<style scoped>\ndiv {\n\tmin-width: 40ch;\n\tborder: 1px solid transparent;\n\tpadding: 0rem;\n\tmargin: 0rem;\n\tmargin-right: 1ch;\n}\n\ninput {\n\twidth: calc(100% - 1ch);\n\toutline: 1px solid transparent;\n\tborder: 1px solid var(--input-border-color);\n\tpadding: 1ch 0.5ch 0.5ch 1ch;\n\tmargin: calc(1.15rem / 2) 0 0 0;\n\tmin-height: 1.15rem;\n\tborder-radius: 0.25rem;\n}\n\np,\nlabel {\n\tcolor: var(--input-label-color);\n\tdisplay: block;\n\tmin-height: 1.15rem;\n\tpadding: 0rem;\n\tmargin: 0rem;\n\tborder: 1px solid transparent;\n\tmargin-bottom: 0.25rem;\n}\n\np {\n\twidth: 100%;\n\tcolor: red;\n\tfont-size: 85%;\n}\n\nlabel {\n\tz-index: 2;\n\tfont-size: 80%;\n\tposition: absolute;\n\tbackground: white;\n\tmargin: calc(-1.5rem - calc(2.15rem / 2)) 0 0 1ch;\n\tpadding: 0 0.25ch 0 0.25ch;\n}\n\ninput:focus {\n\tborder: 1px solid var(--input-active-border-color);\n}\n\ninput:focus + label {\n\tcolor: var(--input-active-label-color);\n}\n</style>\n","import type { FormSchema } from 'types'\nimport { DirectiveBinding } from 'vue'\n\nconst NAMED_MASKS = {\n\tdate: '##/##/####',\n\tdatetime: '####/##/## ##:##',\n\ttime: '##:##',\n\tfulltime: '##:##:##',\n\tphone: '(###) ### - ####',\n\tcard: '#### #### #### ####',\n}\n\nfunction extractMaskFn(mask: string): ((args: any) => string) | void {\n\ttry {\n\t\t// eslint-disable-next-line @typescript-eslint/no-implied-eval\n\t\treturn Function(`\"use strict\";return (${mask})`)()\n\t} catch (error) {\n\t\tif (error instanceof ReferenceError) {\n\t\t\t// assume mask is a string\n\t\t}\n\t}\n}\n\nfunction getMask(binding: DirectiveBinding<string>) {\n\tlet mask = binding.value\n\n\tif (mask) {\n\t\tconst maskFn = extractMaskFn(mask)\n\t\tif (maskFn) {\n\t\t\t// TODO: (state) replace with state management;\n\t\t\t// pass the entire form/table data to the function\n\t\t\tconst locale = binding.instance['locale']\n\t\t\tmask = maskFn(locale)\n\t\t}\n\t} else {\n\t\t// TODO: (state) handle using state management\n\t\tconst schema: FormSchema = binding.instance['schema']\n\t\tconst fieldType: string | undefined = schema.fieldtype?.toLowerCase()\n\t\tif (fieldType && NAMED_MASKS[fieldType]) {\n\t\t\tmask = NAMED_MASKS[fieldType]\n\t\t}\n\t}\n\n\treturn mask\n}\n\nfunction unmaskInput(input: string, maskToken?: string) {\n\tif (!maskToken) {\n\t\tmaskToken = '#'\n\t}\n\n\tlet unmaskedInput = input\n\tconst maskChars = [maskToken, '/', '-', '(', ')', ' ']\n\n\tfor (const char of maskChars) {\n\t\tunmaskedInput = unmaskedInput.replaceAll(char, '')\n\t}\n\n\treturn unmaskedInput\n}\n\nfunction fillMask(input: string, mask: string, maskToken?: string) {\n\tif (!maskToken) {\n\t\tmaskToken = '#'\n\t}\n\n\tlet replacement = mask\n\tfor (const inputChar of input) {\n\t\tconst replaceIndex = replacement.indexOf(maskToken)\n\t\tif (replaceIndex !== -1) {\n\t\t\tconst prefix = replacement.substring(0, replaceIndex)\n\t\t\tconst suffix = replacement.substring(replaceIndex + 1)\n\t\t\treplacement = prefix + inputChar + suffix\n\t\t}\n\t}\n\n\treturn replacement.slice(0, mask.length)\n}\n\nexport function useStringMask(el: HTMLInputElement, binding: DirectiveBinding<string>) {\n\tconst mask = getMask(binding)\n\tif (!mask) return\n\n\tconst maskToken = '#'\n\tconst inputText = el.value\n\n\t// process input value with mask\n\tconst unmaskedInput = unmaskInput(inputText, maskToken)\n\tif (unmaskedInput) {\n\t\tconst replacement = fillMask(unmaskedInput, mask, maskToken)\n\n\t\t// TODO: (state) this is very opinionated;\n\t\t// most likely fixed with state management;\n\t\t// a better way could be to emit back to instance;\n\n\t\tif (binding.instance['maskFilled']) {\n\t\t\tbinding.instance['maskFilled'] = !replacement.includes(maskToken)\n\t\t}\n\n\t\tel.value = replacement\n\t} else {\n\t\tel.value = mask\n\t}\n}\n","<template>\n\t<div>\n\t\t<input\n\t\t\tv-model=\"inputText\"\n\t\t\t:id=\"uuid\"\n\t\t\t:disabled=\"readonly\"\n\t\t\t:maxlength=\"mask ? maskFilled && mask.length : undefined\"\n\t\t\t:required=\"required\"\n\t\t\tv-mask=\"mask\" />\n\t\t<label :for=\"uuid\">{{ label }} </label>\n\t\t<p v-show=\"validation.errorMessage\" v-html=\"validation.errorMessage\"></p>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, inject, PropType, ref, computed } from 'vue'\n\nimport { FormSchema } from 'types'\nimport { useStringMask } from '@/directives/mask'\n\n// TODO: when moving to composition API, figure out how to provide mask\n// as a custom directive\nexport default defineComponent({\n\tname: 'ATextInput',\n\tprops: {\n\t\tschema: {\n\t\t\ttype: Object as PropType<FormSchema>,\n\t\t\trequired: true,\n\t\t},\n\t\tlabel: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tmodelValue: {\n\t\t\ttype: null as unknown as PropType<string | number>,\n\t\t},\n\t\tmask: {\n\t\t\ttype: String,\n\t\t},\n\t\trequired: {\n\t\t\ttype: Boolean,\n\t\t},\n\t\treadonly: {\n\t\t\ttype: Boolean,\n\t\t},\n\t\tuuid: {\n\t\t\ttype: String,\n\t\t},\n\t\tvalidation: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({ errorMessage: '&nbsp;' }),\n\t\t},\n\t},\n\tsetup(props, context) {\n\t\tconst maskFilled = ref(false)\n\n\t\t// TODO: (state) replace with state management\n\t\tconst locale = inject<string>('locale', '')\n\n\t\tconst inputText = computed({\n\t\t\tget() {\n\t\t\t\treturn props.modelValue\n\t\t\t},\n\t\t\tset(newValue) {\n\t\t\t\tcontext.emit('update:modelValue', newValue)\n\t\t\t},\n\t\t})\n\n\t\treturn { inputText, locale, maskFilled }\n\t},\n\tdirectives: {\n\t\tmask: useStringMask,\n\t},\n})\n</script>\n\n<style scoped>\ndiv {\n\tmin-width: 40ch;\n\tborder: 1px solid transparent;\n\tpadding: 0rem;\n\tmargin: 0rem;\n\tmargin-right: 1ch;\n}\n\ninput {\n\twidth: calc(100% - 1ch);\n\toutline: 1px solid transparent;\n\tborder: 1px solid var(--input-border-color);\n\tpadding: 1ch 0.5ch 0.5ch 1ch;\n\tmargin: calc(1.15rem / 2) 0 0 0;\n\tmin-height: 1.15rem;\n\tborder-radius: 0.25rem;\n}\n\np,\nlabel {\n\tcolor: var(--input-label-color);\n\tdisplay: block;\n\tmin-height: 1.15rem;\n\tpadding: 0rem;\n\tmargin: 0rem;\n\tborder: 1px solid transparent;\n\tmargin-bottom: 0.25rem;\n}\n\np {\n\twidth: 100%;\n\tcolor: red;\n\tfont-size: 85%;\n}\n\nlabel {\n\tz-index: 2;\n\tfont-size: 80%;\n\tposition: absolute;\n\tbackground: white;\n\tmargin: calc(-1.5rem - calc(2.15rem / 2)) 0 0 1ch;\n\tpadding: 0 0.25ch 0 0.25ch;\n}\n\ninput:focus {\n\tborder: 1px solid var(--input-active-border-color);\n}\n\ninput:focus + label {\n\tcolor: var(--input-active-label-color);\n}\n</style>\n","import { App } from 'vue'\n\nimport ACheckbox from '@/components/form/ACheckbox.vue'\nimport AComboBox from '@/components/form/AComboBox.vue'\nimport ADate from '@/components/form/ADate.vue'\nimport AFieldset from '@/components/form/AFieldset.vue'\nimport AForm from '@/components/AForm.vue'\nimport ANumericInput from '@/components/form/ANumericInput.vue'\nimport ATextInput from '@/components/form/ATextInput.vue'\n// import { ACurrency } from '@/components/form/ACurrency.vue'\n// import { AQuantity } from '@/components/form/AQuantity.vue'\n\nfunction install(app: App /* options */) {\n\tapp.component('ACheckbox', ACheckbox)\n\tapp.component('ACombobox', AComboBox)\n\tapp.component('ADate', ADate)\n\tapp.component('AFieldset', AFieldset)\n\tapp.component('AForm', AForm)\n\tapp.component('ANumericInput', ANumericInput)\n\tapp.component('ATextInput', ATextInput)\n\t// app.component('ACurrency', ACurrency)\n\t// app.component('AQuantity', AQuantity)\n}\n\nexport { ACheckbox, AComboBox, ADate, AFieldset, AForm, ANumericInput, ATextInput, install }\n"],"names":["checkbox","computed","props","value","emit","T","M","F","j","H","Q","q","G","U","K","y","r","N","z","n","o","l","c","a","g","p","i","C","D","E","w","J","B","X","I","Y","Z","_","ee","f","u","A","h","t","ne","s","b","x","re","k","v","S","O","L","R","m","oe","le","ie","$","W","V","tableData","inject","numberOfRows","numberOfColumns","todaysDate","selectedDate","ref","currentMonth","currentYear","currentDates","onMounted","cellDate","renderMonth","nextTick","$selectedDate","$todaysDate","watch","firstOfMonth","monthStartWeekday","calendarStartDay","dayIndex","previousYear","nextYear","previousMonth","nextMonth","isTodaysDate","day","isSelectedDate","selectDate","event","currentIndex","updateData","monthAndYear","useKeyboardNav","defaultKeypressHandlers","formData","componentProps","componentObj","propsToPass","key","childModels","val","newValue","collapsed","collapsible","formSchema","toggleCollapse","inputNumber","NAMED_MASKS","extractMaskFn","mask","getMask","binding","maskFn","locale","fieldType","_a","unmaskInput","input","maskToken","unmaskedInput","maskChars","char","fillMask","replacement","inputChar","replaceIndex","prefix","suffix","useStringMask","el","inputText","_sfc_main","defineComponent","context","maskFilled","_resolveDirective","_withDirectives","_createElementVNode","_cache","$event","_ctx","_hoisted_1","_vModelText","_directive_mask","_toDisplayString","_hoisted_2","_hoisted_3","install","app","ACheckbox","AComboBox","ADate","AFieldset","AForm","ANumericInput","ATextInput"],"mappings":"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"}