{"version":3,"file":"desktop.umd.cjs","sources":["../src/components/ActionSet.vue","../src/components/CommandPalette.vue","../../aform/dist/aform.js","../../stonecrop/dist/stonecrop.js","../src/components/Doctype.vue","../../atable/dist/atable.js","../src/components/Records.vue","../src/components/SheetNav.vue","../src/plugins/index.ts"],"sourcesContent":["<template>\r\n\t<div\r\n\t\t:class=\"{ 'open-set': isOpen, 'hovered-and-closed': closeClicked }\"\r\n\t\tclass=\"action-set collapse\"\r\n\t\t@mouseover=\"onHover\"\r\n\t\t@mouseleave=\"onHoverLeave\">\r\n\t\t<div class=\"action-menu-icon\">\r\n\t\t\t<div id=\"chevron\" @click=\"closeClicked = !closeClicked\">\r\n\t\t\t\t<svg\r\n\t\t\t\t\tclass=\"leftBar\"\r\n\t\t\t\t\tversion=\"1.1\"\r\n\t\t\t\t\tid=\"Layer_1\"\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\txmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n\t\t\t\t\tx=\"0px\"\r\n\t\t\t\t\ty=\"0px\"\r\n\t\t\t\t\tviewBox=\"0 0 100 100\"\r\n\t\t\t\t\txml:space=\"preserve\"\r\n\t\t\t\t\twidth=\"50\"\r\n\t\t\t\t\theight=\"50\">\r\n\t\t\t\t\t<polygon points=\"54.2,33.4 29.2,58.8 25,54.6 50,29.2 \" />\r\n\t\t\t\t</svg>\r\n\r\n\t\t\t\t<svg\r\n\t\t\t\t\tclass=\"rightBar\"\r\n\t\t\t\t\tversion=\"1.1\"\r\n\t\t\t\t\tid=\"Layer_1\"\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\txmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n\t\t\t\t\tx=\"0px\"\r\n\t\t\t\t\ty=\"0px\"\r\n\t\t\t\t\tviewBox=\"0 0 100 100\"\r\n\t\t\t\t\txml:space=\"preserve\"\r\n\t\t\t\t\twidth=\"50\"\r\n\t\t\t\t\theight=\"50\">\r\n\t\t\t\t\t<polygon points=\"70.8,58.8 45.8,33.4 50,29.2 75,54.6 \" />\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div style=\"margin-right: 30px\"></div>\r\n\t\t<div class=\"action-element\" v-for=\"(el, index) in _elements\" :key=\"index\">\r\n\t\t\t<button v-if=\"el.elementType == 'button'\" :onclick=\"el.action\" class=\"button-default\">{{ el.label }}</button>\r\n\t\t\t<div v-if=\"el.elementType == 'dropdown'\">\r\n\t\t\t\t<button class=\"button-default\" @click=\"toggleDropdown(index)\">{{ el.label }}</button>\r\n\t\t\t\t<div class=\"dropdown-container\" v-show=\"el.show\">\r\n\t\t\t\t\t<div class=\"dropdown\">\r\n\t\t\t\t\t\t<div v-for=\"item in el.actions\" :key=\"item.label\">\r\n\t\t\t\t\t\t\t<button v-if=\"item.action != null\" :onclick=\"item.action\" class=\"dropdown-item\">{{ item.label }}</button>\r\n\t\t\t\t\t\t\t<a v-else-if=\"item.link != null\" :href=\"item.link\"\r\n\t\t\t\t\t\t\t\t><button class=\"dropdown-item\">{{ item.label }}</button></a\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { onMounted, ref } from 'vue'\r\n\r\ntype SetAction = {\r\n\tlabel: string\r\n\tlink?: string\r\n\taction?: () => void\r\n}\r\n\r\ntype SetElement = {\r\n\telementType: string\r\n\tlabel: string\r\n\tlink?: string\r\n\tshow?: boolean\r\n\taction?: () => void\r\n\tactions?: SetAction[]\r\n}\r\n\r\nconst props = defineProps<{\r\n\telements?: SetElement[]\r\n}>()\r\n\r\nconst _elements = ref<SetElement[]>([])\r\nconst isOpen = ref(false)\r\nconst timeout = ref<NodeJS.Timeout>(null)\r\nconst hover = ref(false)\r\nconst closeClicked = ref(false)\r\n\r\nonMounted(() => {\r\n\t_elements.value = props.elements\r\n\tcloseDropdowns()\r\n})\r\n\r\nconst closeDropdowns = () => {\r\n\tfor (let element of _elements.value) {\r\n\t\tif (element.elementType === 'dropdown') {\r\n\t\t\telement.show = false\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst onHover = () => {\r\n\thover.value = true\r\n\ttimeout.value = setTimeout(() => {\r\n\t\tif (hover.value) {\r\n\t\t\tisOpen.value = true\r\n\t\t}\r\n\t}, 500)\r\n}\r\n\r\nconst onHoverLeave = () => {\r\n\thover.value = false\r\n\tcloseClicked.value = false\r\n\tclearTimeout(timeout.value)\r\n\tisOpen.value = false\r\n}\r\n\r\nconst toggleDropdown = (index: number) => {\r\n\tconst showDropdown = !_elements.value[index].show\r\n\tcloseDropdowns()\r\n\t_elements.value[index].show = showDropdown\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#chevron {\r\n\tposition: relative;\r\n\ttransform: rotate(90deg);\r\n}\r\n\r\n.leftBar,\r\n.rightBar {\r\n\ttransition-duration: 0.225s;\r\n\ttransition-property: transform;\r\n}\r\n\r\n.leftBar,\r\n.action-set.collapse.hovered-and-closed:hover .leftBar {\r\n\ttransform-origin: 33.4% 50%;\r\n\ttransform: rotate(90deg);\r\n}\r\n\r\n.rightBar,\r\n.action-set.collapse.hovered-and-closed:hover .rightBar {\r\n\ttransform-origin: 67% 50%;\r\n\ttransform: rotate(-90deg);\r\n}\r\n\r\n.rightBar {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n}\r\n\r\n.action-set.collapse:hover .leftBar {\r\n\ttransform: rotate(0);\r\n}\r\n\r\n.action-set.collapse:hover .rightBar {\r\n\ttransform: rotate(0);\r\n}\r\n\r\n.action-set {\r\n\tposition: fixed;\r\n\ttop: 10px;\r\n\tright: 10px;\r\n\tpadding: 20px;\r\n\tbox-shadow: 0px 1px 2px rgba(25, 39, 52, 0.05), 0px 0px 4px rgba(25, 39, 52, 0.1);\r\n\tborder-radius: 10px;\r\n\tdisplay: flex;\r\n\tflex-direction: row-reverse;\r\n\tbackground-color: white;\r\n\toverflow: hidden;\r\n}\r\n\r\n.action-menu-icon {\r\n\tposition: absolute;\r\n\ttop: 6px;\r\n\tright: 8px;\r\n}\r\n\r\n.action-menu-icon svg {\r\n\tfill: #333333;\r\n}\r\n\r\n.action-set.collapse,\r\n.action-set.collapse.hovered-and-closed:hover {\r\n\tmax-width: 25px;\r\n\toverflow: hidden;\r\n\r\n\t-webkit-transition: max-width 0.5s ease-in-out;\r\n\t-moz-transition: max-width 0.5s ease-in-out;\r\n\t-o-transition: max-width 0.5s ease-in-out;\r\n\ttransition: max-width 0.5s ease-in-out;\r\n}\r\n\r\n.action-set.collapse .action-element,\r\n.action-set.collapse.hovered-and-closed:hover .action-element {\r\n\topacity: 0;\r\n\t-webkit-transition: opacity 0.25s ease-in-out;\r\n\t-moz-transition: opacity 0.25s ease-in-out;\r\n\t-o-transition: opacity 0.25s ease-in-out;\r\n\ttransition: opacity 0.25s ease-in-out;\r\n\ttransition-delay: 0s;\r\n}\r\n\r\n.action-set.collapse:hover {\r\n\tmax-width: 500px;\r\n}\r\n\r\n.action-set.collapse.open-set:hover {\r\n\toverflow: visible !important;\r\n}\r\n\r\n.action-set.collapse.hovered-and-closed:hover .action-element {\r\n\topacity: 0 !important;\r\n\t/* transition-delay: 0.5s; */\r\n}\r\n\r\n.action-set.collapse:hover .action-element {\r\n\topacity: 100 !important;\r\n\t/* transition-delay: 0.5s; */\r\n}\r\n\r\n.action-element {\r\n\tmargin-left: 5px;\r\n\tmargin-right: 5px;\r\n}\r\nbutton.button-default {\r\n\tbackground-color: #ffffff;\r\n\tpadding: 5px 12px;\r\n\tborder-radius: 3px;\r\n\tbox-shadow: rgba(0, 0, 0, 0.05) 0px 0.5px 0px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px,\r\n\t\trgba(0, 0, 0, 0.05) 0px 2px 4px 0px;\r\n\tborder: none;\r\n\tcursor: pointer;\r\n\twhite-space: nowrap;\r\n}\r\n\r\nbutton.button-default:hover {\r\n\tbackground-color: #f2f2f2;\r\n}\r\n\r\n.dropdown-container {\r\n\tposition: relative;\r\n}\r\n\r\n.dropdown {\r\n\tposition: absolute;\r\n\ttop: 5px;\r\n\tright: 0;\r\n\tmin-width: 200px;\r\n\tbox-shadow: 0 0.5rem 1rem rgb(0 0 0 / 18%);\r\n\tborder-radius: 10px;\r\n\tbackground-color: #ffffff;\r\n\tpadding: 10px;\r\n}\r\n\r\nbutton.dropdown-item {\r\n\twidth: 100%;\r\n\tpadding: 8px 5px;\r\n\ttext-align: left;\r\n\tborder: none;\r\n\tbackground-color: #ffffff;\r\n\tcursor: pointer;\r\n\tborder-radius: 5px;\r\n}\r\n\r\nbutton.dropdown-item:hover {\r\n\tbackground-color: #f2f2f2;\r\n}\r\n</style>\r\n","<template>\r\n\t<dialog></dialog>\r\n</template>\r\n\r\n<script setup lang=\"ts\"></script>\r\n","import { defineComponent as k, computed as S, openBlock as f, createElementBlock as v, createElementVNode as i, withDirectives as w, vModelCheckbox as ye, toDisplayString as C, vShow as $, resolveComponent as ge, createBlock as F, withCtx as _e, onMounted as se, onBeforeUnmount as be, ref as g, watch as H, unref as O, getCurrentScope as we, onScopeDispose as Ce, inject as ae, nextTick as ke, Fragment as x, renderList as V, normalizeStyle as De, withModifiers as Ae, normalizeClass as B, createCommentVNode as re, withKeys as P, vModelText as R, resolveDynamicComponent as Ee, mergeProps as Ie, createTextVNode as Me, renderSlot as Te, createVNode as Se, resolveDirective as Oe } from \"vue\";\nconst $e = { id: \"checkbox-container\" }, Le = [\"id\", \"readonly\", \"required\"], xe = { id: \"custom-checkbox\" }, Ve = [\"for\"], Be = [\"innerHTML\"], Pe = /* @__PURE__ */ k({\n  __name: \"ACheckbox\",\n  props: {\n    label: {},\n    value: {},\n    required: { type: Boolean },\n    readOnly: { type: Boolean },\n    uuid: {},\n    validation: { default: () => ({ errorMessage: \"&nbsp;\" }) }\n  },\n  emits: [\"update:value\"],\n  setup(e, { emit: t }) {\n    const o = e, n = t, s = S({\n      get() {\n        return o.value;\n      },\n      set(l) {\n        n(\"update:value\", l);\n      }\n    });\n    return (l, a) => (f(), v(\"div\", null, [\n      i(\"label\", $e, [\n        w(i(\"input\", {\n          \"onUpdate:modelValue\": a[0] || (a[0] = (r) => s.value = r),\n          type: \"checkbox\",\n          id: l.uuid,\n          class: \"checkbox\",\n          readonly: l.readOnly,\n          required: l.required\n        }, null, 8, Le), [\n          [ye, s.value]\n        ]),\n        i(\"span\", xe, C(s.value), 1)\n      ]),\n      i(\"label\", {\n        for: l.uuid,\n        id: \"checkbox-label\"\n      }, C(l.label), 9, Ve),\n      w(i(\"p\", {\n        innerHTML: l.validation.errorMessage\n      }, null, 8, Be), [\n        [$, l.validation.errorMessage]\n      ])\n    ]));\n  }\n});\nconst I = (e, t) => {\n  const o = e.__vccOpts || e;\n  for (const [n, s] of t)\n    o[n] = s;\n  return o;\n}, qe = /* @__PURE__ */ I(Pe, [[\"__scopeId\", \"data-v-23f69d95\"]]), Fe = /* @__PURE__ */ i(\"div\", null, [\n  /* @__PURE__ */ i(\"input\", { type: \"text\" }),\n  /* @__PURE__ */ i(\"input\", { type: \"text\" }),\n  /* @__PURE__ */ i(\"input\", { type: \"text\" })\n], -1), He = /* @__PURE__ */ k({\n  __name: \"AComboBox\",\n  props: [\"event\", \"cellData\", \"tableID\"],\n  setup(e) {\n    return (t, o) => {\n      const n = ge(\"ATableModal\");\n      return f(), F(n, {\n        event: e.event,\n        cellData: e.cellData,\n        class: \"amodal\"\n      }, {\n        default: _e(() => [\n          Fe\n        ]),\n        _: 1\n      }, 8, [\"event\", \"cellData\"]);\n    };\n  }\n});\nvar N;\nconst ie = typeof window < \"u\", Re = (e) => typeof e == \"string\", Ue = () => {\n};\nie && (N = window == null ? void 0 : window.navigator) != null && N.userAgent && /iP(ad|hone|od)/.test(window.navigator.userAgent);\nfunction ue(e) {\n  return typeof e == \"function\" ? e() : O(e);\n}\nfunction Qe(e) {\n  return e;\n}\nfunction Ye(e) {\n  return we() ? (Ce(e), !0) : !1;\n}\nfunction q(e) {\n  var t;\n  const o = ue(e);\n  return (t = o == null ? void 0 : o.$el) != null ? t : o;\n}\nconst de = ie ? window : void 0;\nfunction je(...e) {\n  let t, o, n, s;\n  if (Re(e[0]) || Array.isArray(e[0]) ? ([o, n, s] = e, t = de) : [t, o, n, s] = e, !t)\n    return Ue;\n  Array.isArray(o) || (o = [o]), Array.isArray(n) || (n = [n]);\n  const l = [], a = () => {\n    l.forEach((d) => d()), l.length = 0;\n  }, r = (d, y, _, m) => (d.addEventListener(y, _, m), () => d.removeEventListener(y, _, m)), p = H(() => [q(t), ue(s)], ([d, y]) => {\n    a(), d && l.push(...o.flatMap((_) => n.map((m) => r(d, _, m, y))));\n  }, { immediate: !0, flush: \"post\" }), u = () => {\n    p(), a();\n  };\n  return Ye(u), u;\n}\nconst W = typeof globalThis < \"u\" ? globalThis : typeof window < \"u\" ? window : typeof global < \"u\" ? global : typeof self < \"u\" ? self : {}, z = \"__vueuse_ssr_handlers__\";\nW[z] = W[z] || {};\nfunction Ne(e, { window: t = de, scrollTarget: o } = {}) {\n  const n = g(!1), s = () => {\n    if (!t)\n      return;\n    const l = t.document, a = q(e);\n    if (!a)\n      n.value = !1;\n    else {\n      const r = a.getBoundingClientRect();\n      n.value = r.top <= (t.innerHeight || l.documentElement.clientHeight) && r.left <= (t.innerWidth || l.documentElement.clientWidth) && r.bottom >= 0 && r.right >= 0;\n    }\n  };\n  return H(() => q(e), () => s(), { immediate: !0, flush: \"post\" }), t && je(o || t, \"scroll\", s, {\n    capture: !1,\n    passive: !0\n  }), n;\n}\nvar G;\n(function(e) {\n  e.UP = \"UP\", e.RIGHT = \"RIGHT\", e.DOWN = \"DOWN\", e.LEFT = \"LEFT\", e.NONE = \"NONE\";\n})(G || (G = {}));\nvar We = Object.defineProperty, K = Object.getOwnPropertySymbols, ze = Object.prototype.hasOwnProperty, Ge = Object.prototype.propertyIsEnumerable, J = (e, t, o) => t in e ? We(e, t, { enumerable: !0, configurable: !0, writable: !0, value: o }) : e[t] = o, Ke = (e, t) => {\n  for (var o in t || (t = {}))\n    ze.call(t, o) && J(e, o, t[o]);\n  if (K)\n    for (var o of K(t))\n      Ge.call(t, o) && J(e, o, t[o]);\n  return e;\n};\nconst Je = {\n  easeInSine: [0.12, 0, 0.39, 0],\n  easeOutSine: [0.61, 1, 0.88, 1],\n  easeInOutSine: [0.37, 0, 0.63, 1],\n  easeInQuad: [0.11, 0, 0.5, 0],\n  easeOutQuad: [0.5, 1, 0.89, 1],\n  easeInOutQuad: [0.45, 0, 0.55, 1],\n  easeInCubic: [0.32, 0, 0.67, 0],\n  easeOutCubic: [0.33, 1, 0.68, 1],\n  easeInOutCubic: [0.65, 0, 0.35, 1],\n  easeInQuart: [0.5, 0, 0.75, 0],\n  easeOutQuart: [0.25, 1, 0.5, 1],\n  easeInOutQuart: [0.76, 0, 0.24, 1],\n  easeInQuint: [0.64, 0, 0.78, 0],\n  easeOutQuint: [0.22, 1, 0.36, 1],\n  easeInOutQuint: [0.83, 0, 0.17, 1],\n  easeInExpo: [0.7, 0, 0.84, 0],\n  easeOutExpo: [0.16, 1, 0.3, 1],\n  easeInOutExpo: [0.87, 0, 0.13, 1],\n  easeInCirc: [0.55, 0, 1, 0.45],\n  easeOutCirc: [0, 0.55, 0.45, 1],\n  easeInOutCirc: [0.85, 0, 0.15, 1],\n  easeInBack: [0.36, 0, 0.66, -0.56],\n  easeOutBack: [0.34, 1.56, 0.64, 1],\n  easeInOutBack: [0.68, -0.6, 0.32, 1.6]\n};\nKe({\n  linear: Qe\n}, Je);\nconst D = (e) => {\n  let t = Ne(e).value;\n  return t = t && e.offsetHeight > 0, t;\n}, A = (e) => e.tabIndex >= 0, X = (e) => {\n  const t = e.target;\n  return U(t);\n}, U = (e) => {\n  var t;\n  let o;\n  if (e instanceof HTMLTableCellElement) {\n    const n = (t = e.parentElement) == null ? void 0 : t.previousElementSibling;\n    if (n) {\n      const s = Array.from(n.children)[e.cellIndex];\n      s && (o = s);\n    }\n  } else if (e instanceof HTMLTableRowElement) {\n    const n = e.previousElementSibling;\n    n && (o = n);\n  }\n  return o && (!A(o) || !D(o)) ? U(o) : o;\n}, Xe = (e) => {\n  var t;\n  const o = e.target;\n  let n;\n  if (o instanceof HTMLTableCellElement) {\n    const s = (t = o.parentElement) == null ? void 0 : t.parentElement;\n    if (s) {\n      const l = s.firstElementChild.children[o.cellIndex];\n      l && (n = l);\n    }\n  } else if (o instanceof HTMLTableRowElement) {\n    const s = o.parentElement;\n    if (s) {\n      const l = s.firstElementChild;\n      l && (n = l);\n    }\n  }\n  return n && (!A(n) || !D(n)) ? Q(n) : n;\n}, Z = (e) => {\n  const t = e.target;\n  return Q(t);\n}, Q = (e) => {\n  var t;\n  let o;\n  if (e instanceof HTMLTableCellElement) {\n    const n = (t = e.parentElement) == null ? void 0 : t.nextElementSibling;\n    if (n) {\n      const s = Array.from(n.children)[e.cellIndex];\n      s && (o = s);\n    }\n  } else if (e instanceof HTMLTableRowElement) {\n    const n = e.nextElementSibling;\n    n && (o = n);\n  }\n  return o && (!A(o) || !D(o)) ? Q(o) : o;\n}, Ze = (e) => {\n  var t;\n  const o = e.target;\n  let n;\n  if (o instanceof HTMLTableCellElement) {\n    const s = (t = o.parentElement) == null ? void 0 : t.parentElement;\n    if (s) {\n      const l = s.lastElementChild.children[o.cellIndex];\n      l && (n = l);\n    }\n  } else if (o instanceof HTMLTableRowElement) {\n    const s = o.parentElement;\n    if (s) {\n      const l = s.lastElementChild;\n      l && (n = l);\n    }\n  }\n  return n && (!A(n) || !D(n)) ? U(n) : n;\n}, ee = (e) => {\n  const t = e.target;\n  return Y(t);\n}, Y = (e) => {\n  var t;\n  let o;\n  if (e.previousElementSibling)\n    o = e.previousElementSibling;\n  else {\n    const n = (t = e.parentElement) == null ? void 0 : t.previousElementSibling;\n    o = n == null ? void 0 : n.lastElementChild;\n  }\n  return o && (!A(o) || !D(o)) ? Y(o) : o;\n}, te = (e) => {\n  const t = e.target;\n  return j(t);\n}, j = (e) => {\n  var t;\n  let o;\n  if (e.nextElementSibling)\n    o = e.nextElementSibling;\n  else {\n    const n = (t = e.parentElement) == null ? void 0 : t.nextElementSibling;\n    o = n == null ? void 0 : n.firstElementChild;\n  }\n  return o && (!A(o) || !D(o)) ? j(o) : o;\n}, ne = (e) => {\n  const t = e.target.parentElement.firstElementChild;\n  return t && (!A(t) || !D(t)) ? j(t) : t;\n}, oe = (e) => {\n  const t = e.target.parentElement.lastElementChild;\n  return t && (!A(t) || !D(t)) ? Y(t) : t;\n}, L = [\"alt\", \"control\", \"shift\", \"meta\"], et = {\n  ArrowUp: \"up\",\n  ArrowDown: \"down\",\n  ArrowLeft: \"left\",\n  ArrowRight: \"right\"\n}, ce = {\n  \"keydown.up\": (e) => {\n    const t = X(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  },\n  \"keydown.down\": (e) => {\n    const t = Z(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  },\n  \"keydown.left\": (e) => {\n    const t = ee(e);\n    e.preventDefault(), e.stopPropagation(), t && t.focus();\n  },\n  \"keydown.right\": (e) => {\n    const t = te(e);\n    e.preventDefault(), e.stopPropagation(), t && t.focus();\n  },\n  \"keydown.control.up\": (e) => {\n    const t = Xe(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  },\n  \"keydown.control.down\": (e) => {\n    const t = Ze(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  },\n  \"keydown.control.left\": (e) => {\n    const t = ne(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  },\n  \"keydown.control.right\": (e) => {\n    const t = oe(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  },\n  \"keydown.end\": (e) => {\n    const t = oe(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  },\n  \"keydown.enter\": (e) => {\n    if (e.target instanceof HTMLTableCellElement) {\n      e.preventDefault(), e.stopPropagation();\n      const t = Z(e);\n      t && t.focus();\n    }\n  },\n  \"keydown.shift.enter\": (e) => {\n    if (e.target instanceof HTMLTableCellElement) {\n      e.preventDefault(), e.stopPropagation();\n      const t = X(e);\n      t && t.focus();\n    }\n  },\n  \"keydown.home\": (e) => {\n    const t = ne(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  },\n  \"keydown.tab\": (e) => {\n    const t = te(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  },\n  \"keydown.shift.tab\": (e) => {\n    const t = ee(e);\n    t && (e.preventDefault(), e.stopPropagation(), t.focus());\n  }\n};\nfunction tt(e) {\n  const t = (n) => {\n    let s = null;\n    n.parent && (typeof n.parent == \"string\" ? s = document.querySelector(n.parent) : n.parent instanceof Element ? s = n.parent : s = n.parent.value);\n    let l = [];\n    if (n.selectors)\n      if (typeof n.selectors == \"string\")\n        l = s ? Array.from(s.querySelectorAll(n.selectors)) : Array.from(document.querySelectorAll(n.selectors));\n      else if (n.selectors instanceof Element)\n        l.push(n.selectors);\n      else if (Array.isArray(n.selectors.value))\n        for (const a of n.selectors.value)\n          a instanceof Element ? l.push(a) : l.push(a.$el);\n      else\n        l.push(n.selectors.value);\n    else\n      l = Array.from(s.children).filter((a) => A(a) && D(a));\n    return l;\n  }, o = (n) => (s) => {\n    const l = et[s.key] || s.key.toLowerCase();\n    if (L.includes(l))\n      return;\n    const a = n.handlers || ce;\n    for (const r of Object.keys(a)) {\n      const [p, ...u] = r.split(\".\");\n      if (p === \"keydown\" && u.includes(l)) {\n        const d = a[r], y = u.filter((m) => L.includes(m)), _ = L.some((m) => {\n          const T = m.charAt(0).toUpperCase() + m.slice(1);\n          return s.getModifierState(T);\n        });\n        if (y.length > 0) {\n          if (_) {\n            for (const m of L)\n              if (u.includes(m)) {\n                const T = m.charAt(0).toUpperCase() + m.slice(1);\n                s.getModifierState(T) && d(s);\n              }\n          }\n        } else\n          _ || d(s);\n      }\n    }\n  };\n  se(() => {\n    for (const n of e) {\n      const s = t(n);\n      for (const l of s)\n        l.addEventListener(\"keydown\", o(n));\n    }\n  }), be(() => {\n    for (const n of e) {\n      const s = t(n);\n      for (const l of s)\n        l.removeEventListener(\"keydown\", o(n));\n    }\n  });\n}\nconst nt = [\"event\", \"colIndex\", \"rowIndex\", \"tableid\"], ot = { colspan: \"5\" }, lt = [\"onClick\"], st = 6, E = 7, at = /* @__PURE__ */ k({\n  __name: \"ADate\",\n  props: {\n    colIndex: {},\n    rowIndex: {},\n    tableid: {},\n    event: {},\n    indent: {},\n    readonly: { type: Boolean }\n  },\n  setup(e) {\n    const t = e, o = ae(t.tableid), n = /* @__PURE__ */ new Date(), s = g(), l = g(), a = g(), r = g([]);\n    se(async () => {\n      let c = o.cellData(t.colIndex, t.rowIndex);\n      c ? (c instanceof Date || (c = new Date(c)), s.value = c, l.value = s.value.getMonth(), a.value = s.value.getFullYear()) : (l.value = n.getMonth(), a.value = n.getFullYear()), p(), await ke();\n      const M = document.getElementsByClassName(\"selecteddate\");\n      if (M.length > 0)\n        M[0].focus();\n      else {\n        const h = document.getElementsByClassName(\"todaysdate\");\n        h.length > 0 && h[0].focus();\n      }\n    }), H([l, a], () => {\n      p();\n    });\n    const p = () => {\n      r.value = [];\n      const c = new Date(a.value, l.value, 1), M = c.getDay(), h = c.setDate(c.getDate() - M);\n      for (let b of Array(43).keys())\n        r.value.push(h + b * 864e5);\n    }, u = () => {\n      a.value -= 1;\n    }, d = () => {\n      a.value += 1;\n    }, y = () => {\n      l.value == 0 ? (l.value = 11, u()) : l.value -= 1;\n    }, _ = () => {\n      l.value == 11 ? (l.value = 0, d()) : l.value += 1;\n    }, m = (c) => {\n      if (l.value === n.getMonth())\n        return n.toDateString() === new Date(c).toDateString();\n    }, T = (c) => new Date(c).toDateString() === new Date(s.value).toDateString(), fe = (c, M) => {\n      s.value = new Date(r.value[M]), me();\n    }, me = () => {\n      o.setCellData(t.rowIndex, t.colIndex, s.value.getTime());\n    }, ve = S(() => new Date(a.value, l.value, 1).toLocaleDateString(void 0, {\n      year: \"numeric\",\n      month: \"long\"\n    }));\n    return tt([\n      {\n        parent: \"table.adate\",\n        selectors: \"td\",\n        handlers: {\n          ...ce,\n          \"keydown.pageup\": y,\n          \"keydown.shift.pageup\": u,\n          \"keydown.pagedown\": _,\n          \"keydown.shift.pagedown\": d\n        }\n      }\n    ]), (c, M) => c.readonly ? re(\"\", !0) : (f(), v(\"div\", {\n      key: 0,\n      event: c.event,\n      colIndex: c.colIndex,\n      rowIndex: c.rowIndex,\n      tableid: c.tableid,\n      class: \"adate\",\n      tabindex: \"0\",\n      ref: \"adatepicker\"\n    }, [\n      i(\"table\", null, [\n        i(\"tr\", null, [\n          i(\"td\", {\n            onClick: y,\n            tabindex: -1\n          }, \"<\"),\n          i(\"th\", ot, C(ve.value), 1),\n          i(\"td\", {\n            onClick: _,\n            tabindex: -1\n          }, \">\")\n        ]),\n        (f(), v(x, null, V(st, (h) => i(\"tr\", { key: h }, [\n          (f(), v(x, null, V(E, (b) => i(\"td\", {\n            key: (h - 1) * E + b,\n            contenteditable: !1,\n            spellcheck: !1,\n            tabindex: 0,\n            style: De({\n              border: T(r.value[(h - 1) * E + b]) ? \"2px solid var(--focus-cell-outline)\" : \"none\",\n              borderBottomColor: m(r.value[(h - 1) * E + b]) ? \"var(--focus-cell-outline)\" : \"none\"\n            }),\n            onClick: Ae((he) => fe(he, (h - 1) * E + b), [\"prevent\", \"stop\"]),\n            class: B({\n              todaysdate: m(r.value[(h - 1) * E + b]),\n              selecteddate: T(r.value[(h - 1) * E + b])\n            })\n          }, C(new Date(r.value[(h - 1) * E + b]).getDate()), 15, lt)), 64))\n        ])), 64))\n      ])\n    ], 8, nt));\n  }\n});\nconst rt = /* @__PURE__ */ I(at, [[\"__scopeId\", \"data-v-1e916ed1\"]]), it = k({\n  name: \"ADropdown\",\n  props: {\n    modelValue: {\n      type: String,\n      required: !1,\n      default: \"\"\n    },\n    label: {\n      type: String,\n      required: !0\n    },\n    value: String,\n    items: {\n      type: Array,\n      required: !1,\n      default: () => []\n    },\n    isAsync: {\n      type: Boolean,\n      required: !1,\n      default: !1\n    }\n  },\n  emits: [\"update:modelValue\", \"filterChanged\"],\n  data() {\n    return {\n      results: [],\n      search: this.modelValue,\n      isLoading: !1,\n      arrowCounter: 0,\n      isOpen: !1\n    };\n  },\n  watch: {\n    items: function(e, t) {\n      this.isLoading = !1, this.results = e;\n    }\n  },\n  mounted() {\n    document.addEventListener(\"click\", this.handleClickOutside), this.filterResults();\n  },\n  destroyed() {\n    document.removeEventListener(\"click\", this.handleClickOutside);\n  },\n  methods: {\n    setResult(e) {\n      this.search = e, this.closeResults();\n    },\n    filterResults() {\n      this.results = this.items.filter((e) => e.toLowerCase().indexOf(this.search.toLowerCase()) > -1);\n    },\n    onChange() {\n      this.isOpen = !0, this.isAsync ? (this.isLoading = !0, this.$emit(\"filterChanged\", this.search)) : this.filterResults();\n    },\n    handleClickOutside(e) {\n      this.$el.contains(e.target) || (this.closeResults(), this.arrowCounter = 0);\n    },\n    closeResults() {\n      this.isOpen = !1, this.items.includes(this.search) || (this.search = \"\"), this.$emit(\"update:modelValue\", this.search);\n    },\n    onArrowDown() {\n      this.arrowCounter < this.results.length && (this.arrowCounter = this.arrowCounter + 1);\n    },\n    onArrowUp() {\n      this.arrowCounter > 0 && (this.arrowCounter = this.arrowCounter - 1);\n    },\n    onEnter() {\n      this.search = this.results[this.arrowCounter], this.closeResults(), this.arrowCounter = 0;\n    },\n    openWithSearch() {\n      this.search = \"\", this.onChange(), this.$refs.mopInput.focus();\n    }\n  }\n});\nconst ut = { class: \"input-wrapper\" }, dt = {\n  id: \"autocomplete-results\",\n  class: \"autocomplete-results\"\n}, ct = {\n  key: 0,\n  class: \"loading autocomplete-result\"\n}, pt = [\"onClick\"];\nfunction ft(e, t, o, n, s, l) {\n  return f(), v(\"div\", {\n    class: B([\"autocomplete\", { isOpen: e.isOpen }])\n  }, [\n    i(\"div\", ut, [\n      w(i(\"input\", {\n        ref: \"mopInput\",\n        type: \"text\",\n        onInput: t[0] || (t[0] = (...a) => e.onChange && e.onChange(...a)),\n        onFocus: t[1] || (t[1] = (...a) => e.onChange && e.onChange(...a)),\n        \"onUpdate:modelValue\": t[2] || (t[2] = (a) => e.search = a),\n        onKeydown: [\n          t[3] || (t[3] = P((...a) => e.onArrowDown && e.onArrowDown(...a), [\"down\"])),\n          t[4] || (t[4] = P((...a) => e.onArrowUp && e.onArrowUp(...a), [\"up\"])),\n          t[5] || (t[5] = P((...a) => e.onEnter && e.onEnter(...a), [\"enter\"]))\n        ]\n      }, null, 544), [\n        [R, e.search]\n      ]),\n      w(i(\"ul\", dt, [\n        e.isLoading ? (f(), v(\"li\", ct, \"Loading results...\")) : (f(!0), v(x, { key: 1 }, V(e.results, (a, r) => (f(), v(\"li\", {\n          key: r,\n          onClick: (p) => e.setResult(a),\n          class: B([\"autocomplete-result\", { \"is-active\": r === e.arrowCounter }])\n        }, C(a), 11, pt))), 128))\n      ], 512), [\n        [$, e.isOpen]\n      ]),\n      i(\"label\", null, C(e.label), 1)\n    ])\n  ], 2);\n}\nconst mt = /* @__PURE__ */ I(it, [[\"render\", ft]]), vt = /* @__PURE__ */ k({\n  __name: \"CollapseButton\",\n  props: {\n    collapsed: { type: Boolean }\n  },\n  setup(e) {\n    return (t, o) => (f(), v(\"button\", {\n      class: B([\"collapse-button\", t.collapsed ? \"rotated\" : \"unrotated\"])\n    }, \"×\", 2));\n  }\n});\nconst ht = /* @__PURE__ */ I(vt, [[\"__scopeId\", \"data-v-fa78c7f7\"]]), yt = /* @__PURE__ */ k({\n  __name: \"AForm\",\n  props: {\n    modelValue: {},\n    data: {},\n    readonly: { type: Boolean }\n  },\n  emits: [\"update:modelValue\"],\n  setup(e, { emit: t }) {\n    const o = e, n = t, s = g(o.data || {}), l = (r) => {\n      let p = {};\n      for (const [u, d] of Object.entries(r))\n        [\"component\", \"fieldtype\"].includes(u) || (p[u] = d), u === \"rows\" && d && d.length === 0 && (p.rows = s.value[r.fieldname]);\n      return p;\n    }, a = S({\n      get: () => o.modelValue.map((r, p) => S({\n        get() {\n          return r.value;\n        },\n        set: (u) => {\n          o.modelValue[p].value = u, n(\"update:modelValue\", o.modelValue);\n        }\n      })),\n      set: () => {\n      }\n    });\n    return (r, p) => (f(), v(\"form\", null, [\n      (f(!0), v(x, null, V(r.modelValue, (u, d) => (f(), F(Ee(u.component), Ie({\n        key: d,\n        schema: u,\n        modelValue: a.value[d].value,\n        \"onUpdate:modelValue\": (y) => a.value[d].value = y,\n        data: s.value[u.fieldname],\n        readonly: r.readonly\n      }, l(u)), null, 16, [\"schema\", \"modelValue\", \"onUpdate:modelValue\", \"data\", \"readonly\"]))), 128))\n    ]));\n  }\n});\nconst pe = /* @__PURE__ */ I(yt, [[\"__scopeId\", \"data-v-e5beaceb\"]]), gt = /* @__PURE__ */ k({\n  __name: \"AFieldset\",\n  props: {\n    schema: {},\n    label: {},\n    collapsible: { type: Boolean },\n    data: {}\n  },\n  setup(e) {\n    const t = e, o = g(t.data || []);\n    let n = g(!1), s = g(t.collapsible);\n    const l = g(t.schema);\n    function a(r) {\n      r.preventDefault(), s.value && (n.value = !n.value);\n    }\n    return (r, p) => (f(), v(\"fieldset\", null, [\n      i(\"legend\", {\n        onClick: a,\n        onSubmit: a\n      }, [\n        Me(C(r.label) + \" \", 1),\n        O(s) ? (f(), F(ht, {\n          key: 0,\n          collapsed: O(n)\n        }, null, 8, [\"collapsed\"])) : re(\"\", !0)\n      ], 32),\n      Te(r.$slots, \"default\", { collapsed: O(n) }, () => [\n        w(Se(pe, {\n          modelValue: l.value,\n          \"onUpdate:modelValue\": p[0] || (p[0] = (u) => l.value = u),\n          data: o.value\n        }, null, 8, [\"modelValue\", \"data\"]), [\n          [$, !O(n)]\n        ])\n      ], !0)\n    ]));\n  }\n});\nconst _t = /* @__PURE__ */ I(gt, [[\"__scopeId\", \"data-v-f3ee8077\"]]), bt = [\"id\", \"disabled\", \"required\"], wt = [\"for\"], Ct = [\"innerHTML\"], kt = /* @__PURE__ */ k({\n  __name: \"ANumericInput\",\n  props: {\n    label: {},\n    modelValue: {},\n    required: { type: Boolean },\n    readonly: { type: Boolean },\n    uuid: {},\n    validation: { default: () => ({ errorMessage: \"&nbsp;\" }) }\n  },\n  emits: [\"update:modelValue\"],\n  setup(e, { emit: t }) {\n    const o = e, n = t, s = S({\n      get: () => o.modelValue,\n      set: (l) => {\n        n(\"update:modelValue\", l);\n      }\n    });\n    return (l, a) => (f(), v(\"div\", null, [\n      w(i(\"input\", {\n        \"onUpdate:modelValue\": a[0] || (a[0] = (r) => s.value = r),\n        type: \"number\",\n        id: l.uuid,\n        disabled: l.readonly,\n        required: l.required\n      }, null, 8, bt), [\n        [R, s.value]\n      ]),\n      i(\"label\", { for: l.uuid }, C(l.label), 9, wt),\n      w(i(\"p\", {\n        innerHTML: l.validation.errorMessage\n      }, null, 8, Ct), [\n        [$, l.validation.errorMessage]\n      ])\n    ]));\n  }\n});\nconst Dt = /* @__PURE__ */ I(kt, [[\"__scopeId\", \"data-v-8e4a9df5\"]]), le = {\n  date: \"##/##/####\",\n  datetime: \"####/##/## ##:##\",\n  time: \"##:##\",\n  fulltime: \"##:##:##\",\n  phone: \"(###) ### - ####\",\n  card: \"#### #### #### ####\"\n};\nfunction At(e) {\n  try {\n    return Function(`\"use strict\";return (${e})`)();\n  } catch {\n  }\n}\nfunction Et(e) {\n  var o;\n  let t = e.value;\n  if (t) {\n    const n = At(t);\n    if (n) {\n      const s = e.instance.locale;\n      t = n(s);\n    }\n  } else {\n    const s = (o = e.instance.schema.fieldtype) == null ? void 0 : o.toLowerCase();\n    s && le[s] && (t = le[s]);\n  }\n  return t;\n}\nfunction It(e, t) {\n  t || (t = \"#\");\n  let o = e;\n  const n = [t, \"/\", \"-\", \"(\", \")\", \" \"];\n  for (const s of n)\n    o = o.replaceAll(s, \"\");\n  return o;\n}\nfunction Mt(e, t, o) {\n  o || (o = \"#\");\n  let n = t;\n  for (const s of e) {\n    const l = n.indexOf(o);\n    if (l !== -1) {\n      const a = n.substring(0, l), r = n.substring(l + 1);\n      n = a + s + r;\n    }\n  }\n  return n.slice(0, t.length);\n}\nfunction Tt(e, t) {\n  const o = Et(t);\n  if (!o)\n    return;\n  const n = \"#\", s = e.value, l = It(s, n);\n  if (l) {\n    const a = Mt(l, o, n);\n    t.instance.maskFilled && (t.instance.maskFilled = !a.includes(n)), e.value = a;\n  } else\n    e.value = o;\n}\nconst St = k({\n  name: \"ATextInput\",\n  props: {\n    schema: {\n      type: Object,\n      required: !0\n    },\n    label: {\n      type: String,\n      required: !0\n    },\n    modelValue: {\n      type: null\n    },\n    mask: {\n      type: String\n    },\n    required: {\n      type: Boolean\n    },\n    readonly: {\n      type: Boolean\n    },\n    uuid: {\n      type: String\n    },\n    validation: {\n      type: Object,\n      default: () => ({ errorMessage: \"&nbsp;\" })\n    }\n  },\n  setup(e, t) {\n    const o = g(!1), n = ae(\"locale\", \"\");\n    return { inputText: S({\n      get() {\n        return e.modelValue;\n      },\n      set(l) {\n        t.emit(\"update:modelValue\", l);\n      }\n    }), locale: n, maskFilled: o };\n  },\n  directives: {\n    mask: Tt\n  }\n});\nconst Ot = [\"id\", \"disabled\", \"maxlength\", \"required\"], $t = [\"for\"], Lt = [\"innerHTML\"];\nfunction xt(e, t, o, n, s, l) {\n  const a = Oe(\"mask\");\n  return f(), v(\"div\", null, [\n    w(i(\"input\", {\n      \"onUpdate:modelValue\": t[0] || (t[0] = (r) => e.inputText = r),\n      id: e.uuid,\n      disabled: e.readonly,\n      maxlength: e.mask ? e.maskFilled && e.mask.length : void 0,\n      required: e.required\n    }, null, 8, Ot), [\n      [R, e.inputText],\n      [a, e.mask]\n    ]),\n    i(\"label\", { for: e.uuid }, C(e.label), 9, $t),\n    w(i(\"p\", {\n      innerHTML: e.validation.errorMessage\n    }, null, 8, Lt), [\n      [$, e.validation.errorMessage]\n    ])\n  ]);\n}\nconst Vt = /* @__PURE__ */ I(St, [[\"render\", xt], [\"__scopeId\", \"data-v-083a37fb\"]]);\nfunction Pt(e) {\n  e.component(\"ACheckbox\", qe), e.component(\"ACombobox\", He), e.component(\"ADate\", rt), e.component(\"ADropdown\", mt), e.component(\"AFieldset\", _t), e.component(\"AForm\", pe), e.component(\"ANumericInput\", Dt), e.component(\"ATextInput\", Vt);\n}\nexport {\n  qe as ACheckbox,\n  He as AComboBox,\n  rt as ADate,\n  mt as ADropdown,\n  _t as AFieldset,\n  pe as AForm,\n  Dt as ANumericInput,\n  Vt as ATextInput,\n  Pt as install\n};\n//# sourceMappingURL=aform.js.map\n","import { effectScope, ref, markRaw, toRaw, hasInjectionContext, inject, getCurrentInstance, watch, unref, reactive, isRef, isReactive, toRef, nextTick, computed, getCurrentScope, onScopeDispose, toRefs, onBeforeMount, shallowRef, shallowReactive, defineComponent, h as h$1, provide, watchEffect } from \"vue\";\nfunction NotImplementedError(message) {\n  this.message = message || \"\";\n}\nNotImplementedError.prototype = Object.create(Error.prototype, {\n  constructor: { value: NotImplementedError },\n  name: { value: \"NotImplemented\" },\n  stack: {\n    get: function() {\n      return new Error().stack;\n    }\n  }\n});\nclass Stonecrop {\n  /**\n   * @constructor\n   * @param {Registry} registry - The immutable registry\n   * @param {ReturnType<typeof useDataStore>} store - The mutable Pinia store\n   * @param {Schema} [schema] - (optional) The Stonecrop schema\n   * @param {ImmutableDoctype['workflow']} [workflow] - (optional) The Stonecrop workflow\n   * @param {ImmutableDoctype['actions']} [actions] - (optional) The Stonecrop actions\n   * @returns {Stonecrop} The Stonecrop instance\n   * @description The Stonecrop constructor initializes a new Stonecrop instance with the given registry, store, schema, workflow, and actions. If a Stonecrop instance has already been created, it returns the existing instance instead of creating a new one.\n   * @example\n   * const registry = new Registry()\n   * const store = useDataStore()\n   * const stonecrop = new Stonecrop(registry, store, schema, workflow, actions)\n   */\n  constructor(registry, store, schema, workflow, actions) {\n    this.name = \"Stonecrop\";\n    if (Stonecrop._root) {\n      return Stonecrop._root;\n    }\n    Stonecrop._root = this;\n    this.registry = registry;\n    this.store = store;\n    this.schema = schema;\n    this.workflow = workflow;\n    this.actions = actions;\n  }\n  /**\n   * @method setup\n   * @param {DoctypeMeta} doctype - The doctype to setup\n   * @returns {void}\n   * @description Sets up the Stonecrop instance with the given doctype\n   * @example\n   * const doctype = await registry.getMeta('Task')\n   * stonecrop.setup(doctype)\n   */\n  setup(doctype) {\n    this.getMeta(doctype);\n    this.getWorkflow(doctype);\n    this.getActions(doctype);\n  }\n  /**\n   * @method getMeta\n   * @param {DoctypeMeta} doctype - The doctype to get meta for\n   * @returns {DoctypeMeta}\n   * @see {@link DoctypeMeta}\n   * @throws NotImplementedError\n   * @description Gets the meta for the given doctype\n   * @example\n   * const doctype = await registry.getMeta('Task')\n   * const meta = stonecrop.getMeta(doctype)\n   */\n  getMeta(doctype) {\n    return this.registry.getMeta ? this.registry.getMeta(doctype.doctype) : new NotImplementedError(doctype.doctype);\n  }\n  /**\n   * @method getWorkflow\n   * @param {DoctypeMeta} doctype - The doctype to get workflow for\n   * @returns {void}\n   * @description Gets the workflow for the given doctype\n   * @example\n   * const doctype = await registry.getMeta('Task')\n   * stonecrop.getWorkflow(doctype)\n   */\n  getWorkflow(doctype) {\n    const doctypeRegistry = this.registry.registry[doctype.slug];\n    this.workflow = doctypeRegistry.workflow;\n  }\n  /**\n   * @method getActions\n   * @param {DoctypeMeta} doctype - The doctype to get actions for\n   * @returns {void}\n   * @description Gets the actions for the given doctype\n   * @example\n   * const doctype = await registry.getMeta('Task')\n   * stonecrop.getActions(doctype)\n   */\n  getActions(doctype) {\n    const doctypeRegistry = this.registry.registry[doctype.slug];\n    this.actions = doctypeRegistry.actions;\n  }\n  /**\n   * @method getRecords\n   * @param {DoctypeMeta} doctype - The doctype to get records for\n   * @param {RequestInit} [filters] - The filters to apply to the records\n   * @returns {Promise<void>}\n   * @description Gets the records for the given doctype\n   * @example\n   * const doctype = await registry.getMeta('Task')\n   * await stonecrop.getRecords(doctype)\n   * @example\n   * const doctype = await registry.getMeta('Task')\n   * const filters = JSON.stringify({ status: 'Open' })\n   * await stonecrop.getRecords(doctype, { body: filters })\n   */\n  async getRecords(doctype, filters) {\n    this.store.$patch({ records: [] });\n    const records = await fetch(`/${doctype.slug}`, filters);\n    const data = await records.json();\n    this.store.$patch({ records: data });\n  }\n  /**\n   * @method getRecord\n   * @param {DoctypeMeta} doctype - The doctype to get record for\n   * @param {string} id - The id of the record to get\n   * @returns {Promise<void>}\n   * @description Gets the record for the given doctype and id\n   * @example\n   * const doctype = await registry.getMeta('Task')\n   * await stonecrop.getRecord(doctype, 'TASK-00001')\n   */\n  async getRecord(doctype, id) {\n    this.store.$patch({ record: {} });\n    const record = await fetch(`/${doctype.slug}/${id}`);\n    const data = await record.json();\n    this.store.$patch({ record: data });\n  }\n  /**\n   * @method runAction\n   * @param {DoctypeMeta} doctype - The doctype to run action for\n   * @param {string} action - The action to run\n   * @param {string[]} [id] - The id(s) of the record(s) to run action on\n   * @returns {void}\n   * @description Runs the action for the given doctype and id\n   * @example\n   * const doctype = await registry.getMeta('Task')\n   * stonecrop.runAction(doctype, 'CREATE')\n   * @example\n   * const doctype = await registry.getMeta('Task')\n   * stonecrop.runAction(doctype, 'UPDATE', ['TASK-00001'])\n   * @example\n   * const doctype = await registry.getMeta('Task')\n   * stonecrop.runAction(doctype, 'DELETE', ['TASK-00001'])\n   * @example\n   * const doctype = await registry.getMeta('Task')\n   * stonecrop.runAction(doctype, 'TRANSITION', ['TASK-00001', 'TASK-00002'])\n   */\n  runAction(doctype, action, id) {\n    const doctypeRegistry = this.registry.registry[doctype.slug];\n    const actions = doctypeRegistry.actions.get(action);\n    const { initialState } = this.workflow;\n    this.workflow.transition(initialState, { type: action });\n    if (actions.length > 0) {\n      actions.forEach((action2) => {\n        const actionFn = new Function(action2);\n        actionFn(id);\n      });\n    }\n  }\n}\nvar isVue2 = false;\nfunction set(target, key, val) {\n  if (Array.isArray(target)) {\n    target.length = Math.max(target.length, key);\n    target.splice(key, 1, val);\n    return val;\n  }\n  target[key] = val;\n  return val;\n}\nfunction del(target, key) {\n  if (Array.isArray(target)) {\n    target.splice(key, 1);\n    return;\n  }\n  delete target[key];\n}\nfunction getDevtoolsGlobalHook() {\n  return getTarget().__VUE_DEVTOOLS_GLOBAL_HOOK__;\n}\nfunction getTarget() {\n  return typeof navigator !== \"undefined\" && typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {};\n}\nconst isProxyAvailable = typeof Proxy === \"function\";\nconst HOOK_SETUP = \"devtools-plugin:setup\";\nconst HOOK_PLUGIN_SETTINGS_SET = \"plugin:settings:set\";\nlet supported;\nlet perf;\nfunction isPerformanceSupported() {\n  var _a;\n  if (supported !== void 0) {\n    return supported;\n  }\n  if (typeof window !== \"undefined\" && window.performance) {\n    supported = true;\n    perf = window.performance;\n  } else if (typeof global !== \"undefined\" && ((_a = global.perf_hooks) === null || _a === void 0 ? void 0 : _a.performance)) {\n    supported = true;\n    perf = global.perf_hooks.performance;\n  } else {\n    supported = false;\n  }\n  return supported;\n}\nfunction now$1() {\n  return isPerformanceSupported() ? perf.now() : Date.now();\n}\nclass ApiProxy {\n  constructor(plugin, hook) {\n    this.target = null;\n    this.targetQueue = [];\n    this.onQueue = [];\n    this.plugin = plugin;\n    this.hook = hook;\n    const defaultSettings = {};\n    if (plugin.settings) {\n      for (const id in plugin.settings) {\n        const item = plugin.settings[id];\n        defaultSettings[id] = item.defaultValue;\n      }\n    }\n    const localSettingsSaveId = `__vue-devtools-plugin-settings__${plugin.id}`;\n    let currentSettings = Object.assign({}, defaultSettings);\n    try {\n      const raw = localStorage.getItem(localSettingsSaveId);\n      const data = JSON.parse(raw);\n      Object.assign(currentSettings, data);\n    } catch (e) {\n    }\n    this.fallbacks = {\n      getSettings() {\n        return currentSettings;\n      },\n      setSettings(value) {\n        try {\n          localStorage.setItem(localSettingsSaveId, JSON.stringify(value));\n        } catch (e) {\n        }\n        currentSettings = value;\n      },\n      now() {\n        return now$1();\n      }\n    };\n    if (hook) {\n      hook.on(HOOK_PLUGIN_SETTINGS_SET, (pluginId, value) => {\n        if (pluginId === this.plugin.id) {\n          this.fallbacks.setSettings(value);\n        }\n      });\n    }\n    this.proxiedOn = new Proxy({}, {\n      get: (_target, prop) => {\n        if (this.target) {\n          return this.target.on[prop];\n        } else {\n          return (...args) => {\n            this.onQueue.push({\n              method: prop,\n              args\n            });\n          };\n        }\n      }\n    });\n    this.proxiedTarget = new Proxy({}, {\n      get: (_target, prop) => {\n        if (this.target) {\n          return this.target[prop];\n        } else if (prop === \"on\") {\n          return this.proxiedOn;\n        } else if (Object.keys(this.fallbacks).includes(prop)) {\n          return (...args) => {\n            this.targetQueue.push({\n              method: prop,\n              args,\n              resolve: () => {\n              }\n            });\n            return this.fallbacks[prop](...args);\n          };\n        } else {\n          return (...args) => {\n            return new Promise((resolve) => {\n              this.targetQueue.push({\n                method: prop,\n                args,\n                resolve\n              });\n            });\n          };\n        }\n      }\n    });\n  }\n  async setRealTarget(target) {\n    this.target = target;\n    for (const item of this.onQueue) {\n      this.target.on[item.method](...item.args);\n    }\n    for (const item of this.targetQueue) {\n      item.resolve(await this.target[item.method](...item.args));\n    }\n  }\n}\nfunction setupDevtoolsPlugin(pluginDescriptor, setupFn) {\n  const descriptor = pluginDescriptor;\n  const target = getTarget();\n  const hook = getDevtoolsGlobalHook();\n  const enableProxy = isProxyAvailable && descriptor.enableEarlyProxy;\n  if (hook && (target.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__ || !enableProxy)) {\n    hook.emit(HOOK_SETUP, pluginDescriptor, setupFn);\n  } else {\n    const proxy = enableProxy ? new ApiProxy(descriptor, hook) : null;\n    const list = target.__VUE_DEVTOOLS_PLUGINS__ = target.__VUE_DEVTOOLS_PLUGINS__ || [];\n    list.push({\n      pluginDescriptor: descriptor,\n      setupFn,\n      proxy\n    });\n    if (proxy)\n      setupFn(proxy.proxiedTarget);\n  }\n}\n/*!\n * pinia v2.1.7\n * (c) 2023 Eduardo San Martin Morote\n * @license MIT\n */\nlet activePinia;\nconst setActivePinia = (pinia2) => activePinia = pinia2;\nconst piniaSymbol = process.env.NODE_ENV !== \"production\" ? Symbol(\"pinia\") : (\n  /* istanbul ignore next */\n  Symbol()\n);\nfunction isPlainObject(o) {\n  return o && typeof o === \"object\" && Object.prototype.toString.call(o) === \"[object Object]\" && typeof o.toJSON !== \"function\";\n}\nvar MutationType;\n(function(MutationType2) {\n  MutationType2[\"direct\"] = \"direct\";\n  MutationType2[\"patchObject\"] = \"patch object\";\n  MutationType2[\"patchFunction\"] = \"patch function\";\n})(MutationType || (MutationType = {}));\nconst IS_CLIENT = typeof window !== \"undefined\";\nconst USE_DEVTOOLS = (process.env.NODE_ENV !== \"production\" || false) && !(process.env.NODE_ENV === \"test\") && IS_CLIENT;\nconst _global = /* @__PURE__ */ (() => typeof window === \"object\" && window.window === window ? window : typeof self === \"object\" && self.self === self ? self : typeof global === \"object\" && global.global === global ? global : typeof globalThis === \"object\" ? globalThis : { HTMLElement: null })();\nfunction bom(blob, { autoBom = false } = {}) {\n  if (autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n    return new Blob([String.fromCharCode(65279), blob], { type: blob.type });\n  }\n  return blob;\n}\nfunction download(url, name, opts) {\n  const xhr = new XMLHttpRequest();\n  xhr.open(\"GET\", url);\n  xhr.responseType = \"blob\";\n  xhr.onload = function() {\n    saveAs(xhr.response, name, opts);\n  };\n  xhr.onerror = function() {\n    console.error(\"could not download file\");\n  };\n  xhr.send();\n}\nfunction corsEnabled(url) {\n  const xhr = new XMLHttpRequest();\n  xhr.open(\"HEAD\", url, false);\n  try {\n    xhr.send();\n  } catch (e) {\n  }\n  return xhr.status >= 200 && xhr.status <= 299;\n}\nfunction click(node) {\n  try {\n    node.dispatchEvent(new MouseEvent(\"click\"));\n  } catch (e) {\n    const evt = document.createEvent(\"MouseEvents\");\n    evt.initMouseEvent(\"click\", true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null);\n    node.dispatchEvent(evt);\n  }\n}\nconst _navigator = typeof navigator === \"object\" ? navigator : { userAgent: \"\" };\nconst isMacOSWebView = /* @__PURE__ */ (() => /Macintosh/.test(_navigator.userAgent) && /AppleWebKit/.test(_navigator.userAgent) && !/Safari/.test(_navigator.userAgent))();\nconst saveAs = !IS_CLIENT ? () => {\n} : (\n  // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView or mini program\n  typeof HTMLAnchorElement !== \"undefined\" && \"download\" in HTMLAnchorElement.prototype && !isMacOSWebView ? downloadSaveAs : (\n    // Use msSaveOrOpenBlob as a second approach\n    \"msSaveOrOpenBlob\" in _navigator ? msSaveAs : (\n      // Fallback to using FileReader and a popup\n      fileSaverSaveAs\n    )\n  )\n);\nfunction downloadSaveAs(blob, name = \"download\", opts) {\n  const a = document.createElement(\"a\");\n  a.download = name;\n  a.rel = \"noopener\";\n  if (typeof blob === \"string\") {\n    a.href = blob;\n    if (a.origin !== location.origin) {\n      if (corsEnabled(a.href)) {\n        download(blob, name, opts);\n      } else {\n        a.target = \"_blank\";\n        click(a);\n      }\n    } else {\n      click(a);\n    }\n  } else {\n    a.href = URL.createObjectURL(blob);\n    setTimeout(function() {\n      URL.revokeObjectURL(a.href);\n    }, 4e4);\n    setTimeout(function() {\n      click(a);\n    }, 0);\n  }\n}\nfunction msSaveAs(blob, name = \"download\", opts) {\n  if (typeof blob === \"string\") {\n    if (corsEnabled(blob)) {\n      download(blob, name, opts);\n    } else {\n      const a = document.createElement(\"a\");\n      a.href = blob;\n      a.target = \"_blank\";\n      setTimeout(function() {\n        click(a);\n      });\n    }\n  } else {\n    navigator.msSaveOrOpenBlob(bom(blob, opts), name);\n  }\n}\nfunction fileSaverSaveAs(blob, name, opts, popup) {\n  popup = popup || open(\"\", \"_blank\");\n  if (popup) {\n    popup.document.title = popup.document.body.innerText = \"downloading...\";\n  }\n  if (typeof blob === \"string\")\n    return download(blob, name, opts);\n  const force = blob.type === \"application/octet-stream\";\n  const isSafari = /constructor/i.test(String(_global.HTMLElement)) || \"safari\" in _global;\n  const isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent);\n  if ((isChromeIOS || force && isSafari || isMacOSWebView) && typeof FileReader !== \"undefined\") {\n    const reader = new FileReader();\n    reader.onloadend = function() {\n      let url = reader.result;\n      if (typeof url !== \"string\") {\n        popup = null;\n        throw new Error(\"Wrong reader.result type\");\n      }\n      url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, \"data:attachment/file;\");\n      if (popup) {\n        popup.location.href = url;\n      } else {\n        location.assign(url);\n      }\n      popup = null;\n    };\n    reader.readAsDataURL(blob);\n  } else {\n    const url = URL.createObjectURL(blob);\n    if (popup)\n      popup.location.assign(url);\n    else\n      location.href = url;\n    popup = null;\n    setTimeout(function() {\n      URL.revokeObjectURL(url);\n    }, 4e4);\n  }\n}\nfunction toastMessage(message, type2) {\n  const piniaMessage = \"🍍 \" + message;\n  if (typeof __VUE_DEVTOOLS_TOAST__ === \"function\") {\n    __VUE_DEVTOOLS_TOAST__(piniaMessage, type2);\n  } else if (type2 === \"error\") {\n    console.error(piniaMessage);\n  } else if (type2 === \"warn\") {\n    console.warn(piniaMessage);\n  } else {\n    console.log(piniaMessage);\n  }\n}\nfunction isPinia(o) {\n  return \"_a\" in o && \"install\" in o;\n}\nfunction checkClipboardAccess() {\n  if (!(\"clipboard\" in navigator)) {\n    toastMessage(`Your browser doesn't support the Clipboard API`, \"error\");\n    return true;\n  }\n}\nfunction checkNotFocusedError(error) {\n  if (error instanceof Error && error.message.toLowerCase().includes(\"document is not focused\")) {\n    toastMessage('You need to activate the \"Emulate a focused page\" setting in the \"Rendering\" panel of devtools.', \"warn\");\n    return true;\n  }\n  return false;\n}\nasync function actionGlobalCopyState(pinia2) {\n  if (checkClipboardAccess())\n    return;\n  try {\n    await navigator.clipboard.writeText(JSON.stringify(pinia2.state.value));\n    toastMessage(\"Global state copied to clipboard.\");\n  } catch (error) {\n    if (checkNotFocusedError(error))\n      return;\n    toastMessage(`Failed to serialize the state. Check the console for more details.`, \"error\");\n    console.error(error);\n  }\n}\nasync function actionGlobalPasteState(pinia2) {\n  if (checkClipboardAccess())\n    return;\n  try {\n    loadStoresState(pinia2, JSON.parse(await navigator.clipboard.readText()));\n    toastMessage(\"Global state pasted from clipboard.\");\n  } catch (error) {\n    if (checkNotFocusedError(error))\n      return;\n    toastMessage(`Failed to deserialize the state from clipboard. Check the console for more details.`, \"error\");\n    console.error(error);\n  }\n}\nasync function actionGlobalSaveState(pinia2) {\n  try {\n    saveAs(new Blob([JSON.stringify(pinia2.state.value)], {\n      type: \"text/plain;charset=utf-8\"\n    }), \"pinia-state.json\");\n  } catch (error) {\n    toastMessage(`Failed to export the state as JSON. Check the console for more details.`, \"error\");\n    console.error(error);\n  }\n}\nlet fileInput;\nfunction getFileOpener() {\n  if (!fileInput) {\n    fileInput = document.createElement(\"input\");\n    fileInput.type = \"file\";\n    fileInput.accept = \".json\";\n  }\n  function openFile() {\n    return new Promise((resolve, reject) => {\n      fileInput.onchange = async () => {\n        const files = fileInput.files;\n        if (!files)\n          return resolve(null);\n        const file = files.item(0);\n        if (!file)\n          return resolve(null);\n        return resolve({ text: await file.text(), file });\n      };\n      fileInput.oncancel = () => resolve(null);\n      fileInput.onerror = reject;\n      fileInput.click();\n    });\n  }\n  return openFile;\n}\nasync function actionGlobalOpenStateFile(pinia2) {\n  try {\n    const open2 = getFileOpener();\n    const result = await open2();\n    if (!result)\n      return;\n    const { text, file } = result;\n    loadStoresState(pinia2, JSON.parse(text));\n    toastMessage(`Global state imported from \"${file.name}\".`);\n  } catch (error) {\n    toastMessage(`Failed to import the state from JSON. Check the console for more details.`, \"error\");\n    console.error(error);\n  }\n}\nfunction loadStoresState(pinia2, state) {\n  for (const key in state) {\n    const storeState = pinia2.state.value[key];\n    if (storeState) {\n      Object.assign(storeState, state[key]);\n    } else {\n      pinia2.state.value[key] = state[key];\n    }\n  }\n}\nfunction formatDisplay$1(display) {\n  return {\n    _custom: {\n      display\n    }\n  };\n}\nconst PINIA_ROOT_LABEL = \"🍍 Pinia (root)\";\nconst PINIA_ROOT_ID = \"_root\";\nfunction formatStoreForInspectorTree(store) {\n  return isPinia(store) ? {\n    id: PINIA_ROOT_ID,\n    label: PINIA_ROOT_LABEL\n  } : {\n    id: store.$id,\n    label: store.$id\n  };\n}\nfunction formatStoreForInspectorState(store) {\n  if (isPinia(store)) {\n    const storeNames = Array.from(store._s.keys());\n    const storeMap = store._s;\n    const state2 = {\n      state: storeNames.map((storeId) => ({\n        editable: true,\n        key: storeId,\n        value: store.state.value[storeId]\n      })),\n      getters: storeNames.filter((id) => storeMap.get(id)._getters).map((id) => {\n        const store2 = storeMap.get(id);\n        return {\n          editable: false,\n          key: id,\n          value: store2._getters.reduce((getters, key) => {\n            getters[key] = store2[key];\n            return getters;\n          }, {})\n        };\n      })\n    };\n    return state2;\n  }\n  const state = {\n    state: Object.keys(store.$state).map((key) => ({\n      editable: true,\n      key,\n      value: store.$state[key]\n    }))\n  };\n  if (store._getters && store._getters.length) {\n    state.getters = store._getters.map((getterName) => ({\n      editable: false,\n      key: getterName,\n      value: store[getterName]\n    }));\n  }\n  if (store._customProperties.size) {\n    state.customProperties = Array.from(store._customProperties).map((key) => ({\n      editable: true,\n      key,\n      value: store[key]\n    }));\n  }\n  return state;\n}\nfunction formatEventData(events) {\n  if (!events)\n    return {};\n  if (Array.isArray(events)) {\n    return events.reduce((data, event) => {\n      data.keys.push(event.key);\n      data.operations.push(event.type);\n      data.oldValue[event.key] = event.oldValue;\n      data.newValue[event.key] = event.newValue;\n      return data;\n    }, {\n      oldValue: {},\n      keys: [],\n      operations: [],\n      newValue: {}\n    });\n  } else {\n    return {\n      operation: formatDisplay$1(events.type),\n      key: formatDisplay$1(events.key),\n      oldValue: events.oldValue,\n      newValue: events.newValue\n    };\n  }\n}\nfunction formatMutationType(type2) {\n  switch (type2) {\n    case MutationType.direct:\n      return \"mutation\";\n    case MutationType.patchFunction:\n      return \"$patch\";\n    case MutationType.patchObject:\n      return \"$patch\";\n    default:\n      return \"unknown\";\n  }\n}\nlet isTimelineActive = true;\nconst componentStateTypes = [];\nconst MUTATIONS_LAYER_ID = \"pinia:mutations\";\nconst INSPECTOR_ID = \"pinia\";\nconst { assign: assign$1 } = Object;\nconst getStoreType = (id) => \"🍍 \" + id;\nfunction registerPiniaDevtools(app, pinia2) {\n  setupDevtoolsPlugin({\n    id: \"dev.esm.pinia\",\n    label: \"Pinia 🍍\",\n    logo: \"https://pinia.vuejs.org/logo.svg\",\n    packageName: \"pinia\",\n    homepage: \"https://pinia.vuejs.org\",\n    componentStateTypes,\n    app\n  }, (api) => {\n    if (typeof api.now !== \"function\") {\n      toastMessage(\"You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html.\");\n    }\n    api.addTimelineLayer({\n      id: MUTATIONS_LAYER_ID,\n      label: `Pinia 🍍`,\n      color: 15064968\n    });\n    api.addInspector({\n      id: INSPECTOR_ID,\n      label: \"Pinia 🍍\",\n      icon: \"storage\",\n      treeFilterPlaceholder: \"Search stores\",\n      actions: [\n        {\n          icon: \"content_copy\",\n          action: () => {\n            actionGlobalCopyState(pinia2);\n          },\n          tooltip: \"Serialize and copy the state\"\n        },\n        {\n          icon: \"content_paste\",\n          action: async () => {\n            await actionGlobalPasteState(pinia2);\n            api.sendInspectorTree(INSPECTOR_ID);\n            api.sendInspectorState(INSPECTOR_ID);\n          },\n          tooltip: \"Replace the state with the content of your clipboard\"\n        },\n        {\n          icon: \"save\",\n          action: () => {\n            actionGlobalSaveState(pinia2);\n          },\n          tooltip: \"Save the state as a JSON file\"\n        },\n        {\n          icon: \"folder_open\",\n          action: async () => {\n            await actionGlobalOpenStateFile(pinia2);\n            api.sendInspectorTree(INSPECTOR_ID);\n            api.sendInspectorState(INSPECTOR_ID);\n          },\n          tooltip: \"Import the state from a JSON file\"\n        }\n      ],\n      nodeActions: [\n        {\n          icon: \"restore\",\n          tooltip: 'Reset the state (with \"$reset\")',\n          action: (nodeId) => {\n            const store = pinia2._s.get(nodeId);\n            if (!store) {\n              toastMessage(`Cannot reset \"${nodeId}\" store because it wasn't found.`, \"warn\");\n            } else if (typeof store.$reset !== \"function\") {\n              toastMessage(`Cannot reset \"${nodeId}\" store because it doesn't have a \"$reset\" method implemented.`, \"warn\");\n            } else {\n              store.$reset();\n              toastMessage(`Store \"${nodeId}\" reset.`);\n            }\n          }\n        }\n      ]\n    });\n    api.on.inspectComponent((payload, ctx) => {\n      const proxy = payload.componentInstance && payload.componentInstance.proxy;\n      if (proxy && proxy._pStores) {\n        const piniaStores = payload.componentInstance.proxy._pStores;\n        Object.values(piniaStores).forEach((store) => {\n          payload.instanceData.state.push({\n            type: getStoreType(store.$id),\n            key: \"state\",\n            editable: true,\n            value: store._isOptionsAPI ? {\n              _custom: {\n                value: toRaw(store.$state),\n                actions: [\n                  {\n                    icon: \"restore\",\n                    tooltip: \"Reset the state of this store\",\n                    action: () => store.$reset()\n                  }\n                ]\n              }\n            } : (\n              // NOTE: workaround to unwrap transferred refs\n              Object.keys(store.$state).reduce((state, key) => {\n                state[key] = store.$state[key];\n                return state;\n              }, {})\n            )\n          });\n          if (store._getters && store._getters.length) {\n            payload.instanceData.state.push({\n              type: getStoreType(store.$id),\n              key: \"getters\",\n              editable: false,\n              value: store._getters.reduce((getters, key) => {\n                try {\n                  getters[key] = store[key];\n                } catch (error) {\n                  getters[key] = error;\n                }\n                return getters;\n              }, {})\n            });\n          }\n        });\n      }\n    });\n    api.on.getInspectorTree((payload) => {\n      if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n        let stores = [pinia2];\n        stores = stores.concat(Array.from(pinia2._s.values()));\n        payload.rootNodes = (payload.filter ? stores.filter((store) => \"$id\" in store ? store.$id.toLowerCase().includes(payload.filter.toLowerCase()) : PINIA_ROOT_LABEL.toLowerCase().includes(payload.filter.toLowerCase())) : stores).map(formatStoreForInspectorTree);\n      }\n    });\n    api.on.getInspectorState((payload) => {\n      if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n        const inspectedStore = payload.nodeId === PINIA_ROOT_ID ? pinia2 : pinia2._s.get(payload.nodeId);\n        if (!inspectedStore) {\n          return;\n        }\n        if (inspectedStore) {\n          payload.state = formatStoreForInspectorState(inspectedStore);\n        }\n      }\n    });\n    api.on.editInspectorState((payload, ctx) => {\n      if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n        const inspectedStore = payload.nodeId === PINIA_ROOT_ID ? pinia2 : pinia2._s.get(payload.nodeId);\n        if (!inspectedStore) {\n          return toastMessage(`store \"${payload.nodeId}\" not found`, \"error\");\n        }\n        const { path } = payload;\n        if (!isPinia(inspectedStore)) {\n          if (path.length !== 1 || !inspectedStore._customProperties.has(path[0]) || path[0] in inspectedStore.$state) {\n            path.unshift(\"$state\");\n          }\n        } else {\n          path.unshift(\"state\");\n        }\n        isTimelineActive = false;\n        payload.set(inspectedStore, path, payload.state.value);\n        isTimelineActive = true;\n      }\n    });\n    api.on.editComponentState((payload) => {\n      if (payload.type.startsWith(\"🍍\")) {\n        const storeId = payload.type.replace(/^🍍\\s*/, \"\");\n        const store = pinia2._s.get(storeId);\n        if (!store) {\n          return toastMessage(`store \"${storeId}\" not found`, \"error\");\n        }\n        const { path } = payload;\n        if (path[0] !== \"state\") {\n          return toastMessage(`Invalid path for store \"${storeId}\":\n${path}\nOnly state can be modified.`);\n        }\n        path[0] = \"$state\";\n        isTimelineActive = false;\n        payload.set(store, path, payload.state.value);\n        isTimelineActive = true;\n      }\n    });\n  });\n}\nfunction addStoreToDevtools(app, store) {\n  if (!componentStateTypes.includes(getStoreType(store.$id))) {\n    componentStateTypes.push(getStoreType(store.$id));\n  }\n  setupDevtoolsPlugin({\n    id: \"dev.esm.pinia\",\n    label: \"Pinia 🍍\",\n    logo: \"https://pinia.vuejs.org/logo.svg\",\n    packageName: \"pinia\",\n    homepage: \"https://pinia.vuejs.org\",\n    componentStateTypes,\n    app,\n    settings: {\n      logStoreChanges: {\n        label: \"Notify about new/deleted stores\",\n        type: \"boolean\",\n        defaultValue: true\n      }\n      // useEmojis: {\n      //   label: 'Use emojis in messages ⚡️',\n      //   type: 'boolean',\n      //   defaultValue: true,\n      // },\n    }\n  }, (api) => {\n    const now2 = typeof api.now === \"function\" ? api.now.bind(api) : Date.now;\n    store.$onAction(({ after, onError, name, args }) => {\n      const groupId = runningActionId++;\n      api.addTimelineEvent({\n        layerId: MUTATIONS_LAYER_ID,\n        event: {\n          time: now2(),\n          title: \"🛫 \" + name,\n          subtitle: \"start\",\n          data: {\n            store: formatDisplay$1(store.$id),\n            action: formatDisplay$1(name),\n            args\n          },\n          groupId\n        }\n      });\n      after((result) => {\n        activeAction = void 0;\n        api.addTimelineEvent({\n          layerId: MUTATIONS_LAYER_ID,\n          event: {\n            time: now2(),\n            title: \"🛬 \" + name,\n            subtitle: \"end\",\n            data: {\n              store: formatDisplay$1(store.$id),\n              action: formatDisplay$1(name),\n              args,\n              result\n            },\n            groupId\n          }\n        });\n      });\n      onError((error) => {\n        activeAction = void 0;\n        api.addTimelineEvent({\n          layerId: MUTATIONS_LAYER_ID,\n          event: {\n            time: now2(),\n            logType: \"error\",\n            title: \"💥 \" + name,\n            subtitle: \"end\",\n            data: {\n              store: formatDisplay$1(store.$id),\n              action: formatDisplay$1(name),\n              args,\n              error\n            },\n            groupId\n          }\n        });\n      });\n    }, true);\n    store._customProperties.forEach((name) => {\n      watch(() => unref(store[name]), (newValue, oldValue) => {\n        api.notifyComponentUpdate();\n        api.sendInspectorState(INSPECTOR_ID);\n        if (isTimelineActive) {\n          api.addTimelineEvent({\n            layerId: MUTATIONS_LAYER_ID,\n            event: {\n              time: now2(),\n              title: \"Change\",\n              subtitle: name,\n              data: {\n                newValue,\n                oldValue\n              },\n              groupId: activeAction\n            }\n          });\n        }\n      }, { deep: true });\n    });\n    store.$subscribe(({ events, type: type2 }, state) => {\n      api.notifyComponentUpdate();\n      api.sendInspectorState(INSPECTOR_ID);\n      if (!isTimelineActive)\n        return;\n      const eventData = {\n        time: now2(),\n        title: formatMutationType(type2),\n        data: assign$1({ store: formatDisplay$1(store.$id) }, formatEventData(events)),\n        groupId: activeAction\n      };\n      if (type2 === MutationType.patchFunction) {\n        eventData.subtitle = \"⤵️\";\n      } else if (type2 === MutationType.patchObject) {\n        eventData.subtitle = \"🧩\";\n      } else if (events && !Array.isArray(events)) {\n        eventData.subtitle = events.type;\n      }\n      if (events) {\n        eventData.data[\"rawEvent(s)\"] = {\n          _custom: {\n            display: \"DebuggerEvent\",\n            type: \"object\",\n            tooltip: \"raw DebuggerEvent[]\",\n            value: events\n          }\n        };\n      }\n      api.addTimelineEvent({\n        layerId: MUTATIONS_LAYER_ID,\n        event: eventData\n      });\n    }, { detached: true, flush: \"sync\" });\n    const hotUpdate = store._hotUpdate;\n    store._hotUpdate = markRaw((newStore) => {\n      hotUpdate(newStore);\n      api.addTimelineEvent({\n        layerId: MUTATIONS_LAYER_ID,\n        event: {\n          time: now2(),\n          title: \"🔥 \" + store.$id,\n          subtitle: \"HMR update\",\n          data: {\n            store: formatDisplay$1(store.$id),\n            info: formatDisplay$1(`HMR update`)\n          }\n        }\n      });\n      api.notifyComponentUpdate();\n      api.sendInspectorTree(INSPECTOR_ID);\n      api.sendInspectorState(INSPECTOR_ID);\n    });\n    const { $dispose } = store;\n    store.$dispose = () => {\n      $dispose();\n      api.notifyComponentUpdate();\n      api.sendInspectorTree(INSPECTOR_ID);\n      api.sendInspectorState(INSPECTOR_ID);\n      api.getSettings().logStoreChanges && toastMessage(`Disposed \"${store.$id}\" store 🗑`);\n    };\n    api.notifyComponentUpdate();\n    api.sendInspectorTree(INSPECTOR_ID);\n    api.sendInspectorState(INSPECTOR_ID);\n    api.getSettings().logStoreChanges && toastMessage(`\"${store.$id}\" store installed 🆕`);\n  });\n}\nlet runningActionId = 0;\nlet activeAction;\nfunction patchActionForGrouping(store, actionNames, wrapWithProxy) {\n  const actions = actionNames.reduce((storeActions, actionName) => {\n    storeActions[actionName] = toRaw(store)[actionName];\n    return storeActions;\n  }, {});\n  for (const actionName in actions) {\n    store[actionName] = function() {\n      const _actionId = runningActionId;\n      const trackedStore = wrapWithProxy ? new Proxy(store, {\n        get(...args) {\n          activeAction = _actionId;\n          return Reflect.get(...args);\n        },\n        set(...args) {\n          activeAction = _actionId;\n          return Reflect.set(...args);\n        }\n      }) : store;\n      activeAction = _actionId;\n      const retValue = actions[actionName].apply(trackedStore, arguments);\n      activeAction = void 0;\n      return retValue;\n    };\n  }\n}\nfunction devtoolsPlugin({ app, store, options }) {\n  if (store.$id.startsWith(\"__hot:\")) {\n    return;\n  }\n  store._isOptionsAPI = !!options.state;\n  patchActionForGrouping(store, Object.keys(options.actions), store._isOptionsAPI);\n  const originalHotUpdate = store._hotUpdate;\n  toRaw(store)._hotUpdate = function(newStore) {\n    originalHotUpdate.apply(this, arguments);\n    patchActionForGrouping(store, Object.keys(newStore._hmrPayload.actions), !!store._isOptionsAPI);\n  };\n  addStoreToDevtools(\n    app,\n    // FIXME: is there a way to allow the assignment from Store<Id, S, G, A> to StoreGeneric?\n    store\n  );\n}\nfunction createPinia() {\n  const scope = effectScope(true);\n  const state = scope.run(() => ref({}));\n  let _p = [];\n  let toBeInstalled = [];\n  const pinia2 = markRaw({\n    install(app) {\n      setActivePinia(pinia2);\n      {\n        pinia2._a = app;\n        app.provide(piniaSymbol, pinia2);\n        app.config.globalProperties.$pinia = pinia2;\n        if (USE_DEVTOOLS) {\n          registerPiniaDevtools(app, pinia2);\n        }\n        toBeInstalled.forEach((plugin) => _p.push(plugin));\n        toBeInstalled = [];\n      }\n    },\n    use(plugin) {\n      if (!this._a && !isVue2) {\n        toBeInstalled.push(plugin);\n      } else {\n        _p.push(plugin);\n      }\n      return this;\n    },\n    _p,\n    // it's actually undefined here\n    // @ts-expect-error\n    _a: null,\n    _e: scope,\n    _s: /* @__PURE__ */ new Map(),\n    state\n  });\n  if (USE_DEVTOOLS && typeof Proxy !== \"undefined\") {\n    pinia2.use(devtoolsPlugin);\n  }\n  return pinia2;\n}\nfunction patchObject(newState, oldState) {\n  for (const key in oldState) {\n    const subPatch = oldState[key];\n    if (!(key in newState)) {\n      continue;\n    }\n    const targetValue = newState[key];\n    if (isPlainObject(targetValue) && isPlainObject(subPatch) && !isRef(subPatch) && !isReactive(subPatch)) {\n      newState[key] = patchObject(targetValue, subPatch);\n    } else {\n      {\n        newState[key] = subPatch;\n      }\n    }\n  }\n  return newState;\n}\nconst noop$1 = () => {\n};\nfunction addSubscription(subscriptions, callback, detached, onCleanup = noop$1) {\n  subscriptions.push(callback);\n  const removeSubscription = () => {\n    const idx = subscriptions.indexOf(callback);\n    if (idx > -1) {\n      subscriptions.splice(idx, 1);\n      onCleanup();\n    }\n  };\n  if (!detached && getCurrentScope()) {\n    onScopeDispose(removeSubscription);\n  }\n  return removeSubscription;\n}\nfunction triggerSubscriptions(subscriptions, ...args) {\n  subscriptions.slice().forEach((callback) => {\n    callback(...args);\n  });\n}\nconst fallbackRunWithContext = (fn) => fn();\nfunction mergeReactiveObjects(target, patchToApply) {\n  if (target instanceof Map && patchToApply instanceof Map) {\n    patchToApply.forEach((value, key) => target.set(key, value));\n  }\n  if (target instanceof Set && patchToApply instanceof Set) {\n    patchToApply.forEach(target.add, target);\n  }\n  for (const key in patchToApply) {\n    if (!patchToApply.hasOwnProperty(key))\n      continue;\n    const subPatch = patchToApply[key];\n    const targetValue = target[key];\n    if (isPlainObject(targetValue) && isPlainObject(subPatch) && target.hasOwnProperty(key) && !isRef(subPatch) && !isReactive(subPatch)) {\n      target[key] = mergeReactiveObjects(targetValue, subPatch);\n    } else {\n      target[key] = subPatch;\n    }\n  }\n  return target;\n}\nconst skipHydrateSymbol = process.env.NODE_ENV !== \"production\" ? Symbol(\"pinia:skipHydration\") : (\n  /* istanbul ignore next */\n  Symbol()\n);\nfunction shouldHydrate(obj) {\n  return !isPlainObject(obj) || !obj.hasOwnProperty(skipHydrateSymbol);\n}\nconst { assign: assign$2 } = Object;\nfunction isComputed(o) {\n  return !!(isRef(o) && o.effect);\n}\nfunction createOptionsStore(id, options, pinia2, hot) {\n  const { state, actions, getters } = options;\n  const initialState = pinia2.state.value[id];\n  let store;\n  function setup() {\n    if (!initialState && (!(process.env.NODE_ENV !== \"production\") || !hot)) {\n      {\n        pinia2.state.value[id] = state ? state() : {};\n      }\n    }\n    const localState = process.env.NODE_ENV !== \"production\" && hot ? (\n      // use ref() to unwrap refs inside state TODO: check if this is still necessary\n      toRefs(ref(state ? state() : {}).value)\n    ) : toRefs(pinia2.state.value[id]);\n    return assign$2(localState, actions, Object.keys(getters || {}).reduce((computedGetters, name) => {\n      if (process.env.NODE_ENV !== \"production\" && name in localState) {\n        console.warn(`[🍍]: A getter cannot have the same name as another state property. Rename one of them. Found with \"${name}\" in store \"${id}\".`);\n      }\n      computedGetters[name] = markRaw(computed(() => {\n        setActivePinia(pinia2);\n        const store2 = pinia2._s.get(id);\n        return getters[name].call(store2, store2);\n      }));\n      return computedGetters;\n    }, {}));\n  }\n  store = createSetupStore(id, setup, options, pinia2, hot, true);\n  return store;\n}\nfunction createSetupStore($id, setup, options = {}, pinia2, hot, isOptionsStore) {\n  let scope;\n  const optionsForPlugin = assign$2({ actions: {} }, options);\n  if (process.env.NODE_ENV !== \"production\" && !pinia2._e.active) {\n    throw new Error(\"Pinia destroyed\");\n  }\n  const $subscribeOptions = {\n    deep: true\n    // flush: 'post',\n  };\n  if (process.env.NODE_ENV !== \"production\" && !isVue2) {\n    $subscribeOptions.onTrigger = (event) => {\n      if (isListening) {\n        debuggerEvents = event;\n      } else if (isListening == false && !store._hotUpdating) {\n        if (Array.isArray(debuggerEvents)) {\n          debuggerEvents.push(event);\n        } else {\n          console.error(\"🍍 debuggerEvents should be an array. This is most likely an internal Pinia bug.\");\n        }\n      }\n    };\n  }\n  let isListening;\n  let isSyncListening;\n  let subscriptions = [];\n  let actionSubscriptions = [];\n  let debuggerEvents;\n  const initialState = pinia2.state.value[$id];\n  if (!isOptionsStore && !initialState && (!(process.env.NODE_ENV !== \"production\") || !hot)) {\n    {\n      pinia2.state.value[$id] = {};\n    }\n  }\n  const hotState = ref({});\n  let activeListener;\n  function $patch(partialStateOrMutator) {\n    let subscriptionMutation;\n    isListening = isSyncListening = false;\n    if (process.env.NODE_ENV !== \"production\") {\n      debuggerEvents = [];\n    }\n    if (typeof partialStateOrMutator === \"function\") {\n      partialStateOrMutator(pinia2.state.value[$id]);\n      subscriptionMutation = {\n        type: MutationType.patchFunction,\n        storeId: $id,\n        events: debuggerEvents\n      };\n    } else {\n      mergeReactiveObjects(pinia2.state.value[$id], partialStateOrMutator);\n      subscriptionMutation = {\n        type: MutationType.patchObject,\n        payload: partialStateOrMutator,\n        storeId: $id,\n        events: debuggerEvents\n      };\n    }\n    const myListenerId = activeListener = Symbol();\n    nextTick().then(() => {\n      if (activeListener === myListenerId) {\n        isListening = true;\n      }\n    });\n    isSyncListening = true;\n    triggerSubscriptions(subscriptions, subscriptionMutation, pinia2.state.value[$id]);\n  }\n  const $reset = isOptionsStore ? function $reset2() {\n    const { state } = options;\n    const newState = state ? state() : {};\n    this.$patch(($state) => {\n      assign$2($state, newState);\n    });\n  } : (\n    /* istanbul ignore next */\n    process.env.NODE_ENV !== \"production\" ? () => {\n      throw new Error(`🍍: Store \"${$id}\" is built using the setup syntax and does not implement $reset().`);\n    } : noop$1\n  );\n  function $dispose() {\n    scope.stop();\n    subscriptions = [];\n    actionSubscriptions = [];\n    pinia2._s.delete($id);\n  }\n  function wrapAction(name, action) {\n    return function() {\n      setActivePinia(pinia2);\n      const args = Array.from(arguments);\n      const afterCallbackList = [];\n      const onErrorCallbackList = [];\n      function after(callback) {\n        afterCallbackList.push(callback);\n      }\n      function onError(callback) {\n        onErrorCallbackList.push(callback);\n      }\n      triggerSubscriptions(actionSubscriptions, {\n        args,\n        name,\n        store,\n        after,\n        onError\n      });\n      let ret;\n      try {\n        ret = action.apply(this && this.$id === $id ? this : store, args);\n      } catch (error) {\n        triggerSubscriptions(onErrorCallbackList, error);\n        throw error;\n      }\n      if (ret instanceof Promise) {\n        return ret.then((value) => {\n          triggerSubscriptions(afterCallbackList, value);\n          return value;\n        }).catch((error) => {\n          triggerSubscriptions(onErrorCallbackList, error);\n          return Promise.reject(error);\n        });\n      }\n      triggerSubscriptions(afterCallbackList, ret);\n      return ret;\n    };\n  }\n  const _hmrPayload = /* @__PURE__ */ markRaw({\n    actions: {},\n    getters: {},\n    state: [],\n    hotState\n  });\n  const partialStore = {\n    _p: pinia2,\n    // _s: scope,\n    $id,\n    $onAction: addSubscription.bind(null, actionSubscriptions),\n    $patch,\n    $reset,\n    $subscribe(callback, options2 = {}) {\n      const removeSubscription = addSubscription(subscriptions, callback, options2.detached, () => stopWatcher());\n      const stopWatcher = scope.run(() => watch(() => pinia2.state.value[$id], (state) => {\n        if (options2.flush === \"sync\" ? isSyncListening : isListening) {\n          callback({\n            storeId: $id,\n            type: MutationType.direct,\n            events: debuggerEvents\n          }, state);\n        }\n      }, assign$2({}, $subscribeOptions, options2)));\n      return removeSubscription;\n    },\n    $dispose\n  };\n  const store = reactive(process.env.NODE_ENV !== \"production\" || USE_DEVTOOLS ? assign$2(\n    {\n      _hmrPayload,\n      _customProperties: markRaw(/* @__PURE__ */ new Set())\n      // devtools custom properties\n    },\n    partialStore\n    // must be added later\n    // setupStore\n  ) : partialStore);\n  pinia2._s.set($id, store);\n  const runWithContext = pinia2._a && pinia2._a.runWithContext || fallbackRunWithContext;\n  const setupStore = runWithContext(() => pinia2._e.run(() => (scope = effectScope()).run(setup)));\n  for (const key in setupStore) {\n    const prop = setupStore[key];\n    if (isRef(prop) && !isComputed(prop) || isReactive(prop)) {\n      if (process.env.NODE_ENV !== \"production\" && hot) {\n        set(hotState.value, key, toRef(setupStore, key));\n      } else if (!isOptionsStore) {\n        if (initialState && shouldHydrate(prop)) {\n          if (isRef(prop)) {\n            prop.value = initialState[key];\n          } else {\n            mergeReactiveObjects(prop, initialState[key]);\n          }\n        }\n        {\n          pinia2.state.value[$id][key] = prop;\n        }\n      }\n      if (process.env.NODE_ENV !== \"production\") {\n        _hmrPayload.state.push(key);\n      }\n    } else if (typeof prop === \"function\") {\n      const actionValue = process.env.NODE_ENV !== \"production\" && hot ? prop : wrapAction(key, prop);\n      {\n        setupStore[key] = actionValue;\n      }\n      if (process.env.NODE_ENV !== \"production\") {\n        _hmrPayload.actions[key] = prop;\n      }\n      optionsForPlugin.actions[key] = prop;\n    } else if (process.env.NODE_ENV !== \"production\") {\n      if (isComputed(prop)) {\n        _hmrPayload.getters[key] = isOptionsStore ? (\n          // @ts-expect-error\n          options.getters[key]\n        ) : prop;\n        if (IS_CLIENT) {\n          const getters = setupStore._getters || // @ts-expect-error: same\n          (setupStore._getters = markRaw([]));\n          getters.push(key);\n        }\n      }\n    }\n  }\n  {\n    assign$2(store, setupStore);\n    assign$2(toRaw(store), setupStore);\n  }\n  Object.defineProperty(store, \"$state\", {\n    get: () => process.env.NODE_ENV !== \"production\" && hot ? hotState.value : pinia2.state.value[$id],\n    set: (state) => {\n      if (process.env.NODE_ENV !== \"production\" && hot) {\n        throw new Error(\"cannot set hotState\");\n      }\n      $patch(($state) => {\n        assign$2($state, state);\n      });\n    }\n  });\n  if (process.env.NODE_ENV !== \"production\") {\n    store._hotUpdate = markRaw((newStore) => {\n      store._hotUpdating = true;\n      newStore._hmrPayload.state.forEach((stateKey) => {\n        if (stateKey in store.$state) {\n          const newStateTarget = newStore.$state[stateKey];\n          const oldStateSource = store.$state[stateKey];\n          if (typeof newStateTarget === \"object\" && isPlainObject(newStateTarget) && isPlainObject(oldStateSource)) {\n            patchObject(newStateTarget, oldStateSource);\n          } else {\n            newStore.$state[stateKey] = oldStateSource;\n          }\n        }\n        set(store, stateKey, toRef(newStore.$state, stateKey));\n      });\n      Object.keys(store.$state).forEach((stateKey) => {\n        if (!(stateKey in newStore.$state)) {\n          del(store, stateKey);\n        }\n      });\n      isListening = false;\n      isSyncListening = false;\n      pinia2.state.value[$id] = toRef(newStore._hmrPayload, \"hotState\");\n      isSyncListening = true;\n      nextTick().then(() => {\n        isListening = true;\n      });\n      for (const actionName in newStore._hmrPayload.actions) {\n        const action = newStore[actionName];\n        set(store, actionName, wrapAction(actionName, action));\n      }\n      for (const getterName in newStore._hmrPayload.getters) {\n        const getter = newStore._hmrPayload.getters[getterName];\n        const getterValue = isOptionsStore ? (\n          // special handling of options api\n          computed(() => {\n            setActivePinia(pinia2);\n            return getter.call(store, store);\n          })\n        ) : getter;\n        set(store, getterName, getterValue);\n      }\n      Object.keys(store._hmrPayload.getters).forEach((key) => {\n        if (!(key in newStore._hmrPayload.getters)) {\n          del(store, key);\n        }\n      });\n      Object.keys(store._hmrPayload.actions).forEach((key) => {\n        if (!(key in newStore._hmrPayload.actions)) {\n          del(store, key);\n        }\n      });\n      store._hmrPayload = newStore._hmrPayload;\n      store._getters = newStore._getters;\n      store._hotUpdating = false;\n    });\n  }\n  if (USE_DEVTOOLS) {\n    const nonEnumerable = {\n      writable: true,\n      configurable: true,\n      // avoid warning on devtools trying to display this property\n      enumerable: false\n    };\n    [\"_p\", \"_hmrPayload\", \"_getters\", \"_customProperties\"].forEach((p) => {\n      Object.defineProperty(store, p, assign$2({ value: store[p] }, nonEnumerable));\n    });\n  }\n  pinia2._p.forEach((extender) => {\n    if (USE_DEVTOOLS) {\n      const extensions = scope.run(() => extender({\n        store,\n        app: pinia2._a,\n        pinia: pinia2,\n        options: optionsForPlugin\n      }));\n      Object.keys(extensions || {}).forEach((key) => store._customProperties.add(key));\n      assign$2(store, extensions);\n    } else {\n      assign$2(store, scope.run(() => extender({\n        store,\n        app: pinia2._a,\n        pinia: pinia2,\n        options: optionsForPlugin\n      })));\n    }\n  });\n  if (process.env.NODE_ENV !== \"production\" && store.$state && typeof store.$state === \"object\" && typeof store.$state.constructor === \"function\" && !store.$state.constructor.toString().includes(\"[native code]\")) {\n    console.warn(`[🍍]: The \"state\" must be a plain object. It cannot be\n\tstate: () => new MyClass()\nFound in store \"${store.$id}\".`);\n  }\n  if (initialState && isOptionsStore && options.hydrate) {\n    options.hydrate(store.$state, initialState);\n  }\n  isListening = true;\n  isSyncListening = true;\n  return store;\n}\nfunction defineStore(idOrOptions, setup, setupOptions) {\n  let id;\n  let options;\n  const isSetupStore = typeof setup === \"function\";\n  if (typeof idOrOptions === \"string\") {\n    id = idOrOptions;\n    options = isSetupStore ? setupOptions : setup;\n  } else {\n    options = idOrOptions;\n    id = idOrOptions.id;\n    if (process.env.NODE_ENV !== \"production\" && typeof id !== \"string\") {\n      throw new Error(`[🍍]: \"defineStore()\" must be passed a store id as its first argument.`);\n    }\n  }\n  function useStore(pinia2, hot) {\n    const hasContext = hasInjectionContext();\n    pinia2 = // in test mode, ignore the argument provided as we can always retrieve a\n    // pinia instance with getActivePinia()\n    (process.env.NODE_ENV === \"test\" && activePinia && activePinia._testing ? null : pinia2) || (hasContext ? inject(piniaSymbol, null) : null);\n    if (pinia2)\n      setActivePinia(pinia2);\n    if (process.env.NODE_ENV !== \"production\" && !activePinia) {\n      throw new Error(`[🍍]: \"getActivePinia()\" was called but there was no active Pinia. Are you trying to use a store before calling \"app.use(pinia)\"?\nSee https://pinia.vuejs.org/core-concepts/outside-component-usage.html for help.\nThis will fail in production.`);\n    }\n    pinia2 = activePinia;\n    if (!pinia2._s.has(id)) {\n      if (isSetupStore) {\n        createSetupStore(id, setup, options, pinia2);\n      } else {\n        createOptionsStore(id, options, pinia2);\n      }\n      if (process.env.NODE_ENV !== \"production\") {\n        useStore._pinia = pinia2;\n      }\n    }\n    const store = pinia2._s.get(id);\n    if (process.env.NODE_ENV !== \"production\" && hot) {\n      const hotId = \"__hot:\" + id;\n      const newStore = isSetupStore ? createSetupStore(hotId, setup, options, pinia2, true) : createOptionsStore(hotId, assign$2({}, options), pinia2, true);\n      hot._hotUpdate(newStore);\n      delete pinia2.state.value[hotId];\n      pinia2._s.delete(hotId);\n    }\n    if (process.env.NODE_ENV !== \"production\" && IS_CLIENT) {\n      const currentInstance = getCurrentInstance();\n      if (currentInstance && currentInstance.proxy && // avoid adding stores that are just built for hot module replacement\n      !hot) {\n        const vm = currentInstance.proxy;\n        const cache = \"_pStores\" in vm ? vm._pStores : vm._pStores = {};\n        cache[id] = store;\n      }\n    }\n    return store;\n  }\n  useStore.$id = id;\n  return useStore;\n}\nconst useDataStore = defineStore(\"data\", () => {\n  const records = ref([]);\n  const record = ref({});\n  return { records, record };\n});\nfunction useStonecrop(registry) {\n  if (!registry) {\n    registry = inject(\"$registry\");\n  }\n  const store = useDataStore();\n  const stonecrop = ref(new Stonecrop(registry, store));\n  const isReady = ref(false);\n  onBeforeMount(async () => {\n    var _a, _b;\n    const route = registry.router.currentRoute.value;\n    const doctypeSlug = (_a = route.params.records) == null ? void 0 : _a.toString().toLowerCase();\n    const recordId = (_b = route.params.record) == null ? void 0 : _b.toString().toLowerCase();\n    if (!doctypeSlug && !recordId) {\n      return;\n    }\n    const doctype = await registry.getMeta(doctypeSlug);\n    registry.addDoctype(doctype);\n    stonecrop.value.setup(doctype);\n    if (doctypeSlug) {\n      if (recordId) {\n        await stonecrop.value.getRecord(doctype, recordId);\n      } else {\n        await stonecrop.value.getRecords(doctype);\n      }\n    }\n    stonecrop.value.runAction(doctype, \"LOAD\", recordId ? [recordId] : void 0);\n    isReady.value = true;\n  });\n  return { stonecrop, isReady };\n}\nclass DoctypeMeta {\n  constructor(doctype, schema, workflow, actions, component) {\n    this.doctype = doctype;\n    this.schema = schema;\n    this.workflow = workflow;\n    this.actions = actions;\n    this.component = component;\n  }\n  get slug() {\n    return this.doctype.replace(/([a-z])([A-Z])/g, \"$1-$2\").replace(/[\\s_]+/g, \"-\").toLowerCase();\n  }\n  get __typename() {\n    return this.doctype;\n  }\n}\nclass Registry {\n  constructor(router2, getMeta) {\n    if (Registry._root) {\n      return Registry._root;\n    }\n    Registry._root = this;\n    this.name = \"Registry\";\n    this.router = router2;\n    this.registry = {};\n    this.getMeta = getMeta;\n  }\n  addDoctype(doctype) {\n    if (!(doctype.doctype in Object.keys(this.registry))) {\n      this.registry[doctype.slug] = doctype;\n    }\n    if (!this.router.hasRoute(doctype.doctype)) {\n      this.router.addRoute({\n        path: `/${doctype.slug}`,\n        name: doctype.slug,\n        component: doctype.component\n      });\n    }\n  }\n}\n/*!\n  * vue-router v4.2.5\n  * (c) 2023 Eduardo San Martin Morote\n  * @license MIT\n  */\nconst isBrowser = typeof window !== \"undefined\";\nfunction isESModule(obj) {\n  return obj.__esModule || obj[Symbol.toStringTag] === \"Module\";\n}\nconst assign = Object.assign;\nfunction applyToParams(fn, params) {\n  const newParams = {};\n  for (const key in params) {\n    const value = params[key];\n    newParams[key] = isArray(value) ? value.map(fn) : fn(value);\n  }\n  return newParams;\n}\nconst noop = () => {\n};\nconst isArray = Array.isArray;\nfunction warn(msg) {\n  const args = Array.from(arguments).slice(1);\n  console.warn.apply(console, [\"[Vue Router warn]: \" + msg].concat(args));\n}\nconst TRAILING_SLASH_RE = /\\/$/;\nconst removeTrailingSlash = (path) => path.replace(TRAILING_SLASH_RE, \"\");\nfunction parseURL(parseQuery2, location2, currentLocation = \"/\") {\n  let path, query = {}, searchString = \"\", hash = \"\";\n  const hashPos = location2.indexOf(\"#\");\n  let searchPos = location2.indexOf(\"?\");\n  if (hashPos < searchPos && hashPos >= 0) {\n    searchPos = -1;\n  }\n  if (searchPos > -1) {\n    path = location2.slice(0, searchPos);\n    searchString = location2.slice(searchPos + 1, hashPos > -1 ? hashPos : location2.length);\n    query = parseQuery2(searchString);\n  }\n  if (hashPos > -1) {\n    path = path || location2.slice(0, hashPos);\n    hash = location2.slice(hashPos, location2.length);\n  }\n  path = resolveRelativePath(path != null ? path : location2, currentLocation);\n  return {\n    fullPath: path + (searchString && \"?\") + searchString + hash,\n    path,\n    query,\n    hash\n  };\n}\nfunction stringifyURL(stringifyQuery2, location2) {\n  const query = location2.query ? stringifyQuery2(location2.query) : \"\";\n  return location2.path + (query && \"?\") + query + (location2.hash || \"\");\n}\nfunction stripBase(pathname, base) {\n  if (!base || !pathname.toLowerCase().startsWith(base.toLowerCase()))\n    return pathname;\n  return pathname.slice(base.length) || \"/\";\n}\nfunction isSameRouteLocation(stringifyQuery2, a, b) {\n  const aLastIndex = a.matched.length - 1;\n  const bLastIndex = b.matched.length - 1;\n  return aLastIndex > -1 && aLastIndex === bLastIndex && isSameRouteRecord(a.matched[aLastIndex], b.matched[bLastIndex]) && isSameRouteLocationParams(a.params, b.params) && stringifyQuery2(a.query) === stringifyQuery2(b.query) && a.hash === b.hash;\n}\nfunction isSameRouteRecord(a, b) {\n  return (a.aliasOf || a) === (b.aliasOf || b);\n}\nfunction isSameRouteLocationParams(a, b) {\n  if (Object.keys(a).length !== Object.keys(b).length)\n    return false;\n  for (const key in a) {\n    if (!isSameRouteLocationParamsValue(a[key], b[key]))\n      return false;\n  }\n  return true;\n}\nfunction isSameRouteLocationParamsValue(a, b) {\n  return isArray(a) ? isEquivalentArray(a, b) : isArray(b) ? isEquivalentArray(b, a) : a === b;\n}\nfunction isEquivalentArray(a, b) {\n  return isArray(b) ? a.length === b.length && a.every((value, i) => value === b[i]) : a.length === 1 && a[0] === b;\n}\nfunction resolveRelativePath(to, from) {\n  if (to.startsWith(\"/\"))\n    return to;\n  if (process.env.NODE_ENV !== \"production\" && !from.startsWith(\"/\")) {\n    warn(`Cannot resolve a relative location without an absolute path. Trying to resolve \"${to}\" from \"${from}\". It should look like \"/${from}\".`);\n    return to;\n  }\n  if (!to)\n    return from;\n  const fromSegments = from.split(\"/\");\n  const toSegments = to.split(\"/\");\n  const lastToSegment = toSegments[toSegments.length - 1];\n  if (lastToSegment === \"..\" || lastToSegment === \".\") {\n    toSegments.push(\"\");\n  }\n  let position = fromSegments.length - 1;\n  let toPosition;\n  let segment;\n  for (toPosition = 0; toPosition < toSegments.length; toPosition++) {\n    segment = toSegments[toPosition];\n    if (segment === \".\")\n      continue;\n    if (segment === \"..\") {\n      if (position > 1)\n        position--;\n    } else\n      break;\n  }\n  return fromSegments.slice(0, position).join(\"/\") + \"/\" + toSegments.slice(toPosition - (toPosition === toSegments.length ? 1 : 0)).join(\"/\");\n}\nvar NavigationType;\n(function(NavigationType2) {\n  NavigationType2[\"pop\"] = \"pop\";\n  NavigationType2[\"push\"] = \"push\";\n})(NavigationType || (NavigationType = {}));\nvar NavigationDirection;\n(function(NavigationDirection2) {\n  NavigationDirection2[\"back\"] = \"back\";\n  NavigationDirection2[\"forward\"] = \"forward\";\n  NavigationDirection2[\"unknown\"] = \"\";\n})(NavigationDirection || (NavigationDirection = {}));\nfunction normalizeBase(base) {\n  if (!base) {\n    if (isBrowser) {\n      const baseEl = document.querySelector(\"base\");\n      base = baseEl && baseEl.getAttribute(\"href\") || \"/\";\n      base = base.replace(/^\\w+:\\/\\/[^\\/]+/, \"\");\n    } else {\n      base = \"/\";\n    }\n  }\n  if (base[0] !== \"/\" && base[0] !== \"#\")\n    base = \"/\" + base;\n  return removeTrailingSlash(base);\n}\nconst BEFORE_HASH_RE = /^[^#]+#/;\nfunction createHref(base, location2) {\n  return base.replace(BEFORE_HASH_RE, \"#\") + location2;\n}\nfunction getElementPosition(el, offset) {\n  const docRect = document.documentElement.getBoundingClientRect();\n  const elRect = el.getBoundingClientRect();\n  return {\n    behavior: offset.behavior,\n    left: elRect.left - docRect.left - (offset.left || 0),\n    top: elRect.top - docRect.top - (offset.top || 0)\n  };\n}\nconst computeScrollPosition = () => ({\n  left: window.pageXOffset,\n  top: window.pageYOffset\n});\nfunction scrollToPosition(position) {\n  let scrollToOptions;\n  if (\"el\" in position) {\n    const positionEl = position.el;\n    const isIdSelector = typeof positionEl === \"string\" && positionEl.startsWith(\"#\");\n    if (process.env.NODE_ENV !== \"production\" && typeof position.el === \"string\") {\n      if (!isIdSelector || !document.getElementById(position.el.slice(1))) {\n        try {\n          const foundEl = document.querySelector(position.el);\n          if (isIdSelector && foundEl) {\n            warn(`The selector \"${position.el}\" should be passed as \"el: document.querySelector('${position.el}')\" because it starts with \"#\".`);\n            return;\n          }\n        } catch (err) {\n          warn(`The selector \"${position.el}\" is invalid. If you are using an id selector, make sure to escape it. You can find more information about escaping characters in selectors at https://mathiasbynens.be/notes/css-escapes or use CSS.escape (https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape).`);\n          return;\n        }\n      }\n    }\n    const el = typeof positionEl === \"string\" ? isIdSelector ? document.getElementById(positionEl.slice(1)) : document.querySelector(positionEl) : positionEl;\n    if (!el) {\n      process.env.NODE_ENV !== \"production\" && warn(`Couldn't find element using selector \"${position.el}\" returned by scrollBehavior.`);\n      return;\n    }\n    scrollToOptions = getElementPosition(el, position);\n  } else {\n    scrollToOptions = position;\n  }\n  if (\"scrollBehavior\" in document.documentElement.style)\n    window.scrollTo(scrollToOptions);\n  else {\n    window.scrollTo(scrollToOptions.left != null ? scrollToOptions.left : window.pageXOffset, scrollToOptions.top != null ? scrollToOptions.top : window.pageYOffset);\n  }\n}\nfunction getScrollKey(path, delta) {\n  const position = history.state ? history.state.position - delta : -1;\n  return position + path;\n}\nconst scrollPositions = /* @__PURE__ */ new Map();\nfunction saveScrollPosition(key, scrollPosition) {\n  scrollPositions.set(key, scrollPosition);\n}\nfunction getSavedScrollPosition(key) {\n  const scroll = scrollPositions.get(key);\n  scrollPositions.delete(key);\n  return scroll;\n}\nlet createBaseLocation = () => location.protocol + \"//\" + location.host;\nfunction createCurrentLocation(base, location2) {\n  const { pathname, search, hash } = location2;\n  const hashPos = base.indexOf(\"#\");\n  if (hashPos > -1) {\n    let slicePos = hash.includes(base.slice(hashPos)) ? base.slice(hashPos).length : 1;\n    let pathFromHash = hash.slice(slicePos);\n    if (pathFromHash[0] !== \"/\")\n      pathFromHash = \"/\" + pathFromHash;\n    return stripBase(pathFromHash, \"\");\n  }\n  const path = stripBase(pathname, base);\n  return path + search + hash;\n}\nfunction useHistoryListeners(base, historyState, currentLocation, replace) {\n  let listeners = [];\n  let teardowns = [];\n  let pauseState = null;\n  const popStateHandler = ({ state }) => {\n    const to = createCurrentLocation(base, location);\n    const from = currentLocation.value;\n    const fromState = historyState.value;\n    let delta = 0;\n    if (state) {\n      currentLocation.value = to;\n      historyState.value = state;\n      if (pauseState && pauseState === from) {\n        pauseState = null;\n        return;\n      }\n      delta = fromState ? state.position - fromState.position : 0;\n    } else {\n      replace(to);\n    }\n    listeners.forEach((listener) => {\n      listener(currentLocation.value, from, {\n        delta,\n        type: NavigationType.pop,\n        direction: delta ? delta > 0 ? NavigationDirection.forward : NavigationDirection.back : NavigationDirection.unknown\n      });\n    });\n  };\n  function pauseListeners() {\n    pauseState = currentLocation.value;\n  }\n  function listen(callback) {\n    listeners.push(callback);\n    const teardown = () => {\n      const index2 = listeners.indexOf(callback);\n      if (index2 > -1)\n        listeners.splice(index2, 1);\n    };\n    teardowns.push(teardown);\n    return teardown;\n  }\n  function beforeUnloadListener() {\n    const { history: history2 } = window;\n    if (!history2.state)\n      return;\n    history2.replaceState(assign({}, history2.state, { scroll: computeScrollPosition() }), \"\");\n  }\n  function destroy() {\n    for (const teardown of teardowns)\n      teardown();\n    teardowns = [];\n    window.removeEventListener(\"popstate\", popStateHandler);\n    window.removeEventListener(\"beforeunload\", beforeUnloadListener);\n  }\n  window.addEventListener(\"popstate\", popStateHandler);\n  window.addEventListener(\"beforeunload\", beforeUnloadListener, {\n    passive: true\n  });\n  return {\n    pauseListeners,\n    listen,\n    destroy\n  };\n}\nfunction buildState(back, current, forward, replaced = false, computeScroll = false) {\n  return {\n    back,\n    current,\n    forward,\n    replaced,\n    position: window.history.length,\n    scroll: computeScroll ? computeScrollPosition() : null\n  };\n}\nfunction useHistoryStateNavigation(base) {\n  const { history: history2, location: location2 } = window;\n  const currentLocation = {\n    value: createCurrentLocation(base, location2)\n  };\n  const historyState = { value: history2.state };\n  if (!historyState.value) {\n    changeLocation(currentLocation.value, {\n      back: null,\n      current: currentLocation.value,\n      forward: null,\n      // the length is off by one, we need to decrease it\n      position: history2.length - 1,\n      replaced: true,\n      // don't add a scroll as the user may have an anchor, and we want\n      // scrollBehavior to be triggered without a saved position\n      scroll: null\n    }, true);\n  }\n  function changeLocation(to, state, replace2) {\n    const hashIndex = base.indexOf(\"#\");\n    const url = hashIndex > -1 ? (location2.host && document.querySelector(\"base\") ? base : base.slice(hashIndex)) + to : createBaseLocation() + base + to;\n    try {\n      history2[replace2 ? \"replaceState\" : \"pushState\"](state, \"\", url);\n      historyState.value = state;\n    } catch (err) {\n      if (process.env.NODE_ENV !== \"production\") {\n        warn(\"Error with push/replace State\", err);\n      } else {\n        console.error(err);\n      }\n      location2[replace2 ? \"replace\" : \"assign\"](url);\n    }\n  }\n  function replace(to, data) {\n    const state = assign({}, history2.state, buildState(\n      historyState.value.back,\n      // keep back and forward entries but override current position\n      to,\n      historyState.value.forward,\n      true\n    ), data, { position: historyState.value.position });\n    changeLocation(to, state, true);\n    currentLocation.value = to;\n  }\n  function push(to, data) {\n    const currentState = assign(\n      {},\n      // use current history state to gracefully handle a wrong call to\n      // history.replaceState\n      // https://github.com/vuejs/router/issues/366\n      historyState.value,\n      history2.state,\n      {\n        forward: to,\n        scroll: computeScrollPosition()\n      }\n    );\n    if (process.env.NODE_ENV !== \"production\" && !history2.state) {\n      warn(`history.state seems to have been manually replaced without preserving the necessary values. Make sure to preserve existing history state if you are manually calling history.replaceState:\n\nhistory.replaceState(history.state, '', url)\n\nYou can find more information at https://next.router.vuejs.org/guide/migration/#usage-of-history-state.`);\n    }\n    changeLocation(currentState.current, currentState, true);\n    const state = assign({}, buildState(currentLocation.value, to, null), { position: currentState.position + 1 }, data);\n    changeLocation(to, state, false);\n    currentLocation.value = to;\n  }\n  return {\n    location: currentLocation,\n    state: historyState,\n    push,\n    replace\n  };\n}\nfunction createWebHistory(base) {\n  base = normalizeBase(base);\n  const historyNavigation = useHistoryStateNavigation(base);\n  const historyListeners = useHistoryListeners(base, historyNavigation.state, historyNavigation.location, historyNavigation.replace);\n  function go(delta, triggerListeners = true) {\n    if (!triggerListeners)\n      historyListeners.pauseListeners();\n    history.go(delta);\n  }\n  const routerHistory = assign({\n    // it's overridden right after\n    location: \"\",\n    base,\n    go,\n    createHref: createHref.bind(null, base)\n  }, historyNavigation, historyListeners);\n  Object.defineProperty(routerHistory, \"location\", {\n    enumerable: true,\n    get: () => historyNavigation.location.value\n  });\n  Object.defineProperty(routerHistory, \"state\", {\n    enumerable: true,\n    get: () => historyNavigation.state.value\n  });\n  return routerHistory;\n}\nfunction isRouteLocation(route) {\n  return typeof route === \"string\" || route && typeof route === \"object\";\n}\nfunction isRouteName(name) {\n  return typeof name === \"string\" || typeof name === \"symbol\";\n}\nconst START_LOCATION_NORMALIZED = {\n  path: \"/\",\n  name: void 0,\n  params: {},\n  query: {},\n  hash: \"\",\n  fullPath: \"/\",\n  matched: [],\n  meta: {},\n  redirectedFrom: void 0\n};\nconst NavigationFailureSymbol = Symbol(process.env.NODE_ENV !== \"production\" ? \"navigation failure\" : \"\");\nvar NavigationFailureType;\n(function(NavigationFailureType2) {\n  NavigationFailureType2[NavigationFailureType2[\"aborted\"] = 4] = \"aborted\";\n  NavigationFailureType2[NavigationFailureType2[\"cancelled\"] = 8] = \"cancelled\";\n  NavigationFailureType2[NavigationFailureType2[\"duplicated\"] = 16] = \"duplicated\";\n})(NavigationFailureType || (NavigationFailureType = {}));\nconst ErrorTypeMessages = {\n  [\n    1\n    /* ErrorTypes.MATCHER_NOT_FOUND */\n  ]({ location: location2, currentLocation }) {\n    return `No match for\n ${JSON.stringify(location2)}${currentLocation ? \"\\nwhile being at\\n\" + JSON.stringify(currentLocation) : \"\"}`;\n  },\n  [\n    2\n    /* ErrorTypes.NAVIGATION_GUARD_REDIRECT */\n  ]({ from, to }) {\n    return `Redirected from \"${from.fullPath}\" to \"${stringifyRoute(to)}\" via a navigation guard.`;\n  },\n  [\n    4\n    /* ErrorTypes.NAVIGATION_ABORTED */\n  ]({ from, to }) {\n    return `Navigation aborted from \"${from.fullPath}\" to \"${to.fullPath}\" via a navigation guard.`;\n  },\n  [\n    8\n    /* ErrorTypes.NAVIGATION_CANCELLED */\n  ]({ from, to }) {\n    return `Navigation cancelled from \"${from.fullPath}\" to \"${to.fullPath}\" with a new navigation.`;\n  },\n  [\n    16\n    /* ErrorTypes.NAVIGATION_DUPLICATED */\n  ]({ from, to }) {\n    return `Avoided redundant navigation to current location: \"${from.fullPath}\".`;\n  }\n};\nfunction createRouterError(type2, params) {\n  if (process.env.NODE_ENV !== \"production\" || false) {\n    return assign(new Error(ErrorTypeMessages[type2](params)), {\n      type: type2,\n      [NavigationFailureSymbol]: true\n    }, params);\n  } else {\n    return assign(new Error(), {\n      type: type2,\n      [NavigationFailureSymbol]: true\n    }, params);\n  }\n}\nfunction isNavigationFailure(error, type2) {\n  return error instanceof Error && NavigationFailureSymbol in error && (type2 == null || !!(error.type & type2));\n}\nconst propertiesToLog = [\"params\", \"query\", \"hash\"];\nfunction stringifyRoute(to) {\n  if (typeof to === \"string\")\n    return to;\n  if (\"path\" in to)\n    return to.path;\n  const location2 = {};\n  for (const key of propertiesToLog) {\n    if (key in to)\n      location2[key] = to[key];\n  }\n  return JSON.stringify(location2, null, 2);\n}\nconst BASE_PARAM_PATTERN = \"[^/]+?\";\nconst BASE_PATH_PARSER_OPTIONS = {\n  sensitive: false,\n  strict: false,\n  start: true,\n  end: true\n};\nconst REGEX_CHARS_RE = /[.+*?^${}()[\\]/\\\\]/g;\nfunction tokensToParser(segments, extraOptions) {\n  const options = assign({}, BASE_PATH_PARSER_OPTIONS, extraOptions);\n  const score = [];\n  let pattern = options.start ? \"^\" : \"\";\n  const keys = [];\n  for (const segment of segments) {\n    const segmentScores = segment.length ? [] : [\n      90\n      /* PathScore.Root */\n    ];\n    if (options.strict && !segment.length)\n      pattern += \"/\";\n    for (let tokenIndex = 0; tokenIndex < segment.length; tokenIndex++) {\n      const token = segment[tokenIndex];\n      let subSegmentScore = 40 + (options.sensitive ? 0.25 : 0);\n      if (token.type === 0) {\n        if (!tokenIndex)\n          pattern += \"/\";\n        pattern += token.value.replace(REGEX_CHARS_RE, \"\\\\$&\");\n        subSegmentScore += 40;\n      } else if (token.type === 1) {\n        const { value, repeatable, optional, regexp } = token;\n        keys.push({\n          name: value,\n          repeatable,\n          optional\n        });\n        const re2 = regexp ? regexp : BASE_PARAM_PATTERN;\n        if (re2 !== BASE_PARAM_PATTERN) {\n          subSegmentScore += 10;\n          try {\n            new RegExp(`(${re2})`);\n          } catch (err) {\n            throw new Error(`Invalid custom RegExp for param \"${value}\" (${re2}): ` + err.message);\n          }\n        }\n        let subPattern = repeatable ? `((?:${re2})(?:/(?:${re2}))*)` : `(${re2})`;\n        if (!tokenIndex)\n          subPattern = // avoid an optional / if there are more segments e.g. /:p?-static\n          // or /:p?-:p2\n          optional && segment.length < 2 ? `(?:/${subPattern})` : \"/\" + subPattern;\n        if (optional)\n          subPattern += \"?\";\n        pattern += subPattern;\n        subSegmentScore += 20;\n        if (optional)\n          subSegmentScore += -8;\n        if (repeatable)\n          subSegmentScore += -20;\n        if (re2 === \".*\")\n          subSegmentScore += -50;\n      }\n      segmentScores.push(subSegmentScore);\n    }\n    score.push(segmentScores);\n  }\n  if (options.strict && options.end) {\n    const i = score.length - 1;\n    score[i][score[i].length - 1] += 0.7000000000000001;\n  }\n  if (!options.strict)\n    pattern += \"/?\";\n  if (options.end)\n    pattern += \"$\";\n  else if (options.strict)\n    pattern += \"(?:/|$)\";\n  const re = new RegExp(pattern, options.sensitive ? \"\" : \"i\");\n  function parse2(path) {\n    const match = path.match(re);\n    const params = {};\n    if (!match)\n      return null;\n    for (let i = 1; i < match.length; i++) {\n      const value = match[i] || \"\";\n      const key = keys[i - 1];\n      params[key.name] = value && key.repeatable ? value.split(\"/\") : value;\n    }\n    return params;\n  }\n  function stringify2(params) {\n    let path = \"\";\n    let avoidDuplicatedSlash = false;\n    for (const segment of segments) {\n      if (!avoidDuplicatedSlash || !path.endsWith(\"/\"))\n        path += \"/\";\n      avoidDuplicatedSlash = false;\n      for (const token of segment) {\n        if (token.type === 0) {\n          path += token.value;\n        } else if (token.type === 1) {\n          const { value, repeatable, optional } = token;\n          const param = value in params ? params[value] : \"\";\n          if (isArray(param) && !repeatable) {\n            throw new Error(`Provided param \"${value}\" is an array but it is not repeatable (* or + modifiers)`);\n          }\n          const text = isArray(param) ? param.join(\"/\") : param;\n          if (!text) {\n            if (optional) {\n              if (segment.length < 2) {\n                if (path.endsWith(\"/\"))\n                  path = path.slice(0, -1);\n                else\n                  avoidDuplicatedSlash = true;\n              }\n            } else\n              throw new Error(`Missing required param \"${value}\"`);\n          }\n          path += text;\n        }\n      }\n    }\n    return path || \"/\";\n  }\n  return {\n    re,\n    score,\n    keys,\n    parse: parse2,\n    stringify: stringify2\n  };\n}\nfunction compareScoreArray(a, b) {\n  let i = 0;\n  while (i < a.length && i < b.length) {\n    const diff = b[i] - a[i];\n    if (diff)\n      return diff;\n    i++;\n  }\n  if (a.length < b.length) {\n    return a.length === 1 && a[0] === 40 + 40 ? -1 : 1;\n  } else if (a.length > b.length) {\n    return b.length === 1 && b[0] === 40 + 40 ? 1 : -1;\n  }\n  return 0;\n}\nfunction comparePathParserScore(a, b) {\n  let i = 0;\n  const aScore = a.score;\n  const bScore = b.score;\n  while (i < aScore.length && i < bScore.length) {\n    const comp = compareScoreArray(aScore[i], bScore[i]);\n    if (comp)\n      return comp;\n    i++;\n  }\n  if (Math.abs(bScore.length - aScore.length) === 1) {\n    if (isLastScoreNegative(aScore))\n      return 1;\n    if (isLastScoreNegative(bScore))\n      return -1;\n  }\n  return bScore.length - aScore.length;\n}\nfunction isLastScoreNegative(score) {\n  const last = score[score.length - 1];\n  return score.length > 0 && last[last.length - 1] < 0;\n}\nconst ROOT_TOKEN = {\n  type: 0,\n  value: \"\"\n};\nconst VALID_PARAM_RE = /[a-zA-Z0-9_]/;\nfunction tokenizePath(path) {\n  if (!path)\n    return [[]];\n  if (path === \"/\")\n    return [[ROOT_TOKEN]];\n  if (!path.startsWith(\"/\")) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? `Route paths should start with a \"/\": \"${path}\" should be \"/${path}\".` : `Invalid path \"${path}\"`);\n  }\n  function crash(message) {\n    throw new Error(`ERR (${state})/\"${buffer}\": ${message}`);\n  }\n  let state = 0;\n  let previousState = state;\n  const tokens = [];\n  let segment;\n  function finalizeSegment() {\n    if (segment)\n      tokens.push(segment);\n    segment = [];\n  }\n  let i = 0;\n  let char;\n  let buffer = \"\";\n  let customRe = \"\";\n  function consumeBuffer() {\n    if (!buffer)\n      return;\n    if (state === 0) {\n      segment.push({\n        type: 0,\n        value: buffer\n      });\n    } else if (state === 1 || state === 2 || state === 3) {\n      if (segment.length > 1 && (char === \"*\" || char === \"+\"))\n        crash(`A repeatable param (${buffer}) must be alone in its segment. eg: '/:ids+.`);\n      segment.push({\n        type: 1,\n        value: buffer,\n        regexp: customRe,\n        repeatable: char === \"*\" || char === \"+\",\n        optional: char === \"*\" || char === \"?\"\n      });\n    } else {\n      crash(\"Invalid state to consume buffer\");\n    }\n    buffer = \"\";\n  }\n  function addCharToBuffer() {\n    buffer += char;\n  }\n  while (i < path.length) {\n    char = path[i++];\n    if (char === \"\\\\\" && state !== 2) {\n      previousState = state;\n      state = 4;\n      continue;\n    }\n    switch (state) {\n      case 0:\n        if (char === \"/\") {\n          if (buffer) {\n            consumeBuffer();\n          }\n          finalizeSegment();\n        } else if (char === \":\") {\n          consumeBuffer();\n          state = 1;\n        } else {\n          addCharToBuffer();\n        }\n        break;\n      case 4:\n        addCharToBuffer();\n        state = previousState;\n        break;\n      case 1:\n        if (char === \"(\") {\n          state = 2;\n        } else if (VALID_PARAM_RE.test(char)) {\n          addCharToBuffer();\n        } else {\n          consumeBuffer();\n          state = 0;\n          if (char !== \"*\" && char !== \"?\" && char !== \"+\")\n            i--;\n        }\n        break;\n      case 2:\n        if (char === \")\") {\n          if (customRe[customRe.length - 1] == \"\\\\\")\n            customRe = customRe.slice(0, -1) + char;\n          else\n            state = 3;\n        } else {\n          customRe += char;\n        }\n        break;\n      case 3:\n        consumeBuffer();\n        state = 0;\n        if (char !== \"*\" && char !== \"?\" && char !== \"+\")\n          i--;\n        customRe = \"\";\n        break;\n      default:\n        crash(\"Unknown state\");\n        break;\n    }\n  }\n  if (state === 2)\n    crash(`Unfinished custom RegExp for param \"${buffer}\"`);\n  consumeBuffer();\n  finalizeSegment();\n  return tokens;\n}\nfunction createRouteRecordMatcher(record, parent, options) {\n  const parser = tokensToParser(tokenizePath(record.path), options);\n  if (process.env.NODE_ENV !== \"production\") {\n    const existingKeys = /* @__PURE__ */ new Set();\n    for (const key of parser.keys) {\n      if (existingKeys.has(key.name))\n        warn(`Found duplicated params with name \"${key.name}\" for path \"${record.path}\". Only the last one will be available on \"$route.params\".`);\n      existingKeys.add(key.name);\n    }\n  }\n  const matcher = assign(parser, {\n    record,\n    parent,\n    // these needs to be populated by the parent\n    children: [],\n    alias: []\n  });\n  if (parent) {\n    if (!matcher.record.aliasOf === !parent.record.aliasOf)\n      parent.children.push(matcher);\n  }\n  return matcher;\n}\nfunction createRouterMatcher(routes, globalOptions) {\n  const matchers = [];\n  const matcherMap = /* @__PURE__ */ new Map();\n  globalOptions = mergeOptions({ strict: false, end: true, sensitive: false }, globalOptions);\n  function getRecordMatcher(name) {\n    return matcherMap.get(name);\n  }\n  function addRoute(record, parent, originalRecord) {\n    const isRootAdd = !originalRecord;\n    const mainNormalizedRecord = normalizeRouteRecord(record);\n    if (process.env.NODE_ENV !== \"production\") {\n      checkChildMissingNameWithEmptyPath(mainNormalizedRecord, parent);\n    }\n    mainNormalizedRecord.aliasOf = originalRecord && originalRecord.record;\n    const options = mergeOptions(globalOptions, record);\n    const normalizedRecords = [\n      mainNormalizedRecord\n    ];\n    if (\"alias\" in record) {\n      const aliases = typeof record.alias === \"string\" ? [record.alias] : record.alias;\n      for (const alias of aliases) {\n        normalizedRecords.push(assign({}, mainNormalizedRecord, {\n          // this allows us to hold a copy of the `components` option\n          // so that async components cache is hold on the original record\n          components: originalRecord ? originalRecord.record.components : mainNormalizedRecord.components,\n          path: alias,\n          // we might be the child of an alias\n          aliasOf: originalRecord ? originalRecord.record : mainNormalizedRecord\n          // the aliases are always of the same kind as the original since they\n          // are defined on the same record\n        }));\n      }\n    }\n    let matcher;\n    let originalMatcher;\n    for (const normalizedRecord of normalizedRecords) {\n      const { path } = normalizedRecord;\n      if (parent && path[0] !== \"/\") {\n        const parentPath = parent.record.path;\n        const connectingSlash = parentPath[parentPath.length - 1] === \"/\" ? \"\" : \"/\";\n        normalizedRecord.path = parent.record.path + (path && connectingSlash + path);\n      }\n      if (process.env.NODE_ENV !== \"production\" && normalizedRecord.path === \"*\") {\n        throw new Error('Catch all routes (\"*\") must now be defined using a param with a custom regexp.\\nSee more at https://next.router.vuejs.org/guide/migration/#removed-star-or-catch-all-routes.');\n      }\n      matcher = createRouteRecordMatcher(normalizedRecord, parent, options);\n      if (process.env.NODE_ENV !== \"production\" && parent && path[0] === \"/\")\n        checkMissingParamsInAbsolutePath(matcher, parent);\n      if (originalRecord) {\n        originalRecord.alias.push(matcher);\n        if (process.env.NODE_ENV !== \"production\") {\n          checkSameParams(originalRecord, matcher);\n        }\n      } else {\n        originalMatcher = originalMatcher || matcher;\n        if (originalMatcher !== matcher)\n          originalMatcher.alias.push(matcher);\n        if (isRootAdd && record.name && !isAliasRecord(matcher))\n          removeRoute(record.name);\n      }\n      if (mainNormalizedRecord.children) {\n        const children = mainNormalizedRecord.children;\n        for (let i = 0; i < children.length; i++) {\n          addRoute(children[i], matcher, originalRecord && originalRecord.children[i]);\n        }\n      }\n      originalRecord = originalRecord || matcher;\n      if (matcher.record.components && Object.keys(matcher.record.components).length || matcher.record.name || matcher.record.redirect) {\n        insertMatcher(matcher);\n      }\n    }\n    return originalMatcher ? () => {\n      removeRoute(originalMatcher);\n    } : noop;\n  }\n  function removeRoute(matcherRef) {\n    if (isRouteName(matcherRef)) {\n      const matcher = matcherMap.get(matcherRef);\n      if (matcher) {\n        matcherMap.delete(matcherRef);\n        matchers.splice(matchers.indexOf(matcher), 1);\n        matcher.children.forEach(removeRoute);\n        matcher.alias.forEach(removeRoute);\n      }\n    } else {\n      const index2 = matchers.indexOf(matcherRef);\n      if (index2 > -1) {\n        matchers.splice(index2, 1);\n        if (matcherRef.record.name)\n          matcherMap.delete(matcherRef.record.name);\n        matcherRef.children.forEach(removeRoute);\n        matcherRef.alias.forEach(removeRoute);\n      }\n    }\n  }\n  function getRoutes() {\n    return matchers;\n  }\n  function insertMatcher(matcher) {\n    let i = 0;\n    while (i < matchers.length && comparePathParserScore(matcher, matchers[i]) >= 0 && // Adding children with empty path should still appear before the parent\n    // https://github.com/vuejs/router/issues/1124\n    (matcher.record.path !== matchers[i].record.path || !isRecordChildOf(matcher, matchers[i])))\n      i++;\n    matchers.splice(i, 0, matcher);\n    if (matcher.record.name && !isAliasRecord(matcher))\n      matcherMap.set(matcher.record.name, matcher);\n  }\n  function resolve(location2, currentLocation) {\n    let matcher;\n    let params = {};\n    let path;\n    let name;\n    if (\"name\" in location2 && location2.name) {\n      matcher = matcherMap.get(location2.name);\n      if (!matcher)\n        throw createRouterError(1, {\n          location: location2\n        });\n      if (process.env.NODE_ENV !== \"production\") {\n        const invalidParams = Object.keys(location2.params || {}).filter((paramName) => !matcher.keys.find((k) => k.name === paramName));\n        if (invalidParams.length) {\n          warn(`Discarded invalid param(s) \"${invalidParams.join('\", \"')}\" when navigating. See https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md#414-2022-08-22 for more details.`);\n        }\n      }\n      name = matcher.record.name;\n      params = assign(\n        // paramsFromLocation is a new object\n        paramsFromLocation(\n          currentLocation.params,\n          // only keep params that exist in the resolved location\n          // TODO: only keep optional params coming from a parent record\n          matcher.keys.filter((k) => !k.optional).map((k) => k.name)\n        ),\n        // discard any existing params in the current location that do not exist here\n        // #1497 this ensures better active/exact matching\n        location2.params && paramsFromLocation(location2.params, matcher.keys.map((k) => k.name))\n      );\n      path = matcher.stringify(params);\n    } else if (\"path\" in location2) {\n      path = location2.path;\n      if (process.env.NODE_ENV !== \"production\" && !path.startsWith(\"/\")) {\n        warn(`The Matcher cannot resolve relative paths but received \"${path}\". Unless you directly called \\`matcher.resolve(\"${path}\")\\`, this is probably a bug in vue-router. Please open an issue at https://github.com/vuejs/router/issues/new/choose.`);\n      }\n      matcher = matchers.find((m2) => m2.re.test(path));\n      if (matcher) {\n        params = matcher.parse(path);\n        name = matcher.record.name;\n      }\n    } else {\n      matcher = currentLocation.name ? matcherMap.get(currentLocation.name) : matchers.find((m2) => m2.re.test(currentLocation.path));\n      if (!matcher)\n        throw createRouterError(1, {\n          location: location2,\n          currentLocation\n        });\n      name = matcher.record.name;\n      params = assign({}, currentLocation.params, location2.params);\n      path = matcher.stringify(params);\n    }\n    const matched = [];\n    let parentMatcher = matcher;\n    while (parentMatcher) {\n      matched.unshift(parentMatcher.record);\n      parentMatcher = parentMatcher.parent;\n    }\n    return {\n      name,\n      path,\n      params,\n      matched,\n      meta: mergeMetaFields(matched)\n    };\n  }\n  routes.forEach((route) => addRoute(route));\n  return { addRoute, resolve, removeRoute, getRoutes, getRecordMatcher };\n}\nfunction paramsFromLocation(params, keys) {\n  const newParams = {};\n  for (const key of keys) {\n    if (key in params)\n      newParams[key] = params[key];\n  }\n  return newParams;\n}\nfunction normalizeRouteRecord(record) {\n  return {\n    path: record.path,\n    redirect: record.redirect,\n    name: record.name,\n    meta: record.meta || {},\n    aliasOf: void 0,\n    beforeEnter: record.beforeEnter,\n    props: normalizeRecordProps(record),\n    children: record.children || [],\n    instances: {},\n    leaveGuards: /* @__PURE__ */ new Set(),\n    updateGuards: /* @__PURE__ */ new Set(),\n    enterCallbacks: {},\n    components: \"components\" in record ? record.components || null : record.component && { default: record.component }\n  };\n}\nfunction normalizeRecordProps(record) {\n  const propsObject = {};\n  const props = record.props || false;\n  if (\"component\" in record) {\n    propsObject.default = props;\n  } else {\n    for (const name in record.components)\n      propsObject[name] = typeof props === \"object\" ? props[name] : props;\n  }\n  return propsObject;\n}\nfunction isAliasRecord(record) {\n  while (record) {\n    if (record.record.aliasOf)\n      return true;\n    record = record.parent;\n  }\n  return false;\n}\nfunction mergeMetaFields(matched) {\n  return matched.reduce((meta, record) => assign(meta, record.meta), {});\n}\nfunction mergeOptions(defaults, partialOptions) {\n  const options = {};\n  for (const key in defaults) {\n    options[key] = key in partialOptions ? partialOptions[key] : defaults[key];\n  }\n  return options;\n}\nfunction isSameParam(a, b) {\n  return a.name === b.name && a.optional === b.optional && a.repeatable === b.repeatable;\n}\nfunction checkSameParams(a, b) {\n  for (const key of a.keys) {\n    if (!key.optional && !b.keys.find(isSameParam.bind(null, key)))\n      return warn(`Alias \"${b.record.path}\" and the original record: \"${a.record.path}\" must have the exact same param named \"${key.name}\"`);\n  }\n  for (const key of b.keys) {\n    if (!key.optional && !a.keys.find(isSameParam.bind(null, key)))\n      return warn(`Alias \"${b.record.path}\" and the original record: \"${a.record.path}\" must have the exact same param named \"${key.name}\"`);\n  }\n}\nfunction checkChildMissingNameWithEmptyPath(mainNormalizedRecord, parent) {\n  if (parent && parent.record.name && !mainNormalizedRecord.name && !mainNormalizedRecord.path) {\n    warn(`The route named \"${String(parent.record.name)}\" has a child without a name and an empty path. Using that name won't render the empty path child so you probably want to move the name to the child instead. If this is intentional, add a name to the child route to remove the warning.`);\n  }\n}\nfunction checkMissingParamsInAbsolutePath(record, parent) {\n  for (const key of parent.keys) {\n    if (!record.keys.find(isSameParam.bind(null, key)))\n      return warn(`Absolute path \"${record.record.path}\" must have the exact same param named \"${key.name}\" as its parent \"${parent.record.path}\".`);\n  }\n}\nfunction isRecordChildOf(record, parent) {\n  return parent.children.some((child) => child === record || isRecordChildOf(record, child));\n}\nconst HASH_RE = /#/g;\nconst AMPERSAND_RE = /&/g;\nconst SLASH_RE = /\\//g;\nconst EQUAL_RE = /=/g;\nconst IM_RE = /\\?/g;\nconst PLUS_RE = /\\+/g;\nconst ENC_BRACKET_OPEN_RE = /%5B/g;\nconst ENC_BRACKET_CLOSE_RE = /%5D/g;\nconst ENC_CARET_RE = /%5E/g;\nconst ENC_BACKTICK_RE = /%60/g;\nconst ENC_CURLY_OPEN_RE = /%7B/g;\nconst ENC_PIPE_RE = /%7C/g;\nconst ENC_CURLY_CLOSE_RE = /%7D/g;\nconst ENC_SPACE_RE = /%20/g;\nfunction commonEncode(text) {\n  return encodeURI(\"\" + text).replace(ENC_PIPE_RE, \"|\").replace(ENC_BRACKET_OPEN_RE, \"[\").replace(ENC_BRACKET_CLOSE_RE, \"]\");\n}\nfunction encodeHash(text) {\n  return commonEncode(text).replace(ENC_CURLY_OPEN_RE, \"{\").replace(ENC_CURLY_CLOSE_RE, \"}\").replace(ENC_CARET_RE, \"^\");\n}\nfunction encodeQueryValue(text) {\n  return commonEncode(text).replace(PLUS_RE, \"%2B\").replace(ENC_SPACE_RE, \"+\").replace(HASH_RE, \"%23\").replace(AMPERSAND_RE, \"%26\").replace(ENC_BACKTICK_RE, \"`\").replace(ENC_CURLY_OPEN_RE, \"{\").replace(ENC_CURLY_CLOSE_RE, \"}\").replace(ENC_CARET_RE, \"^\");\n}\nfunction encodeQueryKey(text) {\n  return encodeQueryValue(text).replace(EQUAL_RE, \"%3D\");\n}\nfunction encodePath(text) {\n  return commonEncode(text).replace(HASH_RE, \"%23\").replace(IM_RE, \"%3F\");\n}\nfunction encodeParam(text) {\n  return text == null ? \"\" : encodePath(text).replace(SLASH_RE, \"%2F\");\n}\nfunction decode(text) {\n  try {\n    return decodeURIComponent(\"\" + text);\n  } catch (err) {\n    process.env.NODE_ENV !== \"production\" && warn(`Error decoding \"${text}\". Using original value`);\n  }\n  return \"\" + text;\n}\nfunction parseQuery(search) {\n  const query = {};\n  if (search === \"\" || search === \"?\")\n    return query;\n  const hasLeadingIM = search[0] === \"?\";\n  const searchParams = (hasLeadingIM ? search.slice(1) : search).split(\"&\");\n  for (let i = 0; i < searchParams.length; ++i) {\n    const searchParam = searchParams[i].replace(PLUS_RE, \" \");\n    const eqPos = searchParam.indexOf(\"=\");\n    const key = decode(eqPos < 0 ? searchParam : searchParam.slice(0, eqPos));\n    const value = eqPos < 0 ? null : decode(searchParam.slice(eqPos + 1));\n    if (key in query) {\n      let currentValue = query[key];\n      if (!isArray(currentValue)) {\n        currentValue = query[key] = [currentValue];\n      }\n      currentValue.push(value);\n    } else {\n      query[key] = value;\n    }\n  }\n  return query;\n}\nfunction stringifyQuery(query) {\n  let search = \"\";\n  for (let key in query) {\n    const value = query[key];\n    key = encodeQueryKey(key);\n    if (value == null) {\n      if (value !== void 0) {\n        search += (search.length ? \"&\" : \"\") + key;\n      }\n      continue;\n    }\n    const values = isArray(value) ? value.map((v) => v && encodeQueryValue(v)) : [value && encodeQueryValue(value)];\n    values.forEach((value2) => {\n      if (value2 !== void 0) {\n        search += (search.length ? \"&\" : \"\") + key;\n        if (value2 != null)\n          search += \"=\" + value2;\n      }\n    });\n  }\n  return search;\n}\nfunction normalizeQuery(query) {\n  const normalizedQuery = {};\n  for (const key in query) {\n    const value = query[key];\n    if (value !== void 0) {\n      normalizedQuery[key] = isArray(value) ? value.map((v) => v == null ? null : \"\" + v) : value == null ? value : \"\" + value;\n    }\n  }\n  return normalizedQuery;\n}\nconst matchedRouteKey = Symbol(process.env.NODE_ENV !== \"production\" ? \"router view location matched\" : \"\");\nconst viewDepthKey = Symbol(process.env.NODE_ENV !== \"production\" ? \"router view depth\" : \"\");\nconst routerKey = Symbol(process.env.NODE_ENV !== \"production\" ? \"router\" : \"\");\nconst routeLocationKey = Symbol(process.env.NODE_ENV !== \"production\" ? \"route location\" : \"\");\nconst routerViewLocationKey = Symbol(process.env.NODE_ENV !== \"production\" ? \"router view location\" : \"\");\nfunction useCallbacks() {\n  let handlers = [];\n  function add(handler) {\n    handlers.push(handler);\n    return () => {\n      const i = handlers.indexOf(handler);\n      if (i > -1)\n        handlers.splice(i, 1);\n    };\n  }\n  function reset() {\n    handlers = [];\n  }\n  return {\n    add,\n    list: () => handlers.slice(),\n    reset\n  };\n}\nfunction guardToPromiseFn(guard, to, from, record, name) {\n  const enterCallbackArray = record && // name is defined if record is because of the function overload\n  (record.enterCallbacks[name] = record.enterCallbacks[name] || []);\n  return () => new Promise((resolve, reject) => {\n    const next = (valid) => {\n      if (valid === false) {\n        reject(createRouterError(4, {\n          from,\n          to\n        }));\n      } else if (valid instanceof Error) {\n        reject(valid);\n      } else if (isRouteLocation(valid)) {\n        reject(createRouterError(2, {\n          from: to,\n          to: valid\n        }));\n      } else {\n        if (enterCallbackArray && // since enterCallbackArray is truthy, both record and name also are\n        record.enterCallbacks[name] === enterCallbackArray && typeof valid === \"function\") {\n          enterCallbackArray.push(valid);\n        }\n        resolve();\n      }\n    };\n    const guardReturn = guard.call(record && record.instances[name], to, from, process.env.NODE_ENV !== \"production\" ? canOnlyBeCalledOnce(next, to, from) : next);\n    let guardCall = Promise.resolve(guardReturn);\n    if (guard.length < 3)\n      guardCall = guardCall.then(next);\n    if (process.env.NODE_ENV !== \"production\" && guard.length > 2) {\n      const message = `The \"next\" callback was never called inside of ${guard.name ? '\"' + guard.name + '\"' : \"\"}:\n${guard.toString()}\n. If you are returning a value instead of calling \"next\", make sure to remove the \"next\" parameter from your function.`;\n      if (typeof guardReturn === \"object\" && \"then\" in guardReturn) {\n        guardCall = guardCall.then((resolvedValue) => {\n          if (!next._called) {\n            warn(message);\n            return Promise.reject(new Error(\"Invalid navigation guard\"));\n          }\n          return resolvedValue;\n        });\n      } else if (guardReturn !== void 0) {\n        if (!next._called) {\n          warn(message);\n          reject(new Error(\"Invalid navigation guard\"));\n          return;\n        }\n      }\n    }\n    guardCall.catch((err) => reject(err));\n  });\n}\nfunction canOnlyBeCalledOnce(next, to, from) {\n  let called = 0;\n  return function() {\n    if (called++ === 1)\n      warn(`The \"next\" callback was called more than once in one navigation guard when going from \"${from.fullPath}\" to \"${to.fullPath}\". It should be called exactly one time in each navigation guard. This will fail in production.`);\n    next._called = true;\n    if (called === 1)\n      next.apply(null, arguments);\n  };\n}\nfunction extractComponentsGuards(matched, guardType, to, from) {\n  const guards = [];\n  for (const record of matched) {\n    if (process.env.NODE_ENV !== \"production\" && !record.components && !record.children.length) {\n      warn(`Record with path \"${record.path}\" is either missing a \"component(s)\" or \"children\" property.`);\n    }\n    for (const name in record.components) {\n      let rawComponent = record.components[name];\n      if (process.env.NODE_ENV !== \"production\") {\n        if (!rawComponent || typeof rawComponent !== \"object\" && typeof rawComponent !== \"function\") {\n          warn(`Component \"${name}\" in record with path \"${record.path}\" is not a valid component. Received \"${String(rawComponent)}\".`);\n          throw new Error(\"Invalid route component\");\n        } else if (\"then\" in rawComponent) {\n          warn(`Component \"${name}\" in record with path \"${record.path}\" is a Promise instead of a function that returns a Promise. Did you write \"import('./MyPage.vue')\" instead of \"() => import('./MyPage.vue')\" ? This will break in production if not fixed.`);\n          const promise = rawComponent;\n          rawComponent = () => promise;\n        } else if (rawComponent.__asyncLoader && // warn only once per component\n        !rawComponent.__warnedDefineAsync) {\n          rawComponent.__warnedDefineAsync = true;\n          warn(`Component \"${name}\" in record with path \"${record.path}\" is defined using \"defineAsyncComponent()\". Write \"() => import('./MyPage.vue')\" instead of \"defineAsyncComponent(() => import('./MyPage.vue'))\".`);\n        }\n      }\n      if (guardType !== \"beforeRouteEnter\" && !record.instances[name])\n        continue;\n      if (isRouteComponent(rawComponent)) {\n        const options = rawComponent.__vccOpts || rawComponent;\n        const guard = options[guardType];\n        guard && guards.push(guardToPromiseFn(guard, to, from, record, name));\n      } else {\n        let componentPromise = rawComponent();\n        if (process.env.NODE_ENV !== \"production\" && !(\"catch\" in componentPromise)) {\n          warn(`Component \"${name}\" in record with path \"${record.path}\" is a function that does not return a Promise. If you were passing a functional component, make sure to add a \"displayName\" to the component. This will break in production if not fixed.`);\n          componentPromise = Promise.resolve(componentPromise);\n        }\n        guards.push(() => componentPromise.then((resolved) => {\n          if (!resolved)\n            return Promise.reject(new Error(`Couldn't resolve component \"${name}\" at \"${record.path}\"`));\n          const resolvedComponent = isESModule(resolved) ? resolved.default : resolved;\n          record.components[name] = resolvedComponent;\n          const options = resolvedComponent.__vccOpts || resolvedComponent;\n          const guard = options[guardType];\n          return guard && guardToPromiseFn(guard, to, from, record, name)();\n        }));\n      }\n    }\n  }\n  return guards;\n}\nfunction isRouteComponent(component) {\n  return typeof component === \"object\" || \"displayName\" in component || \"props\" in component || \"__vccOpts\" in component;\n}\nfunction useLink(props) {\n  const router2 = inject(routerKey);\n  const currentRoute = inject(routeLocationKey);\n  const route = computed(() => router2.resolve(unref(props.to)));\n  const activeRecordIndex = computed(() => {\n    const { matched } = route.value;\n    const { length } = matched;\n    const routeMatched = matched[length - 1];\n    const currentMatched = currentRoute.matched;\n    if (!routeMatched || !currentMatched.length)\n      return -1;\n    const index2 = currentMatched.findIndex(isSameRouteRecord.bind(null, routeMatched));\n    if (index2 > -1)\n      return index2;\n    const parentRecordPath = getOriginalPath(matched[length - 2]);\n    return (\n      // we are dealing with nested routes\n      length > 1 && // if the parent and matched route have the same path, this link is\n      // referring to the empty child. Or we currently are on a different\n      // child of the same parent\n      getOriginalPath(routeMatched) === parentRecordPath && // avoid comparing the child with its parent\n      currentMatched[currentMatched.length - 1].path !== parentRecordPath ? currentMatched.findIndex(isSameRouteRecord.bind(null, matched[length - 2])) : index2\n    );\n  });\n  const isActive = computed(() => activeRecordIndex.value > -1 && includesParams(currentRoute.params, route.value.params));\n  const isExactActive = computed(() => activeRecordIndex.value > -1 && activeRecordIndex.value === currentRoute.matched.length - 1 && isSameRouteLocationParams(currentRoute.params, route.value.params));\n  function navigate(e = {}) {\n    if (guardEvent(e)) {\n      return router2[unref(props.replace) ? \"replace\" : \"push\"](\n        unref(props.to)\n        // avoid uncaught errors are they are logged anyway\n      ).catch(noop);\n    }\n    return Promise.resolve();\n  }\n  if ((process.env.NODE_ENV !== \"production\" || false) && isBrowser) {\n    const instance = getCurrentInstance();\n    if (instance) {\n      const linkContextDevtools = {\n        route: route.value,\n        isActive: isActive.value,\n        isExactActive: isExactActive.value\n      };\n      instance.__vrl_devtools = instance.__vrl_devtools || [];\n      instance.__vrl_devtools.push(linkContextDevtools);\n      watchEffect(() => {\n        linkContextDevtools.route = route.value;\n        linkContextDevtools.isActive = isActive.value;\n        linkContextDevtools.isExactActive = isExactActive.value;\n      }, { flush: \"post\" });\n    }\n  }\n  return {\n    route,\n    href: computed(() => route.value.href),\n    isActive,\n    isExactActive,\n    navigate\n  };\n}\nconst RouterLinkImpl = /* @__PURE__ */ defineComponent({\n  name: \"RouterLink\",\n  compatConfig: { MODE: 3 },\n  props: {\n    to: {\n      type: [String, Object],\n      required: true\n    },\n    replace: Boolean,\n    activeClass: String,\n    // inactiveClass: String,\n    exactActiveClass: String,\n    custom: Boolean,\n    ariaCurrentValue: {\n      type: String,\n      default: \"page\"\n    }\n  },\n  useLink,\n  setup(props, { slots }) {\n    const link = reactive(useLink(props));\n    const { options } = inject(routerKey);\n    const elClass = computed(() => ({\n      [getLinkClass(props.activeClass, options.linkActiveClass, \"router-link-active\")]: link.isActive,\n      // [getLinkClass(\n      //   props.inactiveClass,\n      //   options.linkInactiveClass,\n      //   'router-link-inactive'\n      // )]: !link.isExactActive,\n      [getLinkClass(props.exactActiveClass, options.linkExactActiveClass, \"router-link-exact-active\")]: link.isExactActive\n    }));\n    return () => {\n      const children = slots.default && slots.default(link);\n      return props.custom ? children : h$1(\"a\", {\n        \"aria-current\": link.isExactActive ? props.ariaCurrentValue : null,\n        href: link.href,\n        // this would override user added attrs but Vue will still add\n        // the listener, so we end up triggering both\n        onClick: link.navigate,\n        class: elClass.value\n      }, children);\n    };\n  }\n});\nconst RouterLink = RouterLinkImpl;\nfunction guardEvent(e) {\n  if (e.metaKey || e.altKey || e.ctrlKey || e.shiftKey)\n    return;\n  if (e.defaultPrevented)\n    return;\n  if (e.button !== void 0 && e.button !== 0)\n    return;\n  if (e.currentTarget && e.currentTarget.getAttribute) {\n    const target = e.currentTarget.getAttribute(\"target\");\n    if (/\\b_blank\\b/i.test(target))\n      return;\n  }\n  if (e.preventDefault)\n    e.preventDefault();\n  return true;\n}\nfunction includesParams(outer, inner) {\n  for (const key in inner) {\n    const innerValue = inner[key];\n    const outerValue = outer[key];\n    if (typeof innerValue === \"string\") {\n      if (innerValue !== outerValue)\n        return false;\n    } else {\n      if (!isArray(outerValue) || outerValue.length !== innerValue.length || innerValue.some((value, i) => value !== outerValue[i]))\n        return false;\n    }\n  }\n  return true;\n}\nfunction getOriginalPath(record) {\n  return record ? record.aliasOf ? record.aliasOf.path : record.path : \"\";\n}\nconst getLinkClass = (propClass, globalClass, defaultClass) => propClass != null ? propClass : globalClass != null ? globalClass : defaultClass;\nconst RouterViewImpl = /* @__PURE__ */ defineComponent({\n  name: \"RouterView\",\n  // #674 we manually inherit them\n  inheritAttrs: false,\n  props: {\n    name: {\n      type: String,\n      default: \"default\"\n    },\n    route: Object\n  },\n  // Better compat for @vue/compat users\n  // https://github.com/vuejs/router/issues/1315\n  compatConfig: { MODE: 3 },\n  setup(props, { attrs, slots }) {\n    process.env.NODE_ENV !== \"production\" && warnDeprecatedUsage();\n    const injectedRoute = inject(routerViewLocationKey);\n    const routeToDisplay = computed(() => props.route || injectedRoute.value);\n    const injectedDepth = inject(viewDepthKey, 0);\n    const depth = computed(() => {\n      let initialDepth = unref(injectedDepth);\n      const { matched } = routeToDisplay.value;\n      let matchedRoute;\n      while ((matchedRoute = matched[initialDepth]) && !matchedRoute.components) {\n        initialDepth++;\n      }\n      return initialDepth;\n    });\n    const matchedRouteRef = computed(() => routeToDisplay.value.matched[depth.value]);\n    provide(viewDepthKey, computed(() => depth.value + 1));\n    provide(matchedRouteKey, matchedRouteRef);\n    provide(routerViewLocationKey, routeToDisplay);\n    const viewRef = ref();\n    watch(() => [viewRef.value, matchedRouteRef.value, props.name], ([instance, to, name], [oldInstance, from, oldName]) => {\n      if (to) {\n        to.instances[name] = instance;\n        if (from && from !== to && instance && instance === oldInstance) {\n          if (!to.leaveGuards.size) {\n            to.leaveGuards = from.leaveGuards;\n          }\n          if (!to.updateGuards.size) {\n            to.updateGuards = from.updateGuards;\n          }\n        }\n      }\n      if (instance && to && // if there is no instance but to and from are the same this might be\n      // the first visit\n      (!from || !isSameRouteRecord(to, from) || !oldInstance)) {\n        (to.enterCallbacks[name] || []).forEach((callback) => callback(instance));\n      }\n    }, { flush: \"post\" });\n    return () => {\n      const route = routeToDisplay.value;\n      const currentName = props.name;\n      const matchedRoute = matchedRouteRef.value;\n      const ViewComponent = matchedRoute && matchedRoute.components[currentName];\n      if (!ViewComponent) {\n        return normalizeSlot(slots.default, { Component: ViewComponent, route });\n      }\n      const routePropsOption = matchedRoute.props[currentName];\n      const routeProps = routePropsOption ? routePropsOption === true ? route.params : typeof routePropsOption === \"function\" ? routePropsOption(route) : routePropsOption : null;\n      const onVnodeUnmounted = (vnode) => {\n        if (vnode.component.isUnmounted) {\n          matchedRoute.instances[currentName] = null;\n        }\n      };\n      const component = h$1(ViewComponent, assign({}, routeProps, attrs, {\n        onVnodeUnmounted,\n        ref: viewRef\n      }));\n      if ((process.env.NODE_ENV !== \"production\" || false) && isBrowser && component.ref) {\n        const info = {\n          depth: depth.value,\n          name: matchedRoute.name,\n          path: matchedRoute.path,\n          meta: matchedRoute.meta\n        };\n        const internalInstances = isArray(component.ref) ? component.ref.map((r) => r.i) : [component.ref.i];\n        internalInstances.forEach((instance) => {\n          instance.__vrv_devtools = info;\n        });\n      }\n      return (\n        // pass the vnode to the slot as a prop.\n        // h and <component :is=\"...\"> both accept vnodes\n        normalizeSlot(slots.default, { Component: component, route }) || component\n      );\n    };\n  }\n});\nfunction normalizeSlot(slot, data) {\n  if (!slot)\n    return null;\n  const slotContent = slot(data);\n  return slotContent.length === 1 ? slotContent[0] : slotContent;\n}\nconst RouterView = RouterViewImpl;\nfunction warnDeprecatedUsage() {\n  const instance = getCurrentInstance();\n  const parentName = instance.parent && instance.parent.type.name;\n  const parentSubTreeType = instance.parent && instance.parent.subTree && instance.parent.subTree.type;\n  if (parentName && (parentName === \"KeepAlive\" || parentName.includes(\"Transition\")) && typeof parentSubTreeType === \"object\" && parentSubTreeType.name === \"RouterView\") {\n    const comp = parentName === \"KeepAlive\" ? \"keep-alive\" : \"transition\";\n    warn(`<router-view> can no longer be used directly inside <transition> or <keep-alive>.\nUse slot props instead:\n\n<router-view v-slot=\"{ Component }\">\n  <${comp}>\n    <component :is=\"Component\" />\n  </${comp}>\n</router-view>`);\n  }\n}\nfunction formatRouteLocation(routeLocation, tooltip) {\n  const copy = assign({}, routeLocation, {\n    // remove variables that can contain vue instances\n    matched: routeLocation.matched.map((matched) => omit(matched, [\"instances\", \"children\", \"aliasOf\"]))\n  });\n  return {\n    _custom: {\n      type: null,\n      readOnly: true,\n      display: routeLocation.fullPath,\n      tooltip,\n      value: copy\n    }\n  };\n}\nfunction formatDisplay(display) {\n  return {\n    _custom: {\n      display\n    }\n  };\n}\nlet routerId = 0;\nfunction addDevtools(app, router2, matcher) {\n  if (router2.__hasDevtools)\n    return;\n  router2.__hasDevtools = true;\n  const id = routerId++;\n  setupDevtoolsPlugin({\n    id: \"org.vuejs.router\" + (id ? \".\" + id : \"\"),\n    label: \"Vue Router\",\n    packageName: \"vue-router\",\n    homepage: \"https://router.vuejs.org\",\n    logo: \"https://router.vuejs.org/logo.png\",\n    componentStateTypes: [\"Routing\"],\n    app\n  }, (api) => {\n    if (typeof api.now !== \"function\") {\n      console.warn(\"[Vue Router]: You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html.\");\n    }\n    api.on.inspectComponent((payload, ctx) => {\n      if (payload.instanceData) {\n        payload.instanceData.state.push({\n          type: \"Routing\",\n          key: \"$route\",\n          editable: false,\n          value: formatRouteLocation(router2.currentRoute.value, \"Current Route\")\n        });\n      }\n    });\n    api.on.visitComponentTree(({ treeNode: node, componentInstance }) => {\n      if (componentInstance.__vrv_devtools) {\n        const info = componentInstance.__vrv_devtools;\n        node.tags.push({\n          label: (info.name ? `${info.name.toString()}: ` : \"\") + info.path,\n          textColor: 0,\n          tooltip: \"This component is rendered by &lt;router-view&gt;\",\n          backgroundColor: PINK_500\n        });\n      }\n      if (isArray(componentInstance.__vrl_devtools)) {\n        componentInstance.__devtoolsApi = api;\n        componentInstance.__vrl_devtools.forEach((devtoolsData) => {\n          let backgroundColor = ORANGE_400;\n          let tooltip = \"\";\n          if (devtoolsData.isExactActive) {\n            backgroundColor = LIME_500;\n            tooltip = \"This is exactly active\";\n          } else if (devtoolsData.isActive) {\n            backgroundColor = BLUE_600;\n            tooltip = \"This link is active\";\n          }\n          node.tags.push({\n            label: devtoolsData.route.path,\n            textColor: 0,\n            tooltip,\n            backgroundColor\n          });\n        });\n      }\n    });\n    watch(router2.currentRoute, () => {\n      refreshRoutesView();\n      api.notifyComponentUpdate();\n      api.sendInspectorTree(routerInspectorId);\n      api.sendInspectorState(routerInspectorId);\n    });\n    const navigationsLayerId = \"router:navigations:\" + id;\n    api.addTimelineLayer({\n      id: navigationsLayerId,\n      label: `Router${id ? \" \" + id : \"\"} Navigations`,\n      color: 4237508\n    });\n    router2.onError((error, to) => {\n      api.addTimelineEvent({\n        layerId: navigationsLayerId,\n        event: {\n          title: \"Error during Navigation\",\n          subtitle: to.fullPath,\n          logType: \"error\",\n          time: api.now(),\n          data: { error },\n          groupId: to.meta.__navigationId\n        }\n      });\n    });\n    let navigationId = 0;\n    router2.beforeEach((to, from) => {\n      const data = {\n        guard: formatDisplay(\"beforeEach\"),\n        from: formatRouteLocation(from, \"Current Location during this navigation\"),\n        to: formatRouteLocation(to, \"Target location\")\n      };\n      Object.defineProperty(to.meta, \"__navigationId\", {\n        value: navigationId++\n      });\n      api.addTimelineEvent({\n        layerId: navigationsLayerId,\n        event: {\n          time: api.now(),\n          title: \"Start of navigation\",\n          subtitle: to.fullPath,\n          data,\n          groupId: to.meta.__navigationId\n        }\n      });\n    });\n    router2.afterEach((to, from, failure) => {\n      const data = {\n        guard: formatDisplay(\"afterEach\")\n      };\n      if (failure) {\n        data.failure = {\n          _custom: {\n            type: Error,\n            readOnly: true,\n            display: failure ? failure.message : \"\",\n            tooltip: \"Navigation Failure\",\n            value: failure\n          }\n        };\n        data.status = formatDisplay(\"❌\");\n      } else {\n        data.status = formatDisplay(\"✅\");\n      }\n      data.from = formatRouteLocation(from, \"Current Location during this navigation\");\n      data.to = formatRouteLocation(to, \"Target location\");\n      api.addTimelineEvent({\n        layerId: navigationsLayerId,\n        event: {\n          title: \"End of navigation\",\n          subtitle: to.fullPath,\n          time: api.now(),\n          data,\n          logType: failure ? \"warning\" : \"default\",\n          groupId: to.meta.__navigationId\n        }\n      });\n    });\n    const routerInspectorId = \"router-inspector:\" + id;\n    api.addInspector({\n      id: routerInspectorId,\n      label: \"Routes\" + (id ? \" \" + id : \"\"),\n      icon: \"book\",\n      treeFilterPlaceholder: \"Search routes\"\n    });\n    function refreshRoutesView() {\n      if (!activeRoutesPayload)\n        return;\n      const payload = activeRoutesPayload;\n      let routes = matcher.getRoutes().filter((route) => !route.parent || // these routes have a parent with no component which will not appear in the view\n      // therefore we still need to include them\n      !route.parent.record.components);\n      routes.forEach(resetMatchStateOnRouteRecord);\n      if (payload.filter) {\n        routes = routes.filter((route) => (\n          // save matches state based on the payload\n          isRouteMatching(route, payload.filter.toLowerCase())\n        ));\n      }\n      routes.forEach((route) => markRouteRecordActive(route, router2.currentRoute.value));\n      payload.rootNodes = routes.map(formatRouteRecordForInspector);\n    }\n    let activeRoutesPayload;\n    api.on.getInspectorTree((payload) => {\n      activeRoutesPayload = payload;\n      if (payload.app === app && payload.inspectorId === routerInspectorId) {\n        refreshRoutesView();\n      }\n    });\n    api.on.getInspectorState((payload) => {\n      if (payload.app === app && payload.inspectorId === routerInspectorId) {\n        const routes = matcher.getRoutes();\n        const route = routes.find((route2) => route2.record.__vd_id === payload.nodeId);\n        if (route) {\n          payload.state = {\n            options: formatRouteRecordMatcherForStateInspector(route)\n          };\n        }\n      }\n    });\n    api.sendInspectorTree(routerInspectorId);\n    api.sendInspectorState(routerInspectorId);\n  });\n}\nfunction modifierForKey(key) {\n  if (key.optional) {\n    return key.repeatable ? \"*\" : \"?\";\n  } else {\n    return key.repeatable ? \"+\" : \"\";\n  }\n}\nfunction formatRouteRecordMatcherForStateInspector(route) {\n  const { record } = route;\n  const fields = [\n    { editable: false, key: \"path\", value: record.path }\n  ];\n  if (record.name != null) {\n    fields.push({\n      editable: false,\n      key: \"name\",\n      value: record.name\n    });\n  }\n  fields.push({ editable: false, key: \"regexp\", value: route.re });\n  if (route.keys.length) {\n    fields.push({\n      editable: false,\n      key: \"keys\",\n      value: {\n        _custom: {\n          type: null,\n          readOnly: true,\n          display: route.keys.map((key) => `${key.name}${modifierForKey(key)}`).join(\" \"),\n          tooltip: \"Param keys\",\n          value: route.keys\n        }\n      }\n    });\n  }\n  if (record.redirect != null) {\n    fields.push({\n      editable: false,\n      key: \"redirect\",\n      value: record.redirect\n    });\n  }\n  if (route.alias.length) {\n    fields.push({\n      editable: false,\n      key: \"aliases\",\n      value: route.alias.map((alias) => alias.record.path)\n    });\n  }\n  if (Object.keys(route.record.meta).length) {\n    fields.push({\n      editable: false,\n      key: \"meta\",\n      value: route.record.meta\n    });\n  }\n  fields.push({\n    key: \"score\",\n    editable: false,\n    value: {\n      _custom: {\n        type: null,\n        readOnly: true,\n        display: route.score.map((score) => score.join(\", \")).join(\" | \"),\n        tooltip: \"Score used to sort routes\",\n        value: route.score\n      }\n    }\n  });\n  return fields;\n}\nconst PINK_500 = 15485081;\nconst BLUE_600 = 2450411;\nconst LIME_500 = 8702998;\nconst CYAN_400 = 2282478;\nconst ORANGE_400 = 16486972;\nconst DARK = 6710886;\nfunction formatRouteRecordForInspector(route) {\n  const tags = [];\n  const { record } = route;\n  if (record.name != null) {\n    tags.push({\n      label: String(record.name),\n      textColor: 0,\n      backgroundColor: CYAN_400\n    });\n  }\n  if (record.aliasOf) {\n    tags.push({\n      label: \"alias\",\n      textColor: 0,\n      backgroundColor: ORANGE_400\n    });\n  }\n  if (route.__vd_match) {\n    tags.push({\n      label: \"matches\",\n      textColor: 0,\n      backgroundColor: PINK_500\n    });\n  }\n  if (route.__vd_exactActive) {\n    tags.push({\n      label: \"exact\",\n      textColor: 0,\n      backgroundColor: LIME_500\n    });\n  }\n  if (route.__vd_active) {\n    tags.push({\n      label: \"active\",\n      textColor: 0,\n      backgroundColor: BLUE_600\n    });\n  }\n  if (record.redirect) {\n    tags.push({\n      label: typeof record.redirect === \"string\" ? `redirect: ${record.redirect}` : \"redirects\",\n      textColor: 16777215,\n      backgroundColor: DARK\n    });\n  }\n  let id = record.__vd_id;\n  if (id == null) {\n    id = String(routeRecordId++);\n    record.__vd_id = id;\n  }\n  return {\n    id,\n    label: record.path,\n    tags,\n    children: route.children.map(formatRouteRecordForInspector)\n  };\n}\nlet routeRecordId = 0;\nconst EXTRACT_REGEXP_RE = /^\\/(.*)\\/([a-z]*)$/;\nfunction markRouteRecordActive(route, currentRoute) {\n  const isExactActive = currentRoute.matched.length && isSameRouteRecord(currentRoute.matched[currentRoute.matched.length - 1], route.record);\n  route.__vd_exactActive = route.__vd_active = isExactActive;\n  if (!isExactActive) {\n    route.__vd_active = currentRoute.matched.some((match) => isSameRouteRecord(match, route.record));\n  }\n  route.children.forEach((childRoute) => markRouteRecordActive(childRoute, currentRoute));\n}\nfunction resetMatchStateOnRouteRecord(route) {\n  route.__vd_match = false;\n  route.children.forEach(resetMatchStateOnRouteRecord);\n}\nfunction isRouteMatching(route, filter) {\n  const found = String(route.re).match(EXTRACT_REGEXP_RE);\n  route.__vd_match = false;\n  if (!found || found.length < 3) {\n    return false;\n  }\n  const nonEndingRE = new RegExp(found[1].replace(/\\$$/, \"\"), found[2]);\n  if (nonEndingRE.test(filter)) {\n    route.children.forEach((child) => isRouteMatching(child, filter));\n    if (route.record.path !== \"/\" || filter === \"/\") {\n      route.__vd_match = route.re.test(filter);\n      return true;\n    }\n    return false;\n  }\n  const path = route.record.path.toLowerCase();\n  const decodedPath = decode(path);\n  if (!filter.startsWith(\"/\") && (decodedPath.includes(filter) || path.includes(filter)))\n    return true;\n  if (decodedPath.startsWith(filter) || path.startsWith(filter))\n    return true;\n  if (route.record.name && String(route.record.name).includes(filter))\n    return true;\n  return route.children.some((child) => isRouteMatching(child, filter));\n}\nfunction omit(obj, keys) {\n  const ret = {};\n  for (const key in obj) {\n    if (!keys.includes(key)) {\n      ret[key] = obj[key];\n    }\n  }\n  return ret;\n}\nfunction createRouter(options) {\n  const matcher = createRouterMatcher(options.routes, options);\n  const parseQuery$1 = options.parseQuery || parseQuery;\n  const stringifyQuery$1 = options.stringifyQuery || stringifyQuery;\n  const routerHistory = options.history;\n  if (process.env.NODE_ENV !== \"production\" && !routerHistory)\n    throw new Error('Provide the \"history\" option when calling \"createRouter()\": https://next.router.vuejs.org/api/#history.');\n  const beforeGuards = useCallbacks();\n  const beforeResolveGuards = useCallbacks();\n  const afterGuards = useCallbacks();\n  const currentRoute = shallowRef(START_LOCATION_NORMALIZED);\n  let pendingLocation = START_LOCATION_NORMALIZED;\n  if (isBrowser && options.scrollBehavior && \"scrollRestoration\" in history) {\n    history.scrollRestoration = \"manual\";\n  }\n  const normalizeParams = applyToParams.bind(null, (paramValue) => \"\" + paramValue);\n  const encodeParams = applyToParams.bind(null, encodeParam);\n  const decodeParams = (\n    // @ts-expect-error: intentionally avoid the type check\n    applyToParams.bind(null, decode)\n  );\n  function addRoute(parentOrRoute, route) {\n    let parent;\n    let record;\n    if (isRouteName(parentOrRoute)) {\n      parent = matcher.getRecordMatcher(parentOrRoute);\n      record = route;\n    } else {\n      record = parentOrRoute;\n    }\n    return matcher.addRoute(record, parent);\n  }\n  function removeRoute(name) {\n    const recordMatcher = matcher.getRecordMatcher(name);\n    if (recordMatcher) {\n      matcher.removeRoute(recordMatcher);\n    } else if (process.env.NODE_ENV !== \"production\") {\n      warn(`Cannot remove non-existent route \"${String(name)}\"`);\n    }\n  }\n  function getRoutes() {\n    return matcher.getRoutes().map((routeMatcher) => routeMatcher.record);\n  }\n  function hasRoute(name) {\n    return !!matcher.getRecordMatcher(name);\n  }\n  function resolve(rawLocation, currentLocation) {\n    currentLocation = assign({}, currentLocation || currentRoute.value);\n    if (typeof rawLocation === \"string\") {\n      const locationNormalized = parseURL(parseQuery$1, rawLocation, currentLocation.path);\n      const matchedRoute2 = matcher.resolve({ path: locationNormalized.path }, currentLocation);\n      const href2 = routerHistory.createHref(locationNormalized.fullPath);\n      if (process.env.NODE_ENV !== \"production\") {\n        if (href2.startsWith(\"//\"))\n          warn(`Location \"${rawLocation}\" resolved to \"${href2}\". A resolved location cannot start with multiple slashes.`);\n        else if (!matchedRoute2.matched.length) {\n          warn(`No match found for location with path \"${rawLocation}\"`);\n        }\n      }\n      return assign(locationNormalized, matchedRoute2, {\n        params: decodeParams(matchedRoute2.params),\n        hash: decode(locationNormalized.hash),\n        redirectedFrom: void 0,\n        href: href2\n      });\n    }\n    let matcherLocation;\n    if (\"path\" in rawLocation) {\n      if (process.env.NODE_ENV !== \"production\" && \"params\" in rawLocation && !(\"name\" in rawLocation) && // @ts-expect-error: the type is never\n      Object.keys(rawLocation.params).length) {\n        warn(`Path \"${rawLocation.path}\" was passed with params but they will be ignored. Use a named route alongside params instead.`);\n      }\n      matcherLocation = assign({}, rawLocation, {\n        path: parseURL(parseQuery$1, rawLocation.path, currentLocation.path).path\n      });\n    } else {\n      const targetParams = assign({}, rawLocation.params);\n      for (const key in targetParams) {\n        if (targetParams[key] == null) {\n          delete targetParams[key];\n        }\n      }\n      matcherLocation = assign({}, rawLocation, {\n        params: encodeParams(targetParams)\n      });\n      currentLocation.params = encodeParams(currentLocation.params);\n    }\n    const matchedRoute = matcher.resolve(matcherLocation, currentLocation);\n    const hash = rawLocation.hash || \"\";\n    if (process.env.NODE_ENV !== \"production\" && hash && !hash.startsWith(\"#\")) {\n      warn(`A \\`hash\\` should always start with the character \"#\". Replace \"${hash}\" with \"#${hash}\".`);\n    }\n    matchedRoute.params = normalizeParams(decodeParams(matchedRoute.params));\n    const fullPath = stringifyURL(stringifyQuery$1, assign({}, rawLocation, {\n      hash: encodeHash(hash),\n      path: matchedRoute.path\n    }));\n    const href = routerHistory.createHref(fullPath);\n    if (process.env.NODE_ENV !== \"production\") {\n      if (href.startsWith(\"//\")) {\n        warn(`Location \"${rawLocation}\" resolved to \"${href}\". A resolved location cannot start with multiple slashes.`);\n      } else if (!matchedRoute.matched.length) {\n        warn(`No match found for location with path \"${\"path\" in rawLocation ? rawLocation.path : rawLocation}\"`);\n      }\n    }\n    return assign({\n      fullPath,\n      // keep the hash encoded so fullPath is effectively path + encodedQuery +\n      // hash\n      hash,\n      query: (\n        // if the user is using a custom query lib like qs, we might have\n        // nested objects, so we keep the query as is, meaning it can contain\n        // numbers at `$route.query`, but at the point, the user will have to\n        // use their own type anyway.\n        // https://github.com/vuejs/router/issues/328#issuecomment-649481567\n        stringifyQuery$1 === stringifyQuery ? normalizeQuery(rawLocation.query) : rawLocation.query || {}\n      )\n    }, matchedRoute, {\n      redirectedFrom: void 0,\n      href\n    });\n  }\n  function locationAsObject(to) {\n    return typeof to === \"string\" ? parseURL(parseQuery$1, to, currentRoute.value.path) : assign({}, to);\n  }\n  function checkCanceledNavigation(to, from) {\n    if (pendingLocation !== to) {\n      return createRouterError(8, {\n        from,\n        to\n      });\n    }\n  }\n  function push(to) {\n    return pushWithRedirect(to);\n  }\n  function replace(to) {\n    return push(assign(locationAsObject(to), { replace: true }));\n  }\n  function handleRedirectRecord(to) {\n    const lastMatched = to.matched[to.matched.length - 1];\n    if (lastMatched && lastMatched.redirect) {\n      const { redirect } = lastMatched;\n      let newTargetLocation = typeof redirect === \"function\" ? redirect(to) : redirect;\n      if (typeof newTargetLocation === \"string\") {\n        newTargetLocation = newTargetLocation.includes(\"?\") || newTargetLocation.includes(\"#\") ? newTargetLocation = locationAsObject(newTargetLocation) : (\n          // force empty params\n          { path: newTargetLocation }\n        );\n        newTargetLocation.params = {};\n      }\n      if (process.env.NODE_ENV !== \"production\" && !(\"path\" in newTargetLocation) && !(\"name\" in newTargetLocation)) {\n        warn(`Invalid redirect found:\n${JSON.stringify(newTargetLocation, null, 2)}\n when navigating to \"${to.fullPath}\". A redirect must contain a name or path. This will break in production.`);\n        throw new Error(\"Invalid redirect\");\n      }\n      return assign({\n        query: to.query,\n        hash: to.hash,\n        // avoid transferring params if the redirect has a path\n        params: \"path\" in newTargetLocation ? {} : to.params\n      }, newTargetLocation);\n    }\n  }\n  function pushWithRedirect(to, redirectedFrom) {\n    const targetLocation = pendingLocation = resolve(to);\n    const from = currentRoute.value;\n    const data = to.state;\n    const force = to.force;\n    const replace2 = to.replace === true;\n    const shouldRedirect = handleRedirectRecord(targetLocation);\n    if (shouldRedirect)\n      return pushWithRedirect(\n        assign(locationAsObject(shouldRedirect), {\n          state: typeof shouldRedirect === \"object\" ? assign({}, data, shouldRedirect.state) : data,\n          force,\n          replace: replace2\n        }),\n        // keep original redirectedFrom if it exists\n        redirectedFrom || targetLocation\n      );\n    const toLocation = targetLocation;\n    toLocation.redirectedFrom = redirectedFrom;\n    let failure;\n    if (!force && isSameRouteLocation(stringifyQuery$1, from, targetLocation)) {\n      failure = createRouterError(16, { to: toLocation, from });\n      handleScroll(\n        from,\n        from,\n        // this is a push, the only way for it to be triggered from a\n        // history.listen is with a redirect, which makes it become a push\n        true,\n        // This cannot be the first navigation because the initial location\n        // cannot be manually navigated to\n        false\n      );\n    }\n    return (failure ? Promise.resolve(failure) : navigate(toLocation, from)).catch((error) => isNavigationFailure(error) ? (\n      // navigation redirects still mark the router as ready\n      isNavigationFailure(\n        error,\n        2\n        /* ErrorTypes.NAVIGATION_GUARD_REDIRECT */\n      ) ? error : markAsReady(error)\n    ) : (\n      // reject any unknown error\n      triggerError(error, toLocation, from)\n    )).then((failure2) => {\n      if (failure2) {\n        if (isNavigationFailure(\n          failure2,\n          2\n          /* ErrorTypes.NAVIGATION_GUARD_REDIRECT */\n        )) {\n          if (process.env.NODE_ENV !== \"production\" && // we are redirecting to the same location we were already at\n          isSameRouteLocation(stringifyQuery$1, resolve(failure2.to), toLocation) && // and we have done it a couple of times\n          redirectedFrom && // @ts-expect-error: added only in dev\n          (redirectedFrom._count = redirectedFrom._count ? (\n            // @ts-expect-error\n            redirectedFrom._count + 1\n          ) : 1) > 30) {\n            warn(`Detected a possibly infinite redirection in a navigation guard when going from \"${from.fullPath}\" to \"${toLocation.fullPath}\". Aborting to avoid a Stack Overflow.\n Are you always returning a new location within a navigation guard? That would lead to this error. Only return when redirecting or aborting, that should fix this. This might break in production if not fixed.`);\n            return Promise.reject(new Error(\"Infinite redirect in navigation guard\"));\n          }\n          return pushWithRedirect(\n            // keep options\n            assign({\n              // preserve an existing replacement but allow the redirect to override it\n              replace: replace2\n            }, locationAsObject(failure2.to), {\n              state: typeof failure2.to === \"object\" ? assign({}, data, failure2.to.state) : data,\n              force\n            }),\n            // preserve the original redirectedFrom if any\n            redirectedFrom || toLocation\n          );\n        }\n      } else {\n        failure2 = finalizeNavigation(toLocation, from, true, replace2, data);\n      }\n      triggerAfterEach(toLocation, from, failure2);\n      return failure2;\n    });\n  }\n  function checkCanceledNavigationAndReject(to, from) {\n    const error = checkCanceledNavigation(to, from);\n    return error ? Promise.reject(error) : Promise.resolve();\n  }\n  function runWithContext(fn) {\n    const app = installedApps.values().next().value;\n    return app && typeof app.runWithContext === \"function\" ? app.runWithContext(fn) : fn();\n  }\n  function navigate(to, from) {\n    let guards;\n    const [leavingRecords, updatingRecords, enteringRecords] = extractChangingRecords(to, from);\n    guards = extractComponentsGuards(leavingRecords.reverse(), \"beforeRouteLeave\", to, from);\n    for (const record of leavingRecords) {\n      record.leaveGuards.forEach((guard) => {\n        guards.push(guardToPromiseFn(guard, to, from));\n      });\n    }\n    const canceledNavigationCheck = checkCanceledNavigationAndReject.bind(null, to, from);\n    guards.push(canceledNavigationCheck);\n    return runGuardQueue(guards).then(() => {\n      guards = [];\n      for (const guard of beforeGuards.list()) {\n        guards.push(guardToPromiseFn(guard, to, from));\n      }\n      guards.push(canceledNavigationCheck);\n      return runGuardQueue(guards);\n    }).then(() => {\n      guards = extractComponentsGuards(updatingRecords, \"beforeRouteUpdate\", to, from);\n      for (const record of updatingRecords) {\n        record.updateGuards.forEach((guard) => {\n          guards.push(guardToPromiseFn(guard, to, from));\n        });\n      }\n      guards.push(canceledNavigationCheck);\n      return runGuardQueue(guards);\n    }).then(() => {\n      guards = [];\n      for (const record of enteringRecords) {\n        if (record.beforeEnter) {\n          if (isArray(record.beforeEnter)) {\n            for (const beforeEnter of record.beforeEnter)\n              guards.push(guardToPromiseFn(beforeEnter, to, from));\n          } else {\n            guards.push(guardToPromiseFn(record.beforeEnter, to, from));\n          }\n        }\n      }\n      guards.push(canceledNavigationCheck);\n      return runGuardQueue(guards);\n    }).then(() => {\n      to.matched.forEach((record) => record.enterCallbacks = {});\n      guards = extractComponentsGuards(enteringRecords, \"beforeRouteEnter\", to, from);\n      guards.push(canceledNavigationCheck);\n      return runGuardQueue(guards);\n    }).then(() => {\n      guards = [];\n      for (const guard of beforeResolveGuards.list()) {\n        guards.push(guardToPromiseFn(guard, to, from));\n      }\n      guards.push(canceledNavigationCheck);\n      return runGuardQueue(guards);\n    }).catch((err) => isNavigationFailure(\n      err,\n      8\n      /* ErrorTypes.NAVIGATION_CANCELLED */\n    ) ? err : Promise.reject(err));\n  }\n  function triggerAfterEach(to, from, failure) {\n    afterGuards.list().forEach((guard) => runWithContext(() => guard(to, from, failure)));\n  }\n  function finalizeNavigation(toLocation, from, isPush, replace2, data) {\n    const error = checkCanceledNavigation(toLocation, from);\n    if (error)\n      return error;\n    const isFirstNavigation = from === START_LOCATION_NORMALIZED;\n    const state = !isBrowser ? {} : history.state;\n    if (isPush) {\n      if (replace2 || isFirstNavigation)\n        routerHistory.replace(toLocation.fullPath, assign({\n          scroll: isFirstNavigation && state && state.scroll\n        }, data));\n      else\n        routerHistory.push(toLocation.fullPath, data);\n    }\n    currentRoute.value = toLocation;\n    handleScroll(toLocation, from, isPush, isFirstNavigation);\n    markAsReady();\n  }\n  let removeHistoryListener;\n  function setupListeners() {\n    if (removeHistoryListener)\n      return;\n    removeHistoryListener = routerHistory.listen((to, _from, info) => {\n      if (!router2.listening)\n        return;\n      const toLocation = resolve(to);\n      const shouldRedirect = handleRedirectRecord(toLocation);\n      if (shouldRedirect) {\n        pushWithRedirect(assign(shouldRedirect, { replace: true }), toLocation).catch(noop);\n        return;\n      }\n      pendingLocation = toLocation;\n      const from = currentRoute.value;\n      if (isBrowser) {\n        saveScrollPosition(getScrollKey(from.fullPath, info.delta), computeScrollPosition());\n      }\n      navigate(toLocation, from).catch((error) => {\n        if (isNavigationFailure(\n          error,\n          4 | 8\n          /* ErrorTypes.NAVIGATION_CANCELLED */\n        )) {\n          return error;\n        }\n        if (isNavigationFailure(\n          error,\n          2\n          /* ErrorTypes.NAVIGATION_GUARD_REDIRECT */\n        )) {\n          pushWithRedirect(\n            error.to,\n            toLocation\n            // avoid an uncaught rejection, let push call triggerError\n          ).then((failure) => {\n            if (isNavigationFailure(\n              failure,\n              4 | 16\n              /* ErrorTypes.NAVIGATION_DUPLICATED */\n            ) && !info.delta && info.type === NavigationType.pop) {\n              routerHistory.go(-1, false);\n            }\n          }).catch(noop);\n          return Promise.reject();\n        }\n        if (info.delta) {\n          routerHistory.go(-info.delta, false);\n        }\n        return triggerError(error, toLocation, from);\n      }).then((failure) => {\n        failure = failure || finalizeNavigation(\n          // after navigation, all matched components are resolved\n          toLocation,\n          from,\n          false\n        );\n        if (failure) {\n          if (info.delta && // a new navigation has been triggered, so we do not want to revert, that will change the current history\n          // entry while a different route is displayed\n          !isNavigationFailure(\n            failure,\n            8\n            /* ErrorTypes.NAVIGATION_CANCELLED */\n          )) {\n            routerHistory.go(-info.delta, false);\n          } else if (info.type === NavigationType.pop && isNavigationFailure(\n            failure,\n            4 | 16\n            /* ErrorTypes.NAVIGATION_DUPLICATED */\n          )) {\n            routerHistory.go(-1, false);\n          }\n        }\n        triggerAfterEach(toLocation, from, failure);\n      }).catch(noop);\n    });\n  }\n  let readyHandlers = useCallbacks();\n  let errorListeners = useCallbacks();\n  let ready;\n  function triggerError(error, to, from) {\n    markAsReady(error);\n    const list = errorListeners.list();\n    if (list.length) {\n      list.forEach((handler) => handler(error, to, from));\n    } else {\n      if (process.env.NODE_ENV !== \"production\") {\n        warn(\"uncaught error during route navigation:\");\n      }\n      console.error(error);\n    }\n    return Promise.reject(error);\n  }\n  function isReady() {\n    if (ready && currentRoute.value !== START_LOCATION_NORMALIZED)\n      return Promise.resolve();\n    return new Promise((resolve2, reject) => {\n      readyHandlers.add([resolve2, reject]);\n    });\n  }\n  function markAsReady(err) {\n    if (!ready) {\n      ready = !err;\n      setupListeners();\n      readyHandlers.list().forEach(([resolve2, reject]) => err ? reject(err) : resolve2());\n      readyHandlers.reset();\n    }\n    return err;\n  }\n  function handleScroll(to, from, isPush, isFirstNavigation) {\n    const { scrollBehavior } = options;\n    if (!isBrowser || !scrollBehavior)\n      return Promise.resolve();\n    const scrollPosition = !isPush && getSavedScrollPosition(getScrollKey(to.fullPath, 0)) || (isFirstNavigation || !isPush) && history.state && history.state.scroll || null;\n    return nextTick().then(() => scrollBehavior(to, from, scrollPosition)).then((position) => position && scrollToPosition(position)).catch((err) => triggerError(err, to, from));\n  }\n  const go = (delta) => routerHistory.go(delta);\n  let started;\n  const installedApps = /* @__PURE__ */ new Set();\n  const router2 = {\n    currentRoute,\n    listening: true,\n    addRoute,\n    removeRoute,\n    hasRoute,\n    getRoutes,\n    resolve,\n    options,\n    push,\n    replace,\n    go,\n    back: () => go(-1),\n    forward: () => go(1),\n    beforeEach: beforeGuards.add,\n    beforeResolve: beforeResolveGuards.add,\n    afterEach: afterGuards.add,\n    onError: errorListeners.add,\n    isReady,\n    install(app) {\n      const router3 = this;\n      app.component(\"RouterLink\", RouterLink);\n      app.component(\"RouterView\", RouterView);\n      app.config.globalProperties.$router = router3;\n      Object.defineProperty(app.config.globalProperties, \"$route\", {\n        enumerable: true,\n        get: () => unref(currentRoute)\n      });\n      if (isBrowser && // used for the initial navigation client side to avoid pushing\n      // multiple times when the router is used in multiple apps\n      !started && currentRoute.value === START_LOCATION_NORMALIZED) {\n        started = true;\n        push(routerHistory.location).catch((err) => {\n          if (process.env.NODE_ENV !== \"production\")\n            warn(\"Unexpected error when starting the router:\", err);\n        });\n      }\n      const reactiveRoute = {};\n      for (const key in START_LOCATION_NORMALIZED) {\n        Object.defineProperty(reactiveRoute, key, {\n          get: () => currentRoute.value[key],\n          enumerable: true\n        });\n      }\n      app.provide(routerKey, router3);\n      app.provide(routeLocationKey, shallowReactive(reactiveRoute));\n      app.provide(routerViewLocationKey, currentRoute);\n      const unmountApp = app.unmount;\n      installedApps.add(app);\n      app.unmount = function() {\n        installedApps.delete(app);\n        if (installedApps.size < 1) {\n          pendingLocation = START_LOCATION_NORMALIZED;\n          removeHistoryListener && removeHistoryListener();\n          removeHistoryListener = null;\n          currentRoute.value = START_LOCATION_NORMALIZED;\n          started = false;\n          ready = false;\n        }\n        unmountApp();\n      };\n      if ((process.env.NODE_ENV !== \"production\" || false) && isBrowser) {\n        addDevtools(app, router3, matcher);\n      }\n    }\n  };\n  function runGuardQueue(guards) {\n    return guards.reduce((promise, guard) => promise.then(() => runWithContext(guard)), Promise.resolve());\n  }\n  return router2;\n}\nfunction extractChangingRecords(to, from) {\n  const leavingRecords = [];\n  const updatingRecords = [];\n  const enteringRecords = [];\n  const len = Math.max(from.matched.length, to.matched.length);\n  for (let i = 0; i < len; i++) {\n    const recordFrom = from.matched[i];\n    if (recordFrom) {\n      if (to.matched.find((record) => isSameRouteRecord(record, recordFrom)))\n        updatingRecords.push(recordFrom);\n      else\n        leavingRecords.push(recordFrom);\n    }\n    const recordTo = to.matched[i];\n    if (recordTo) {\n      if (!from.matched.find((record) => isSameRouteRecord(record, recordTo))) {\n        enteringRecords.push(recordTo);\n      }\n    }\n  }\n  return [leavingRecords, updatingRecords, enteringRecords];\n}\nconst router = createRouter({\n  history: createWebHistory(),\n  routes: []\n});\nfunction isPromise(obj) {\n  return obj && typeof obj.then === \"function\";\n}\nPromise.resolve(false);\nPromise.resolve(true);\nvar PROMISE_RESOLVED_VOID = Promise.resolve();\nfunction sleep(time, resolveWith) {\n  if (!time)\n    time = 0;\n  return new Promise(function(res) {\n    return setTimeout(function() {\n      return res(resolveWith);\n    }, time);\n  });\n}\nfunction randomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\nfunction randomToken() {\n  return Math.random().toString(36).substring(2);\n}\nvar lastMs = 0;\nvar additional = 0;\nfunction microSeconds$4() {\n  var ms = (/* @__PURE__ */ new Date()).getTime();\n  if (ms === lastMs) {\n    additional++;\n    return ms * 1e3 + additional;\n  } else {\n    lastMs = ms;\n    additional = 0;\n    return ms * 1e3;\n  }\n}\nvar microSeconds$3 = microSeconds$4;\nvar type$3 = \"native\";\nfunction create$3(channelName) {\n  var state = {\n    messagesCallback: null,\n    bc: new BroadcastChannel(channelName),\n    subFns: []\n    // subscriberFunctions\n  };\n  state.bc.onmessage = function(msg) {\n    if (state.messagesCallback) {\n      state.messagesCallback(msg.data);\n    }\n  };\n  return state;\n}\nfunction close$3(channelState) {\n  channelState.bc.close();\n  channelState.subFns = [];\n}\nfunction postMessage$3(channelState, messageJson) {\n  try {\n    channelState.bc.postMessage(messageJson, false);\n    return PROMISE_RESOLVED_VOID;\n  } catch (err) {\n    return Promise.reject(err);\n  }\n}\nfunction onMessage$3(channelState, fn) {\n  channelState.messagesCallback = fn;\n}\nfunction canBeUsed$3() {\n  if (typeof window === \"undefined\") {\n    return false;\n  }\n  if (typeof BroadcastChannel === \"function\") {\n    if (BroadcastChannel._pubkey) {\n      throw new Error(\"BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill\");\n    }\n    return true;\n  } else {\n    return false;\n  }\n}\nfunction averageResponseTime$3() {\n  return 150;\n}\nvar NativeMethod = {\n  create: create$3,\n  close: close$3,\n  onMessage: onMessage$3,\n  postMessage: postMessage$3,\n  canBeUsed: canBeUsed$3,\n  type: type$3,\n  averageResponseTime: averageResponseTime$3,\n  microSeconds: microSeconds$3\n};\nvar ObliviousSet = (\n  /** @class */\n  function() {\n    function ObliviousSet2(ttl) {\n      this.ttl = ttl;\n      this.map = /* @__PURE__ */ new Map();\n      this._to = false;\n    }\n    ObliviousSet2.prototype.has = function(value) {\n      return this.map.has(value);\n    };\n    ObliviousSet2.prototype.add = function(value) {\n      var _this = this;\n      this.map.set(value, now());\n      if (!this._to) {\n        this._to = true;\n        setTimeout(function() {\n          _this._to = false;\n          removeTooOldValues(_this);\n        }, 0);\n      }\n    };\n    ObliviousSet2.prototype.clear = function() {\n      this.map.clear();\n    };\n    return ObliviousSet2;\n  }()\n);\nfunction removeTooOldValues(obliviousSet) {\n  var olderThen = now() - obliviousSet.ttl;\n  var iterator = obliviousSet.map[Symbol.iterator]();\n  while (true) {\n    var next = iterator.next().value;\n    if (!next) {\n      return;\n    }\n    var value = next[0];\n    var time = next[1];\n    if (time < olderThen) {\n      obliviousSet.map.delete(value);\n    } else {\n      return;\n    }\n  }\n}\nfunction now() {\n  return (/* @__PURE__ */ new Date()).getTime();\n}\nfunction fillOptionsWithDefaults() {\n  var originalOptions = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n  var options = JSON.parse(JSON.stringify(originalOptions));\n  if (typeof options.webWorkerSupport === \"undefined\")\n    options.webWorkerSupport = true;\n  if (!options.idb)\n    options.idb = {};\n  if (!options.idb.ttl)\n    options.idb.ttl = 1e3 * 45;\n  if (!options.idb.fallbackInterval)\n    options.idb.fallbackInterval = 150;\n  if (originalOptions.idb && typeof originalOptions.idb.onclose === \"function\")\n    options.idb.onclose = originalOptions.idb.onclose;\n  if (!options.localstorage)\n    options.localstorage = {};\n  if (!options.localstorage.removeTimeout)\n    options.localstorage.removeTimeout = 1e3 * 60;\n  if (originalOptions.methods)\n    options.methods = originalOptions.methods;\n  if (!options.node)\n    options.node = {};\n  if (!options.node.ttl)\n    options.node.ttl = 1e3 * 60 * 2;\n  if (!options.node.maxParallelWrites)\n    options.node.maxParallelWrites = 2048;\n  if (typeof options.node.useFastPath === \"undefined\")\n    options.node.useFastPath = true;\n  return options;\n}\nvar microSeconds$2 = microSeconds$4;\nvar DB_PREFIX = \"pubkey.broadcast-channel-0-\";\nvar OBJECT_STORE_ID = \"messages\";\nvar TRANSACTION_SETTINGS = {\n  durability: \"relaxed\"\n};\nvar type$2 = \"idb\";\nfunction getIdb() {\n  if (typeof indexedDB !== \"undefined\")\n    return indexedDB;\n  if (typeof window !== \"undefined\") {\n    if (typeof window.mozIndexedDB !== \"undefined\")\n      return window.mozIndexedDB;\n    if (typeof window.webkitIndexedDB !== \"undefined\")\n      return window.webkitIndexedDB;\n    if (typeof window.msIndexedDB !== \"undefined\")\n      return window.msIndexedDB;\n  }\n  return false;\n}\nfunction commitIndexedDBTransaction(tx) {\n  if (tx.commit) {\n    tx.commit();\n  }\n}\nfunction createDatabase(channelName) {\n  var IndexedDB = getIdb();\n  var dbName = DB_PREFIX + channelName;\n  var openRequest = IndexedDB.open(dbName);\n  openRequest.onupgradeneeded = function(ev) {\n    var db = ev.target.result;\n    db.createObjectStore(OBJECT_STORE_ID, {\n      keyPath: \"id\",\n      autoIncrement: true\n    });\n  };\n  return new Promise(function(res, rej) {\n    openRequest.onerror = function(ev) {\n      return rej(ev);\n    };\n    openRequest.onsuccess = function() {\n      res(openRequest.result);\n    };\n  });\n}\nfunction writeMessage(db, readerUuid, messageJson) {\n  var time = (/* @__PURE__ */ new Date()).getTime();\n  var writeObject = {\n    uuid: readerUuid,\n    time,\n    data: messageJson\n  };\n  var tx = db.transaction([OBJECT_STORE_ID], \"readwrite\", TRANSACTION_SETTINGS);\n  return new Promise(function(res, rej) {\n    tx.oncomplete = function() {\n      return res();\n    };\n    tx.onerror = function(ev) {\n      return rej(ev);\n    };\n    var objectStore = tx.objectStore(OBJECT_STORE_ID);\n    objectStore.add(writeObject);\n    commitIndexedDBTransaction(tx);\n  });\n}\nfunction getMessagesHigherThan(db, lastCursorId) {\n  var tx = db.transaction(OBJECT_STORE_ID, \"readonly\", TRANSACTION_SETTINGS);\n  var objectStore = tx.objectStore(OBJECT_STORE_ID);\n  var ret = [];\n  var keyRangeValue = IDBKeyRange.bound(lastCursorId + 1, Infinity);\n  if (objectStore.getAll) {\n    var getAllRequest = objectStore.getAll(keyRangeValue);\n    return new Promise(function(res, rej) {\n      getAllRequest.onerror = function(err) {\n        return rej(err);\n      };\n      getAllRequest.onsuccess = function(e) {\n        res(e.target.result);\n      };\n    });\n  }\n  function openCursor() {\n    try {\n      keyRangeValue = IDBKeyRange.bound(lastCursorId + 1, Infinity);\n      return objectStore.openCursor(keyRangeValue);\n    } catch (e) {\n      return objectStore.openCursor();\n    }\n  }\n  return new Promise(function(res, rej) {\n    var openCursorRequest = openCursor();\n    openCursorRequest.onerror = function(err) {\n      return rej(err);\n    };\n    openCursorRequest.onsuccess = function(ev) {\n      var cursor = ev.target.result;\n      if (cursor) {\n        if (cursor.value.id < lastCursorId + 1) {\n          cursor[\"continue\"](lastCursorId + 1);\n        } else {\n          ret.push(cursor.value);\n          cursor[\"continue\"]();\n        }\n      } else {\n        commitIndexedDBTransaction(tx);\n        res(ret);\n      }\n    };\n  });\n}\nfunction removeMessagesById(channelState, ids) {\n  if (channelState.closed) {\n    return Promise.resolve([]);\n  }\n  var tx = channelState.db.transaction(OBJECT_STORE_ID, \"readwrite\", TRANSACTION_SETTINGS);\n  var objectStore = tx.objectStore(OBJECT_STORE_ID);\n  return Promise.all(ids.map(function(id) {\n    var deleteRequest = objectStore[\"delete\"](id);\n    return new Promise(function(res) {\n      deleteRequest.onsuccess = function() {\n        return res();\n      };\n    });\n  }));\n}\nfunction getOldMessages(db, ttl) {\n  var olderThen = (/* @__PURE__ */ new Date()).getTime() - ttl;\n  var tx = db.transaction(OBJECT_STORE_ID, \"readonly\", TRANSACTION_SETTINGS);\n  var objectStore = tx.objectStore(OBJECT_STORE_ID);\n  var ret = [];\n  return new Promise(function(res) {\n    objectStore.openCursor().onsuccess = function(ev) {\n      var cursor = ev.target.result;\n      if (cursor) {\n        var msgObk = cursor.value;\n        if (msgObk.time < olderThen) {\n          ret.push(msgObk);\n          cursor[\"continue\"]();\n        } else {\n          commitIndexedDBTransaction(tx);\n          res(ret);\n        }\n      } else {\n        res(ret);\n      }\n    };\n  });\n}\nfunction cleanOldMessages(channelState) {\n  return getOldMessages(channelState.db, channelState.options.idb.ttl).then(function(tooOld) {\n    return removeMessagesById(channelState, tooOld.map(function(msg) {\n      return msg.id;\n    }));\n  });\n}\nfunction create$2(channelName, options) {\n  options = fillOptionsWithDefaults(options);\n  return createDatabase(channelName).then(function(db) {\n    var state = {\n      closed: false,\n      lastCursorId: 0,\n      channelName,\n      options,\n      uuid: randomToken(),\n      /**\n       * emittedMessagesIds\n       * contains all messages that have been emitted before\n       * @type {ObliviousSet}\n       */\n      eMIs: new ObliviousSet(options.idb.ttl * 2),\n      // ensures we do not read messages in parallel\n      writeBlockPromise: PROMISE_RESOLVED_VOID,\n      messagesCallback: null,\n      readQueuePromises: [],\n      db\n    };\n    db.onclose = function() {\n      state.closed = true;\n      if (options.idb.onclose)\n        options.idb.onclose();\n    };\n    _readLoop(state);\n    return state;\n  });\n}\nfunction _readLoop(state) {\n  if (state.closed)\n    return;\n  readNewMessages(state).then(function() {\n    return sleep(state.options.idb.fallbackInterval);\n  }).then(function() {\n    return _readLoop(state);\n  });\n}\nfunction _filterMessage(msgObj, state) {\n  if (msgObj.uuid === state.uuid)\n    return false;\n  if (state.eMIs.has(msgObj.id))\n    return false;\n  if (msgObj.data.time < state.messagesCallbackTime)\n    return false;\n  return true;\n}\nfunction readNewMessages(state) {\n  if (state.closed)\n    return PROMISE_RESOLVED_VOID;\n  if (!state.messagesCallback)\n    return PROMISE_RESOLVED_VOID;\n  return getMessagesHigherThan(state.db, state.lastCursorId).then(function(newerMessages) {\n    var useMessages = newerMessages.filter(function(msgObj) {\n      return !!msgObj;\n    }).map(function(msgObj) {\n      if (msgObj.id > state.lastCursorId) {\n        state.lastCursorId = msgObj.id;\n      }\n      return msgObj;\n    }).filter(function(msgObj) {\n      return _filterMessage(msgObj, state);\n    }).sort(function(msgObjA, msgObjB) {\n      return msgObjA.time - msgObjB.time;\n    });\n    useMessages.forEach(function(msgObj) {\n      if (state.messagesCallback) {\n        state.eMIs.add(msgObj.id);\n        state.messagesCallback(msgObj.data);\n      }\n    });\n    return PROMISE_RESOLVED_VOID;\n  });\n}\nfunction close$2(channelState) {\n  channelState.closed = true;\n  channelState.db.close();\n}\nfunction postMessage$2(channelState, messageJson) {\n  channelState.writeBlockPromise = channelState.writeBlockPromise.then(function() {\n    return writeMessage(channelState.db, channelState.uuid, messageJson);\n  }).then(function() {\n    if (randomInt(0, 10) === 0) {\n      cleanOldMessages(channelState);\n    }\n  });\n  return channelState.writeBlockPromise;\n}\nfunction onMessage$2(channelState, fn, time) {\n  channelState.messagesCallbackTime = time;\n  channelState.messagesCallback = fn;\n  readNewMessages(channelState);\n}\nfunction canBeUsed$2() {\n  return !!getIdb();\n}\nfunction averageResponseTime$2(options) {\n  return options.idb.fallbackInterval * 2;\n}\nvar IndexedDBMethod = {\n  create: create$2,\n  close: close$2,\n  onMessage: onMessage$2,\n  postMessage: postMessage$2,\n  canBeUsed: canBeUsed$2,\n  type: type$2,\n  averageResponseTime: averageResponseTime$2,\n  microSeconds: microSeconds$2\n};\nvar microSeconds$1 = microSeconds$4;\nvar KEY_PREFIX = \"pubkey.broadcastChannel-\";\nvar type$1 = \"localstorage\";\nfunction getLocalStorage() {\n  var localStorage2;\n  if (typeof window === \"undefined\")\n    return null;\n  try {\n    localStorage2 = window.localStorage;\n    localStorage2 = window[\"ie8-eventlistener/storage\"] || window.localStorage;\n  } catch (e) {\n  }\n  return localStorage2;\n}\nfunction storageKey(channelName) {\n  return KEY_PREFIX + channelName;\n}\nfunction postMessage$1(channelState, messageJson) {\n  return new Promise(function(res) {\n    sleep().then(function() {\n      var key = storageKey(channelState.channelName);\n      var writeObj = {\n        token: randomToken(),\n        time: (/* @__PURE__ */ new Date()).getTime(),\n        data: messageJson,\n        uuid: channelState.uuid\n      };\n      var value = JSON.stringify(writeObj);\n      getLocalStorage().setItem(key, value);\n      var ev = document.createEvent(\"Event\");\n      ev.initEvent(\"storage\", true, true);\n      ev.key = key;\n      ev.newValue = value;\n      window.dispatchEvent(ev);\n      res();\n    });\n  });\n}\nfunction addStorageEventListener(channelName, fn) {\n  var key = storageKey(channelName);\n  var listener = function listener2(ev) {\n    if (ev.key === key) {\n      fn(JSON.parse(ev.newValue));\n    }\n  };\n  window.addEventListener(\"storage\", listener);\n  return listener;\n}\nfunction removeStorageEventListener(listener) {\n  window.removeEventListener(\"storage\", listener);\n}\nfunction create$1(channelName, options) {\n  options = fillOptionsWithDefaults(options);\n  if (!canBeUsed$1()) {\n    throw new Error(\"BroadcastChannel: localstorage cannot be used\");\n  }\n  var uuid = randomToken();\n  var eMIs = new ObliviousSet(options.localstorage.removeTimeout);\n  var state = {\n    channelName,\n    uuid,\n    eMIs\n    // emittedMessagesIds\n  };\n  state.listener = addStorageEventListener(channelName, function(msgObj) {\n    if (!state.messagesCallback)\n      return;\n    if (msgObj.uuid === uuid)\n      return;\n    if (!msgObj.token || eMIs.has(msgObj.token))\n      return;\n    if (msgObj.data.time && msgObj.data.time < state.messagesCallbackTime)\n      return;\n    eMIs.add(msgObj.token);\n    state.messagesCallback(msgObj.data);\n  });\n  return state;\n}\nfunction close$1(channelState) {\n  removeStorageEventListener(channelState.listener);\n}\nfunction onMessage$1(channelState, fn, time) {\n  channelState.messagesCallbackTime = time;\n  channelState.messagesCallback = fn;\n}\nfunction canBeUsed$1() {\n  var ls = getLocalStorage();\n  if (!ls)\n    return false;\n  try {\n    var key = \"__broadcastchannel_check\";\n    ls.setItem(key, \"works\");\n    ls.removeItem(key);\n  } catch (e) {\n    return false;\n  }\n  return true;\n}\nfunction averageResponseTime$1() {\n  var defaultTime = 120;\n  var userAgent = navigator.userAgent.toLowerCase();\n  if (userAgent.includes(\"safari\") && !userAgent.includes(\"chrome\")) {\n    return defaultTime * 2;\n  }\n  return defaultTime;\n}\nvar LocalstorageMethod = {\n  create: create$1,\n  close: close$1,\n  onMessage: onMessage$1,\n  postMessage: postMessage$1,\n  canBeUsed: canBeUsed$1,\n  type: type$1,\n  averageResponseTime: averageResponseTime$1,\n  microSeconds: microSeconds$1\n};\nvar microSeconds = microSeconds$4;\nvar type = \"simulate\";\nvar SIMULATE_CHANNELS = /* @__PURE__ */ new Set();\nfunction create(channelName) {\n  var state = {\n    name: channelName,\n    messagesCallback: null\n  };\n  SIMULATE_CHANNELS.add(state);\n  return state;\n}\nfunction close(channelState) {\n  SIMULATE_CHANNELS[\"delete\"](channelState);\n}\nfunction postMessage(channelState, messageJson) {\n  return new Promise(function(res) {\n    return setTimeout(function() {\n      var channelArray = Array.from(SIMULATE_CHANNELS);\n      channelArray.filter(function(channel) {\n        return channel.name === channelState.name;\n      }).filter(function(channel) {\n        return channel !== channelState;\n      }).filter(function(channel) {\n        return !!channel.messagesCallback;\n      }).forEach(function(channel) {\n        return channel.messagesCallback(messageJson);\n      });\n      res();\n    }, 5);\n  });\n}\nfunction onMessage(channelState, fn) {\n  channelState.messagesCallback = fn;\n}\nfunction canBeUsed() {\n  return true;\n}\nfunction averageResponseTime() {\n  return 5;\n}\nvar SimulateMethod = {\n  create,\n  close,\n  onMessage,\n  postMessage,\n  canBeUsed,\n  type,\n  averageResponseTime,\n  microSeconds\n};\nvar METHODS = [\n  NativeMethod,\n  // fastest\n  IndexedDBMethod,\n  LocalstorageMethod\n];\nfunction chooseMethod(options) {\n  var chooseMethods = [].concat(options.methods, METHODS).filter(Boolean);\n  if (options.type) {\n    if (options.type === \"simulate\") {\n      return SimulateMethod;\n    }\n    var ret = chooseMethods.find(function(m2) {\n      return m2.type === options.type;\n    });\n    if (!ret)\n      throw new Error(\"method-type \" + options.type + \" not found\");\n    else\n      return ret;\n  }\n  if (!options.webWorkerSupport) {\n    chooseMethods = chooseMethods.filter(function(m2) {\n      return m2.type !== \"idb\";\n    });\n  }\n  var useMethod = chooseMethods.find(function(method) {\n    return method.canBeUsed();\n  });\n  if (!useMethod)\n    throw new Error(\"No usable method found in \" + JSON.stringify(METHODS.map(function(m2) {\n      return m2.type;\n    })));\n  else\n    return useMethod;\n}\nvar OPEN_BROADCAST_CHANNELS = /* @__PURE__ */ new Set();\nvar lastId = 0;\nvar BroadcastChannel$1 = function BroadcastChannel2(name, options) {\n  this.id = lastId++;\n  OPEN_BROADCAST_CHANNELS.add(this);\n  this.name = name;\n  if (ENFORCED_OPTIONS) {\n    options = ENFORCED_OPTIONS;\n  }\n  this.options = fillOptionsWithDefaults(options);\n  this.method = chooseMethod(this.options);\n  this._iL = false;\n  this._onML = null;\n  this._addEL = {\n    message: [],\n    internal: []\n  };\n  this._uMP = /* @__PURE__ */ new Set();\n  this._befC = [];\n  this._prepP = null;\n  _prepareChannel(this);\n};\nBroadcastChannel$1._pubkey = true;\nvar ENFORCED_OPTIONS;\nBroadcastChannel$1.prototype = {\n  postMessage: function postMessage2(msg) {\n    if (this.closed) {\n      throw new Error(\"BroadcastChannel.postMessage(): Cannot post message after channel has closed \" + /**\n       * In the past when this error appeared, it was really hard to debug.\n       * So now we log the msg together with the error so it at least\n       * gives some clue about where in your application this happens.\n       */\n      JSON.stringify(msg));\n    }\n    return _post(this, \"message\", msg);\n  },\n  postInternal: function postInternal(msg) {\n    return _post(this, \"internal\", msg);\n  },\n  set onmessage(fn) {\n    var time = this.method.microSeconds();\n    var listenObj = {\n      time,\n      fn\n    };\n    _removeListenerObject(this, \"message\", this._onML);\n    if (fn && typeof fn === \"function\") {\n      this._onML = listenObj;\n      _addListenerObject(this, \"message\", listenObj);\n    } else {\n      this._onML = null;\n    }\n  },\n  addEventListener: function addEventListener(type2, fn) {\n    var time = this.method.microSeconds();\n    var listenObj = {\n      time,\n      fn\n    };\n    _addListenerObject(this, type2, listenObj);\n  },\n  removeEventListener: function removeEventListener(type2, fn) {\n    var obj = this._addEL[type2].find(function(obj2) {\n      return obj2.fn === fn;\n    });\n    _removeListenerObject(this, type2, obj);\n  },\n  close: function close2() {\n    var _this = this;\n    if (this.closed) {\n      return;\n    }\n    OPEN_BROADCAST_CHANNELS[\"delete\"](this);\n    this.closed = true;\n    var awaitPrepare = this._prepP ? this._prepP : PROMISE_RESOLVED_VOID;\n    this._onML = null;\n    this._addEL.message = [];\n    return awaitPrepare.then(function() {\n      return Promise.all(Array.from(_this._uMP));\n    }).then(function() {\n      return Promise.all(_this._befC.map(function(fn) {\n        return fn();\n      }));\n    }).then(function() {\n      return _this.method.close(_this._state);\n    });\n  },\n  get type() {\n    return this.method.type;\n  },\n  get isClosed() {\n    return this.closed;\n  }\n};\nfunction _post(broadcastChannel, type2, msg) {\n  var time = broadcastChannel.method.microSeconds();\n  var msgObj = {\n    time,\n    type: type2,\n    data: msg\n  };\n  var awaitPrepare = broadcastChannel._prepP ? broadcastChannel._prepP : PROMISE_RESOLVED_VOID;\n  return awaitPrepare.then(function() {\n    var sendPromise = broadcastChannel.method.postMessage(broadcastChannel._state, msgObj);\n    broadcastChannel._uMP.add(sendPromise);\n    sendPromise[\"catch\"]().then(function() {\n      return broadcastChannel._uMP[\"delete\"](sendPromise);\n    });\n    return sendPromise;\n  });\n}\nfunction _prepareChannel(channel) {\n  var maybePromise = channel.method.create(channel.name, channel.options);\n  if (isPromise(maybePromise)) {\n    channel._prepP = maybePromise;\n    maybePromise.then(function(s) {\n      channel._state = s;\n    });\n  } else {\n    channel._state = maybePromise;\n  }\n}\nfunction _hasMessageListeners(channel) {\n  if (channel._addEL.message.length > 0)\n    return true;\n  if (channel._addEL.internal.length > 0)\n    return true;\n  return false;\n}\nfunction _addListenerObject(channel, type2, obj) {\n  channel._addEL[type2].push(obj);\n  _startListening(channel);\n}\nfunction _removeListenerObject(channel, type2, obj) {\n  channel._addEL[type2] = channel._addEL[type2].filter(function(o) {\n    return o !== obj;\n  });\n  _stopListening(channel);\n}\nfunction _startListening(channel) {\n  if (!channel._iL && _hasMessageListeners(channel)) {\n    var listenerFn = function listenerFn2(msgObj) {\n      channel._addEL[msgObj.type].forEach(function(listenerObject) {\n        var hundredMsInMicro = 100 * 1e3;\n        var minMessageTime = listenerObject.time - hundredMsInMicro;\n        if (msgObj.time >= minMessageTime) {\n          listenerObject.fn(msgObj.data);\n        }\n      });\n    };\n    var time = channel.method.microSeconds();\n    if (channel._prepP) {\n      channel._prepP.then(function() {\n        channel._iL = true;\n        channel.method.onMessage(channel._state, listenerFn, time);\n      });\n    } else {\n      channel._iL = true;\n      channel.method.onMessage(channel._state, listenerFn, time);\n    }\n  }\n}\nfunction _stopListening(channel) {\n  if (channel._iL && !_hasMessageListeners(channel)) {\n    channel._iL = false;\n    var time = channel.method.microSeconds();\n    channel.method.onMessage(channel._state, null, time);\n  }\n}\nclass DevalueError extends Error {\n  /**\n   * @param {string} message\n   * @param {string[]} keys\n   */\n  constructor(message, keys) {\n    super(message);\n    this.name = \"DevalueError\";\n    this.path = keys.join(\"\");\n  }\n}\nfunction is_primitive(thing) {\n  return Object(thing) !== thing;\n}\nconst object_proto_names = /* @__PURE__ */ Object.getOwnPropertyNames(\n  Object.prototype\n).sort().join(\"\\0\");\nfunction is_plain_object(thing) {\n  const proto = Object.getPrototypeOf(thing);\n  return proto === Object.prototype || proto === null || Object.getOwnPropertyNames(proto).sort().join(\"\\0\") === object_proto_names;\n}\nfunction get_type(thing) {\n  return Object.prototype.toString.call(thing).slice(8, -1);\n}\nfunction get_escaped_char(char) {\n  switch (char) {\n    case '\"':\n      return '\\\\\"';\n    case \"<\":\n      return \"\\\\u003C\";\n    case \"\\\\\":\n      return \"\\\\\\\\\";\n    case \"\\n\":\n      return \"\\\\n\";\n    case \"\\r\":\n      return \"\\\\r\";\n    case \"\t\":\n      return \"\\\\t\";\n    case \"\\b\":\n      return \"\\\\b\";\n    case \"\\f\":\n      return \"\\\\f\";\n    case \"\\u2028\":\n      return \"\\\\u2028\";\n    case \"\\u2029\":\n      return \"\\\\u2029\";\n    default:\n      return char < \" \" ? `\\\\u${char.charCodeAt(0).toString(16).padStart(4, \"0\")}` : \"\";\n  }\n}\nfunction stringify_string(str) {\n  let result = \"\";\n  let last_pos = 0;\n  const len = str.length;\n  for (let i = 0; i < len; i += 1) {\n    const char = str[i];\n    const replacement = get_escaped_char(char);\n    if (replacement) {\n      result += str.slice(last_pos, i) + replacement;\n      last_pos = i + 1;\n    }\n  }\n  return `\"${last_pos === 0 ? str : result + str.slice(last_pos)}\"`;\n}\nconst UNDEFINED = -1;\nconst HOLE = -2;\nconst NAN = -3;\nconst POSITIVE_INFINITY = -4;\nconst NEGATIVE_INFINITY = -5;\nconst NEGATIVE_ZERO = -6;\nfunction parse(serialized, revivers) {\n  return unflatten(JSON.parse(serialized), revivers);\n}\nfunction unflatten(parsed, revivers) {\n  if (typeof parsed === \"number\")\n    return hydrate(parsed, true);\n  if (!Array.isArray(parsed) || parsed.length === 0) {\n    throw new Error(\"Invalid input\");\n  }\n  const values = (\n    /** @type {any[]} */\n    parsed\n  );\n  const hydrated = Array(values.length);\n  function hydrate(index2, standalone = false) {\n    if (index2 === UNDEFINED)\n      return void 0;\n    if (index2 === NAN)\n      return NaN;\n    if (index2 === POSITIVE_INFINITY)\n      return Infinity;\n    if (index2 === NEGATIVE_INFINITY)\n      return -Infinity;\n    if (index2 === NEGATIVE_ZERO)\n      return -0;\n    if (standalone)\n      throw new Error(`Invalid input`);\n    if (index2 in hydrated)\n      return hydrated[index2];\n    const value = values[index2];\n    if (!value || typeof value !== \"object\") {\n      hydrated[index2] = value;\n    } else if (Array.isArray(value)) {\n      if (typeof value[0] === \"string\") {\n        const type2 = value[0];\n        const reviver = revivers == null ? void 0 : revivers[type2];\n        if (reviver) {\n          return hydrated[index2] = reviver(hydrate(value[1]));\n        }\n        switch (type2) {\n          case \"Date\":\n            hydrated[index2] = new Date(value[1]);\n            break;\n          case \"Set\":\n            const set2 = /* @__PURE__ */ new Set();\n            hydrated[index2] = set2;\n            for (let i = 1; i < value.length; i += 1) {\n              set2.add(hydrate(value[i]));\n            }\n            break;\n          case \"Map\":\n            const map = /* @__PURE__ */ new Map();\n            hydrated[index2] = map;\n            for (let i = 1; i < value.length; i += 2) {\n              map.set(hydrate(value[i]), hydrate(value[i + 1]));\n            }\n            break;\n          case \"RegExp\":\n            hydrated[index2] = new RegExp(value[1], value[2]);\n            break;\n          case \"Object\":\n            hydrated[index2] = Object(value[1]);\n            break;\n          case \"BigInt\":\n            hydrated[index2] = BigInt(value[1]);\n            break;\n          case \"null\":\n            const obj = /* @__PURE__ */ Object.create(null);\n            hydrated[index2] = obj;\n            for (let i = 1; i < value.length; i += 2) {\n              obj[value[i]] = hydrate(value[i + 1]);\n            }\n            break;\n          default:\n            throw new Error(`Unknown type ${type2}`);\n        }\n      } else {\n        const array = new Array(value.length);\n        hydrated[index2] = array;\n        for (let i = 0; i < value.length; i += 1) {\n          const n = value[i];\n          if (n === HOLE)\n            continue;\n          array[i] = hydrate(n);\n        }\n      }\n    } else {\n      const object = {};\n      hydrated[index2] = object;\n      for (const key in value) {\n        const n = value[key];\n        object[key] = hydrate(n);\n      }\n    }\n    return hydrated[index2];\n  }\n  return hydrate(0);\n}\nfunction stringify(value, reducers) {\n  const stringified = [];\n  const indexes = /* @__PURE__ */ new Map();\n  const custom = [];\n  for (const key in reducers) {\n    custom.push({ key, fn: reducers[key] });\n  }\n  const keys = [];\n  let p = 0;\n  function flatten(thing) {\n    if (typeof thing === \"function\") {\n      throw new DevalueError(`Cannot stringify a function`, keys);\n    }\n    if (indexes.has(thing))\n      return indexes.get(thing);\n    if (thing === void 0)\n      return UNDEFINED;\n    if (Number.isNaN(thing))\n      return NAN;\n    if (thing === Infinity)\n      return POSITIVE_INFINITY;\n    if (thing === -Infinity)\n      return NEGATIVE_INFINITY;\n    if (thing === 0 && 1 / thing < 0)\n      return NEGATIVE_ZERO;\n    const index3 = p++;\n    indexes.set(thing, index3);\n    for (const { key, fn } of custom) {\n      const value2 = fn(thing);\n      if (value2) {\n        stringified[index3] = `[\"${key}\",${flatten(value2)}]`;\n        return index3;\n      }\n    }\n    let str = \"\";\n    if (is_primitive(thing)) {\n      str = stringify_primitive(thing);\n    } else {\n      const type2 = get_type(thing);\n      switch (type2) {\n        case \"Number\":\n        case \"String\":\n        case \"Boolean\":\n          str = `[\"Object\",${stringify_primitive(thing)}]`;\n          break;\n        case \"BigInt\":\n          str = `[\"BigInt\",${thing}]`;\n          break;\n        case \"Date\":\n          str = `[\"Date\",\"${thing.toISOString()}\"]`;\n          break;\n        case \"RegExp\":\n          const { source, flags } = thing;\n          str = flags ? `[\"RegExp\",${stringify_string(source)},\"${flags}\"]` : `[\"RegExp\",${stringify_string(source)}]`;\n          break;\n        case \"Array\":\n          str = \"[\";\n          for (let i = 0; i < thing.length; i += 1) {\n            if (i > 0)\n              str += \",\";\n            if (i in thing) {\n              keys.push(`[${i}]`);\n              str += flatten(thing[i]);\n              keys.pop();\n            } else {\n              str += HOLE;\n            }\n          }\n          str += \"]\";\n          break;\n        case \"Set\":\n          str = '[\"Set\"';\n          for (const value2 of thing) {\n            str += `,${flatten(value2)}`;\n          }\n          str += \"]\";\n          break;\n        case \"Map\":\n          str = '[\"Map\"';\n          for (const [key, value2] of thing) {\n            keys.push(\n              `.get(${is_primitive(key) ? stringify_primitive(key) : \"...\"})`\n            );\n            str += `,${flatten(key)},${flatten(value2)}`;\n          }\n          str += \"]\";\n          break;\n        default:\n          if (!is_plain_object(thing)) {\n            throw new DevalueError(\n              `Cannot stringify arbitrary non-POJOs`,\n              keys\n            );\n          }\n          if (Object.getOwnPropertySymbols(thing).length > 0) {\n            throw new DevalueError(\n              `Cannot stringify POJOs with symbolic keys`,\n              keys\n            );\n          }\n          if (Object.getPrototypeOf(thing) === null) {\n            str = '[\"null\"';\n            for (const key in thing) {\n              keys.push(`.${key}`);\n              str += `,${stringify_string(key)},${flatten(thing[key])}`;\n              keys.pop();\n            }\n            str += \"]\";\n          } else {\n            str = \"{\";\n            let started = false;\n            for (const key in thing) {\n              if (started)\n                str += \",\";\n              started = true;\n              keys.push(`.${key}`);\n              str += `${stringify_string(key)}:${flatten(thing[key])}`;\n              keys.pop();\n            }\n            str += \"}\";\n          }\n      }\n    }\n    stringified[index3] = str;\n    return index3;\n  }\n  const index2 = flatten(value);\n  if (index2 < 0)\n    return `${index2}`;\n  return `[${stringified.join(\",\")}]`;\n}\nfunction stringify_primitive(thing) {\n  const type2 = typeof thing;\n  if (type2 === \"string\")\n    return stringify_string(thing);\n  if (thing instanceof String)\n    return stringify_string(thing.toString());\n  if (thing === void 0)\n    return UNDEFINED.toString();\n  if (thing === 0 && 1 / thing < 0)\n    return NEGATIVE_ZERO.toString();\n  if (type2 === \"bigint\")\n    return `[\"BigInt\",\"${thing}\"]`;\n  return String(thing);\n}\nfunction m(t, a, { initialize: d, type: r }) {\n  let o = `${a.$id}-${t.toString()}`, n = new BroadcastChannel$1(o, { type: r }), l = false, e = 0;\n  watch(() => a[t], (i) => {\n    l || (e = Date.now(), n.postMessage({ timestamp: e, state: parse(stringify(i)) })), l = false;\n  }, { deep: true }), n.onmessage = (i) => {\n    if (i === void 0) {\n      n.postMessage({ timestamp: e, state: parse(stringify(a[t])) });\n      return;\n    }\n    i.timestamp <= e || (l = true, e = i.timestamp, a[t] = i.state);\n  };\n  let u = () => n.postMessage(void 0), p = () => n.close();\n  return d && u(), { sync: u, unshare: p };\n}\nvar h = (t, a) => Object.keys(a).includes(t), g = ({ initialize: t = true, enable: a = true, type: d }) => ({ store: r, options: o }) => {\n  var _a, _b;\n  let n = ((_a = o == null ? void 0 : o.share) == null ? void 0 : _a.enable) ?? a, l = ((_b = o == null ? void 0 : o.share) == null ? void 0 : _b.omit) ?? [];\n  !n || Object.keys(r.$state).forEach((e) => {\n    var _a2;\n    l.includes(e) || !h(e, r.$state) || m(e, r, { initialize: ((_a2 = o == null ? void 0 : o.share) == null ? void 0 : _a2.initialize) ?? t, type: d });\n  });\n};\nconst pinia = createPinia();\npinia.use(\n  g({\n    enable: true,\n    initialize: true\n  })\n);\nconst index = {\n  install: (app, options) => {\n    const appRouter = (options == null ? void 0 : options.router) || router;\n    const registry = new Registry(appRouter, options == null ? void 0 : options.getMeta);\n    app.use(appRouter);\n    app.use(pinia);\n    app.provide(\"$registry\", registry);\n    if (options == null ? void 0 : options.components) {\n      for (const [tag, component] of Object.entries(options.components)) {\n        app.component(tag, component);\n      }\n    }\n  }\n};\nexport {\n  DoctypeMeta,\n  Registry,\n  index as Stonecrop,\n  useStonecrop\n};\n","<template>\r\n\t<AForm v-if=\"isReady\" class=\"aform-main\" v-model=\"schema\" />\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, watch } from 'vue'\r\nimport { useRoute } from 'vue-router'\r\n\r\nimport { AForm } from '@agritheory/aform'\r\nimport type { SchemaTypes } from '@agritheory/aform/types'\r\nimport { DoctypeMeta, useStonecrop } from '@agritheory/stonecrop'\r\n\r\nconst { stonecrop, isReady } = useStonecrop()\r\nconst schema = ref<SchemaTypes[]>([])\r\n\r\nwatch(isReady, () => {\r\n\tif (isReady.value) {\r\n\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-unsafe-call\r\n\t\tlet newSchema: SchemaTypes[] = stonecrop.value.schema.schema.toArray()\r\n\t\tnewSchema.forEach((item, index) => {\r\n\t\t\tconst record = stonecrop.value.store.record\r\n\t\t\tconst fieldValue = record[item.fieldname]\r\n\t\t\tnewSchema[index].value = fieldValue\r\n\t\t})\r\n\t\tschema.value = newSchema\r\n\t}\r\n})\r\n\r\n// const route = useRoute()\r\n// const doctypeSlug = route.params.records?.toString().toLowerCase()\r\n// const recordId = route.params.record?.toString().toLowerCase()\r\n\r\n// const saveRecord = async () => {\r\n// \tconst doctype: DoctypeMeta = await stonecrop.value.registry.getMeta(doctypeSlug)\r\n// \tstonecrop.value.runAction(doctype, 'save', recordId ? [recordId] : [])\r\n// }\r\n</script>\r\n","import { onMounted as xe, onBeforeUnmount as _e, ref as E, watch as j, unref as r, getCurrentScope as Ie, onScopeDispose as Ee, defineComponent as k, inject as O, computed as S, openBlock as m, createElementBlock as g, createBlock as P, resolveDynamicComponent as ie, mergeProps as V, toDisplayString as $, Fragment as L, createElementVNode as T, renderSlot as y, createCommentVNode as M, useCssVars as de, withDirectives as ce, vShow as ue, reactive as A, renderList as N, normalizeStyle as H, createTextVNode as ke, provide as Ce, nextTick as Ae, createVNode as z, withCtx as G } from \"vue\";\nvar J;\nconst pe = typeof window < \"u\", Te = (t) => typeof t == \"string\", $e = () => {\n};\npe && (J = window == null ? void 0 : window.navigator) != null && J.userAgent && /iP(ad|hone|od)/.test(window.navigator.userAgent);\nfunction fe(t) {\n  return typeof t == \"function\" ? t() : r(t);\n}\nfunction Oe(t) {\n  return t;\n}\nfunction De(t) {\n  return Ie() ? (Ee(t), !0) : !1;\n}\nfunction U(t) {\n  var e;\n  const n = fe(t);\n  return (e = n == null ? void 0 : n.$el) != null ? e : n;\n}\nconst me = pe ? window : void 0;\nfunction Re(...t) {\n  let e, n, o, a;\n  if (Te(t[0]) || Array.isArray(t[0]) ? ([n, o, a] = t, e = me) : [e, n, o, a] = t, !e)\n    return $e;\n  Array.isArray(n) || (n = [n]), Array.isArray(o) || (o = [o]);\n  const l = [], s = () => {\n    l.forEach((f) => f()), l.length = 0;\n  }, i = (f, c, v, h) => (f.addEventListener(c, v, h), () => f.removeEventListener(c, v, h)), d = j(() => [U(e), fe(a)], ([f, c]) => {\n    s(), f && l.push(...n.flatMap((v) => o.map((h) => i(f, v, h, c))));\n  }, { immediate: !0, flush: \"post\" }), p = () => {\n    d(), s();\n  };\n  return De(p), p;\n}\nconst X = typeof globalThis < \"u\" ? globalThis : typeof window < \"u\" ? window : typeof global < \"u\" ? global : typeof self < \"u\" ? self : {}, Y = \"__vueuse_ssr_handlers__\";\nX[Y] = X[Y] || {};\nfunction Se(t, { window: e = me, scrollTarget: n } = {}) {\n  const o = E(!1), a = () => {\n    if (!e)\n      return;\n    const l = e.document, s = U(t);\n    if (!s)\n      o.value = !1;\n    else {\n      const i = s.getBoundingClientRect();\n      o.value = i.top <= (e.innerHeight || l.documentElement.clientHeight) && i.left <= (e.innerWidth || l.documentElement.clientWidth) && i.bottom >= 0 && i.right >= 0;\n    }\n  };\n  return j(() => U(t), () => a(), { immediate: !0, flush: \"post\" }), e && Re(n || e, \"scroll\", a, {\n    capture: !1,\n    passive: !0\n  }), o;\n}\nvar Z;\n(function(t) {\n  t.UP = \"UP\", t.RIGHT = \"RIGHT\", t.DOWN = \"DOWN\", t.LEFT = \"LEFT\", t.NONE = \"NONE\";\n})(Z || (Z = {}));\nvar Pe = Object.defineProperty, K = Object.getOwnPropertySymbols, He = Object.prototype.hasOwnProperty, Le = Object.prototype.propertyIsEnumerable, ee = (t, e, n) => e in t ? Pe(t, e, { enumerable: !0, configurable: !0, writable: !0, value: n }) : t[e] = n, Me = (t, e) => {\n  for (var n in e || (e = {}))\n    He.call(e, n) && ee(t, n, e[n]);\n  if (K)\n    for (var n of K(e))\n      Le.call(e, n) && ee(t, n, e[n]);\n  return t;\n};\nconst Ne = {\n  easeInSine: [0.12, 0, 0.39, 0],\n  easeOutSine: [0.61, 1, 0.88, 1],\n  easeInOutSine: [0.37, 0, 0.63, 1],\n  easeInQuad: [0.11, 0, 0.5, 0],\n  easeOutQuad: [0.5, 1, 0.89, 1],\n  easeInOutQuad: [0.45, 0, 0.55, 1],\n  easeInCubic: [0.32, 0, 0.67, 0],\n  easeOutCubic: [0.33, 1, 0.68, 1],\n  easeInOutCubic: [0.65, 0, 0.35, 1],\n  easeInQuart: [0.5, 0, 0.75, 0],\n  easeOutQuart: [0.25, 1, 0.5, 1],\n  easeInOutQuart: [0.76, 0, 0.24, 1],\n  easeInQuint: [0.64, 0, 0.78, 0],\n  easeOutQuint: [0.22, 1, 0.36, 1],\n  easeInOutQuint: [0.83, 0, 0.17, 1],\n  easeInExpo: [0.7, 0, 0.84, 0],\n  easeOutExpo: [0.16, 1, 0.3, 1],\n  easeInOutExpo: [0.87, 0, 0.13, 1],\n  easeInCirc: [0.55, 0, 1, 0.45],\n  easeOutCirc: [0, 0.55, 0.45, 1],\n  easeInOutCirc: [0.85, 0, 0.15, 1],\n  easeInBack: [0.36, 0, 0.66, -0.56],\n  easeOutBack: [0.34, 1.56, 0.64, 1],\n  easeInOutBack: [0.68, -0.6, 0.32, 1.6]\n};\nMe({\n  linear: Oe\n}, Ne);\nconst x = (t) => {\n  let e = Se(t).value;\n  return e = e && t.offsetHeight > 0, e;\n}, _ = (t) => t.tabIndex >= 0, te = (t) => {\n  const e = t.target;\n  return W(e);\n}, W = (t) => {\n  var e;\n  let n;\n  if (t instanceof HTMLTableCellElement) {\n    const o = (e = t.parentElement) == null ? void 0 : e.previousElementSibling;\n    if (o) {\n      const a = Array.from(o.children)[t.cellIndex];\n      a && (n = a);\n    }\n  } else if (t instanceof HTMLTableRowElement) {\n    const o = t.previousElementSibling;\n    o && (n = o);\n  }\n  return n && (!_(n) || !x(n)) ? W(n) : n;\n}, Ue = (t) => {\n  var e;\n  const n = t.target;\n  let o;\n  if (n instanceof HTMLTableCellElement) {\n    const a = (e = n.parentElement) == null ? void 0 : e.parentElement;\n    if (a) {\n      const l = a.firstElementChild.children[n.cellIndex];\n      l && (o = l);\n    }\n  } else if (n instanceof HTMLTableRowElement) {\n    const a = n.parentElement;\n    if (a) {\n      const l = a.firstElementChild;\n      l && (o = l);\n    }\n  }\n  return o && (!_(o) || !x(o)) ? B(o) : o;\n}, ne = (t) => {\n  const e = t.target;\n  return B(e);\n}, B = (t) => {\n  var e;\n  let n;\n  if (t instanceof HTMLTableCellElement) {\n    const o = (e = t.parentElement) == null ? void 0 : e.nextElementSibling;\n    if (o) {\n      const a = Array.from(o.children)[t.cellIndex];\n      a && (n = a);\n    }\n  } else if (t instanceof HTMLTableRowElement) {\n    const o = t.nextElementSibling;\n    o && (n = o);\n  }\n  return n && (!_(n) || !x(n)) ? B(n) : n;\n}, je = (t) => {\n  var e;\n  const n = t.target;\n  let o;\n  if (n instanceof HTMLTableCellElement) {\n    const a = (e = n.parentElement) == null ? void 0 : e.parentElement;\n    if (a) {\n      const l = a.lastElementChild.children[n.cellIndex];\n      l && (o = l);\n    }\n  } else if (n instanceof HTMLTableRowElement) {\n    const a = n.parentElement;\n    if (a) {\n      const l = a.lastElementChild;\n      l && (o = l);\n    }\n  }\n  return o && (!_(o) || !x(o)) ? W(o) : o;\n}, oe = (t) => {\n  const e = t.target;\n  return Q(e);\n}, Q = (t) => {\n  var e;\n  let n;\n  if (t.previousElementSibling)\n    n = t.previousElementSibling;\n  else {\n    const o = (e = t.parentElement) == null ? void 0 : e.previousElementSibling;\n    n = o == null ? void 0 : o.lastElementChild;\n  }\n  return n && (!_(n) || !x(n)) ? Q(n) : n;\n}, le = (t) => {\n  const e = t.target;\n  return F(e);\n}, F = (t) => {\n  var e;\n  let n;\n  if (t.nextElementSibling)\n    n = t.nextElementSibling;\n  else {\n    const o = (e = t.parentElement) == null ? void 0 : e.nextElementSibling;\n    n = o == null ? void 0 : o.firstElementChild;\n  }\n  return n && (!_(n) || !x(n)) ? F(n) : n;\n}, ae = (t) => {\n  const e = t.target.parentElement.firstElementChild;\n  return e && (!_(e) || !x(e)) ? F(e) : e;\n}, re = (t) => {\n  const e = t.target.parentElement.lastElementChild;\n  return e && (!_(e) || !x(e)) ? Q(e) : e;\n}, D = [\"alt\", \"control\", \"shift\", \"meta\"], Ve = {\n  ArrowUp: \"up\",\n  ArrowDown: \"down\",\n  ArrowLeft: \"left\",\n  ArrowRight: \"right\"\n}, we = {\n  \"keydown.up\": (t) => {\n    const e = te(t);\n    e && (t.preventDefault(), t.stopPropagation(), e.focus());\n  },\n  \"keydown.down\": (t) => {\n    const e = ne(t);\n    e && (t.preventDefault(), t.stopPropagation(), e.focus());\n  },\n  \"keydown.left\": (t) => {\n    const e = oe(t);\n    t.preventDefault(), t.stopPropagation(), e && e.focus();\n  },\n  \"keydown.right\": (t) => {\n    const e = le(t);\n    t.preventDefault(), t.stopPropagation(), e && e.focus();\n  },\n  \"keydown.control.up\": (t) => {\n    const e = Ue(t);\n    e && (t.preventDefault(), t.stopPropagation(), e.focus());\n  },\n  \"keydown.control.down\": (t) => {\n    const e = je(t);\n    e && (t.preventDefault(), t.stopPropagation(), e.focus());\n  },\n  \"keydown.control.left\": (t) => {\n    const e = ae(t);\n    e && (t.preventDefault(), t.stopPropagation(), e.focus());\n  },\n  \"keydown.control.right\": (t) => {\n    const e = re(t);\n    e && (t.preventDefault(), t.stopPropagation(), e.focus());\n  },\n  \"keydown.end\": (t) => {\n    const e = re(t);\n    e && (t.preventDefault(), t.stopPropagation(), e.focus());\n  },\n  \"keydown.enter\": (t) => {\n    if (t.target instanceof HTMLTableCellElement) {\n      t.preventDefault(), t.stopPropagation();\n      const e = ne(t);\n      e && e.focus();\n    }\n  },\n  \"keydown.shift.enter\": (t) => {\n    if (t.target instanceof HTMLTableCellElement) {\n      t.preventDefault(), t.stopPropagation();\n      const e = te(t);\n      e && e.focus();\n    }\n  },\n  \"keydown.home\": (t) => {\n    const e = ae(t);\n    e && (t.preventDefault(), t.stopPropagation(), e.focus());\n  },\n  \"keydown.tab\": (t) => {\n    const e = le(t);\n    e && (t.preventDefault(), t.stopPropagation(), e.focus());\n  },\n  \"keydown.shift.tab\": (t) => {\n    const e = oe(t);\n    e && (t.preventDefault(), t.stopPropagation(), e.focus());\n  }\n};\nfunction q(t) {\n  const e = (o) => {\n    let a = null;\n    o.parent && (typeof o.parent == \"string\" ? a = document.querySelector(o.parent) : o.parent instanceof Element ? a = o.parent : a = o.parent.value);\n    let l = [];\n    if (o.selectors)\n      if (typeof o.selectors == \"string\")\n        l = a ? Array.from(a.querySelectorAll(o.selectors)) : Array.from(document.querySelectorAll(o.selectors));\n      else if (o.selectors instanceof Element)\n        l.push(o.selectors);\n      else if (Array.isArray(o.selectors.value))\n        for (const s of o.selectors.value)\n          s instanceof Element ? l.push(s) : l.push(s.$el);\n      else\n        l.push(o.selectors.value);\n    else\n      l = Array.from(a.children).filter((s) => _(s) && x(s));\n    return l;\n  }, n = (o) => (a) => {\n    const l = Ve[a.key] || a.key.toLowerCase();\n    if (D.includes(l))\n      return;\n    const s = o.handlers || we;\n    for (const i of Object.keys(s)) {\n      const [d, ...p] = i.split(\".\");\n      if (d === \"keydown\" && p.includes(l)) {\n        const f = s[i], c = p.filter((h) => D.includes(h)), v = D.some((h) => {\n          const I = h.charAt(0).toUpperCase() + h.slice(1);\n          return a.getModifierState(I);\n        });\n        if (c.length > 0) {\n          if (v) {\n            for (const h of D)\n              if (p.includes(h)) {\n                const I = h.charAt(0).toUpperCase() + h.slice(1);\n                a.getModifierState(I) && f(a);\n              }\n          }\n        } else\n          v || f(a);\n      }\n    }\n  };\n  xe(() => {\n    for (const o of t) {\n      const a = e(o);\n      for (const l of a)\n        l.addEventListener(\"keydown\", n(o));\n    }\n  }), _e(() => {\n    for (const o of t) {\n      const a = e(o);\n      for (const l of a)\n        l.removeEventListener(\"keydown\", n(o));\n    }\n  });\n}\nconst We = [\"data-colindex\", \"data-rowindex\", \"data-editable\", \"contenteditable\", \"tabindex\"], Be = { key: 1 }, Qe = /* @__PURE__ */ k({\n  __name: \"ACell\",\n  props: {\n    colIndex: {},\n    rowIndex: {},\n    tableid: {},\n    addNavigation: { type: [Boolean, Object], default: !0 },\n    tabIndex: { default: 0 },\n    clickHandler: {}\n  },\n  setup(t) {\n    var I;\n    const e = t, n = O(e.tableid), o = E(null);\n    let a = E(!1);\n    const l = S(() => {\n      const u = n.cellData(e.colIndex, e.rowIndex);\n      if (n.columns[e.colIndex].format) {\n        const b = n.columns[e.colIndex].format;\n        return typeof b == \"function\" ? b(u) : typeof b == \"string\" ? Function(`\"use strict\";return (${b})`)()(u) : u;\n      } else\n        return u;\n    }), s = (u) => {\n      if (e.clickHandler) {\n        e.clickHandler(u);\n        return;\n      }\n      if (n.columns[e.colIndex].mask, n.columns[e.colIndex].modalComponent) {\n        const b = o.value.getBoundingClientRect();\n        n.modal.visible = !0, n.modal.colIndex = e.colIndex, n.modal.rowIndex = e.rowIndex, n.modal.parent = o.value, n.modal.top = b.top + b.height, n.modal.left = b.left, n.modal.width = d.value, n.modal.component = n.columns[e.colIndex].modalComponent, n.modal.componentProps = n.columns[e.colIndex].modalComponentProps;\n      }\n    };\n    if (e.addNavigation) {\n      let u = {\n        ...we,\n        \"keydown.f2\": s,\n        \"keydown.alt.up\": s,\n        \"keydown.alt.down\": s,\n        \"keydown.alt.left\": s,\n        \"keydown.alt.right\": s\n      };\n      typeof e.addNavigation == \"object\" && (u = {\n        ...u,\n        ...e.addNavigation\n      }), q([\n        {\n          selectors: o,\n          handlers: u\n        }\n      ]);\n    }\n    const i = S(() => n.columns[e.colIndex].align || \"center\"), d = S(() => n.columns[e.colIndex].width || \"40ch\");\n    let p = \"\";\n    const f = () => {\n      o.value && (p = o.value.innerText);\n    }, c = () => {\n      o.value && o.value.innerHTML !== p && (p = o.value.innerText, o.value.dispatchEvent(new Event(\"change\")), a.value = !0, n.columns[e.colIndex].format || n.setCellData(e.rowIndex, e.colIndex, p));\n    }, v = (u, b) => b && u === 0 && b > 0 ? `${b}ch` : \"inherit\", h = {\n      textAlign: i.value,\n      width: d.value,\n      backgroundColor: a.value ? \"var(--cell-modified-color)\" : \"inherit\",\n      fontWeight: a.value ? \"bold\" : \"inherit\",\n      paddingLeft: v(e.colIndex, (I = n.display[e.rowIndex]) == null ? void 0 : I.indent)\n    };\n    return (u, b) => (m(), g(\"td\", {\n      ref_key: \"cell\",\n      ref: o,\n      \"data-colindex\": u.colIndex,\n      \"data-rowindex\": u.rowIndex,\n      \"data-editable\": r(n).columns[u.colIndex].edit,\n      contenteditable: r(n).columns[u.colIndex].edit,\n      tabindex: u.tabIndex,\n      spellcheck: !1,\n      style: h,\n      onFocus: f,\n      onPaste: c,\n      onBlur: c,\n      onInput: c,\n      onClick: s,\n      onMousedown: s\n    }, [\n      r(n).columns[u.colIndex].cellComponent ? (m(), P(ie(r(n).columns[u.colIndex].cellComponent), V({\n        key: 0,\n        value: l.value\n      }, r(n).columns[u.colIndex].cellComponentProps), null, 16, [\"value\"])) : (m(), g(\"span\", Be, $(l.value), 1))\n    ], 40, We));\n  }\n});\nconst C = (t, e) => {\n  const n = t.__vccOpts || t;\n  for (const [o, a] of e)\n    n[o] = a;\n  return n;\n}, he = /* @__PURE__ */ C(Qe, [[\"__scopeId\", \"data-v-25c960fb\"]]), Fe = [\"tabindex\"], qe = [\"tabindex\"], ze = [\"colspan\"], Ge = /* @__PURE__ */ k({\n  __name: \"AExpansionRow\",\n  props: {\n    row: {},\n    rowIndex: {},\n    tableid: {},\n    tabIndex: { default: -1 },\n    addNavigation: {}\n  },\n  setup(t) {\n    const e = t, n = O(e.tableid), o = E(null), a = E(null), l = () => n.display[e.rowIndex].expanded ? \"▼\" : \"►\";\n    if (e.addNavigation !== void 0) {\n      const s = Object.assign({}, e.addNavigation);\n      s[\"keydown.control.g\"] = (i) => {\n        i.stopPropagation(), i.preventDefault(), n.toggleRowExpand(e.rowIndex);\n      }, q([\n        {\n          selectors: o,\n          handlers: s\n        }\n      ]);\n    }\n    return (s, i) => (m(), g(L, null, [\n      T(\"tr\", V(s.$attrs, {\n        ref_key: \"rowEl\",\n        ref: o,\n        tabindex: s.tabIndex,\n        class: \"expandable-row\"\n      }), [\n        T(\"td\", {\n          tabIndex: -1,\n          onClick: i[0] || (i[0] = (d) => r(n).toggleRowExpand(s.rowIndex)),\n          class: \"row-index\"\n        }, $(l()), 1),\n        y(s.$slots, \"row\", {}, void 0, !0)\n      ], 16, Fe),\n      r(n).display[e.rowIndex].expanded ? (m(), g(\"tr\", {\n        key: 0,\n        ref_key: \"rowExpanded\",\n        ref: a,\n        tabindex: s.tabIndex,\n        class: \"expanded-row\"\n      }, [\n        T(\"td\", {\n          tabIndex: -1,\n          colspan: r(n).columns.length + 1,\n          class: \"expanded-row-content\"\n        }, [\n          y(s.$slots, \"content\", {}, void 0, !0)\n        ], 8, ze)\n      ], 8, qe)) : M(\"\", !0)\n    ], 64));\n  }\n});\nconst Je = /* @__PURE__ */ C(Ge, [[\"__scopeId\", \"data-v-006f9280\"]]), Xe = [\"tabindex\"], Ye = {\n  key: 0,\n  tabIndex: -1,\n  class: \"list-index\"\n}, Ze = /* @__PURE__ */ k({\n  __name: \"ARow\",\n  props: {\n    row: {},\n    rowIndex: {},\n    tableid: {},\n    tabIndex: { default: -1 },\n    addNavigation: {}\n  },\n  setup(t) {\n    de((d) => ({\n      51583799: r(a)\n    }));\n    const e = t, n = O(e.tableid), o = E(null), a = n.numberedRowWidth.value, l = () => n.config.view !== \"tree\" ? \"\" : n.display[e.rowIndex].isRoot || n.display[e.rowIndex].isParent ? n.display[e.rowIndex].childrenOpen ? \"-\" : \"+\" : \"\", s = () => n.config.view !== \"tree\" || n.display[e.rowIndex].isRoot || n.display[e.rowIndex].open, i = (d) => {\n      n.toggleRowExpand(d);\n    };\n    return e.addNavigation && q([\n      {\n        selectors: o,\n        handlers: e.addNavigation\n      }\n    ]), (d, p) => ce((m(), g(\"tr\", {\n      ref_key: \"rowEl\",\n      ref: o,\n      tabindex: d.tabIndex,\n      class: \"table-row\"\n    }, [\n      r(n).config.view === \"list\" ? (m(), g(\"td\", Ye, $(d.rowIndex + 1), 1)) : r(n).config.view === \"tree\" ? (m(), g(\"td\", {\n        key: 1,\n        tabIndex: -1,\n        class: \"tree-index\",\n        onClick: p[0] || (p[0] = (f) => i(d.rowIndex))\n      }, $(l()), 1)) : y(d.$slots, \"indexCell\", { key: 2 }, void 0, !0),\n      y(d.$slots, \"default\", {}, void 0, !0)\n    ], 8, Xe)), [\n      [ue, s()]\n    ]);\n  }\n});\nconst ge = /* @__PURE__ */ C(Ze, [[\"__scopeId\", \"data-v-fab653ac\"]]);\nlet R;\nconst Ke = new Uint8Array(16);\nfunction et() {\n  if (!R && (R = typeof crypto < \"u\" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto), !R))\n    throw new Error(\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\");\n  return R(Ke);\n}\nconst w = [];\nfor (let t = 0; t < 256; ++t)\n  w.push((t + 256).toString(16).slice(1));\nfunction tt(t, e = 0) {\n  return w[t[e + 0]] + w[t[e + 1]] + w[t[e + 2]] + w[t[e + 3]] + \"-\" + w[t[e + 4]] + w[t[e + 5]] + \"-\" + w[t[e + 6]] + w[t[e + 7]] + \"-\" + w[t[e + 8]] + w[t[e + 9]] + \"-\" + w[t[e + 10]] + w[t[e + 11]] + w[t[e + 12]] + w[t[e + 13]] + w[t[e + 14]] + w[t[e + 15]];\n}\nconst nt = typeof crypto < \"u\" && crypto.randomUUID && crypto.randomUUID.bind(crypto), se = {\n  randomUUID: nt\n};\nfunction be(t, e, n) {\n  if (se.randomUUID && !e && !t)\n    return se.randomUUID();\n  t = t || {};\n  const o = t.random || (t.rng || et)();\n  if (o[6] = o[6] & 15 | 64, o[8] = o[8] & 63 | 128, e) {\n    n = n || 0;\n    for (let a = 0; a < 16; ++a)\n      e[n + a] = o[a];\n    return e;\n  }\n  return tt(o);\n}\nclass ot {\n  constructor(e, n, o, a, l, s) {\n    this.id = e || be(), this.rows = o, this.columns = A(n), this.config = A(a), this.table = l || A(this.createTableObject()), this.display = this.createDisplayObject(s), this.modal = A({ visible: !1 });\n  }\n  createTableObject() {\n    const e = {};\n    for (const [n, o] of this.columns.entries())\n      for (const [a, l] of this.rows.entries())\n        e[`${n}:${a}`] = l[o.name];\n    return e;\n  }\n  createDisplayObject(e) {\n    const n = [Object.assign({}, { modified: !1 })];\n    if (e && \"0:0\" in e)\n      return e;\n    const o = /* @__PURE__ */ new Set();\n    for (let a = this.rows.length - 1; a >= 0; a--) {\n      const l = this.rows[a];\n      l.parent && o.add(l.parent), n[a] = {\n        childrenOpen: !1,\n        expanded: !1,\n        indent: l.indent || null,\n        isParent: o.has(a),\n        isRoot: l.parent === null || l.parent === void 0,\n        modified: !1,\n        open: l.parent === null || l.parent === void 0,\n        parent: l.parent\n      };\n    }\n    return A(n);\n  }\n  get zeroColumn() {\n    return [\"list\", \"tree\", \"list-expansion\"].includes(this.config.view);\n  }\n  get numberedRowWidth() {\n    return S(() => String(Math.ceil(this.rows.length / 100) + 1) + \"ch\");\n  }\n  cellData(e, n) {\n    return this.table[`${e}:${n}`];\n  }\n  setCellData(e, n, o) {\n    this.table[`${n}:${e}`] !== o && (this.display[e].modified = !0), this.table[`${n}:${e}`] = o;\n    const a = this.columns[n];\n    return this.rows[e][a.name] = o, this.table[`${n}:${e}`];\n  }\n  toggleRowExpand(e) {\n    if (this.config.view === \"tree\") {\n      this.display[e].childrenOpen = !this.display[e].childrenOpen;\n      for (let n = this.rows.length - 1; n >= 0; n--)\n        this.display[n].parent === e && (this.display[n].open = !this.display[n].open, this.display[n].childrenOpen && this.toggleRowExpand(n));\n    } else\n      this.config.view === \"list-expansion\" && (this.display[e].expanded = !this.display[e].expanded);\n  }\n}\nconst lt = { key: 0 }, at = {\n  class: \"atable-header-row\",\n  tabindex: \"-1\"\n}, rt = {\n  key: 0,\n  id: \"header-index\"\n}, st = /* @__PURE__ */ k({\n  __name: \"ATableHeader\",\n  props: {\n    columns: {},\n    config: {},\n    tableid: {}\n  },\n  setup(t) {\n    de((l) => ({\n      e41795ae: r(o)\n    }));\n    const n = O(t.tableid), o = n.numberedRowWidth.value, a = (l) => ({\n      minWidth: l.width || \"40ch\",\n      textAlign: l.align || \"center\",\n      width: n.config.fullWidth ? \"auto\" : null\n    });\n    return (l, s) => l.columns.length ? (m(), g(\"thead\", lt, [\n      T(\"tr\", at, [\n        r(n).zeroColumn ? (m(), g(\"th\", rt)) : M(\"\", !0),\n        (m(!0), g(L, null, N(l.columns, (i, d) => (m(), g(\"th\", {\n          key: d,\n          tabindex: \"-1\",\n          style: H(a(i))\n        }, [\n          y(l.$slots, \"default\", {}, () => [\n            ke($(i.label || String.fromCharCode(d + 97).toUpperCase()), 1)\n          ], !0)\n        ], 4))), 128))\n      ])\n    ])) : M(\"\", !0);\n  }\n});\nconst ve = /* @__PURE__ */ C(st, [[\"__scopeId\", \"data-v-a536c71e\"]]), it = /* @__PURE__ */ k({\n  __name: \"ATableModal\",\n  props: {\n    colIndex: {},\n    rowIndex: {},\n    tableid: {}\n  },\n  setup(t) {\n    O(t.tableid);\n    const n = (o) => {\n      o.stopPropagation();\n    };\n    return (o, a) => (m(), g(\"div\", {\n      ref: \"amodal\",\n      class: \"amodal\",\n      tabindex: \"-1\",\n      onClick: n,\n      onInput: n\n    }, [\n      y(o.$slots, \"default\", {}, void 0, !0)\n    ], 544));\n  }\n});\nconst ye = /* @__PURE__ */ C(it, [[\"__scopeId\", \"data-v-1c1a174d\"]]), dt = /* @__PURE__ */ k({\n  __name: \"ATable\",\n  props: {\n    id: {},\n    modelValue: {},\n    columns: {},\n    rows: { default: () => [] },\n    config: { default: () => new Object() },\n    tableid: {}\n  },\n  emits: [\"update:modelValue\"],\n  setup(t, { emit: e }) {\n    const n = t, o = e;\n    let a = n.modelValue ? n.modelValue : n.rows, l = new ot(n.id, n.columns, a, n.config);\n    Ce(l.id, l), j(\n      () => l.rows,\n      (i, d) => {\n        o(\"update:modelValue\", i);\n      },\n      { deep: !0 }\n    );\n    const s = (i) => {\n      var d;\n      (d = l.modal.parent) != null && d.contains(i.target) || l.modal.visible && (l.modal.visible = !1);\n    };\n    return window.addEventListener(\"click\", s), window.addEventListener(\"keydown\", (i) => {\n      if (i.key === \"Escape\" && l.modal.visible) {\n        l.modal.visible = !1;\n        const d = l.modal.parent;\n        d && Ae().then(() => {\n          const p = d.dataset.rowindex, f = d.dataset.colindex, c = document.querySelectorAll(`[data-rowindex='${p}'][data-colindex='${f}']`);\n          c && c[0].focus();\n        });\n      }\n    }), (i, d) => (m(), g(\"table\", {\n      class: \"atable\",\n      style: H({ width: r(l).config.fullWidth ? \"100%\" : \"auto\" })\n    }, [\n      y(i.$slots, \"header\", { data: r(l) }, () => [\n        z(ve, {\n          columns: r(l).columns,\n          config: r(l).config,\n          tableid: r(l).id\n        }, null, 8, [\"columns\", \"config\", \"tableid\"])\n      ], !0),\n      T(\"tbody\", null, [\n        y(i.$slots, \"body\", { data: r(l) }, () => [\n          (m(!0), g(L, null, N(r(l).rows, (p, f) => (m(), P(ge, {\n            key: p.id || r(be)(),\n            row: p,\n            rowIndex: f,\n            tableid: r(l).id\n          }, {\n            default: G(() => [\n              (m(!0), g(L, null, N(r(l).columns, (c, v) => (m(), P(he, {\n                key: `${v}:${f}`,\n                tableid: r(l).id,\n                col: c,\n                spellcheck: \"false\",\n                rowIndex: f,\n                colIndex: v + (r(l).zeroColumn ? 0 : -1),\n                component: c.cellComponent,\n                style: H({\n                  textAlign: (c == null ? void 0 : c.align) || \"center\",\n                  minWidth: (c == null ? void 0 : c.width) || \"40ch\",\n                  width: r(l).config.fullWidth ? \"auto\" : null\n                })\n              }, null, 8, [\"tableid\", \"col\", \"rowIndex\", \"colIndex\", \"component\", \"style\"]))), 128))\n            ]),\n            _: 2\n          }, 1032, [\"row\", \"rowIndex\", \"tableid\"]))), 128))\n        ], !0)\n      ]),\n      y(i.$slots, \"footer\", { data: r(l) }, void 0, !0),\n      y(i.$slots, \"modal\", { data: r(l) }, () => [\n        ce(z(ye, {\n          colIndex: r(l).modal.colIndex,\n          rowIndex: r(l).modal.rowIndex,\n          tableid: r(l).id,\n          style: H({\n            left: r(l).modal.left + \"px\",\n            top: r(l).modal.top + \"px\",\n            maxWidth: r(l).modal.width + \"px\"\n          })\n        }, {\n          default: G(() => [\n            (m(), P(ie(r(l).modal.component), V({\n              key: `${r(l).modal.rowIndex}:${r(l).modal.colIndex}`,\n              colIndex: r(l).modal.colIndex,\n              rowIndex: r(l).modal.rowIndex,\n              tableid: r(l).id\n            }, r(l).modal.componentProps), null, 16, [\"colIndex\", \"rowIndex\", \"tableid\"]))\n          ]),\n          _: 1\n        }, 8, [\"colIndex\", \"rowIndex\", \"tableid\", \"style\"]), [\n          [ue, r(l).modal.visible]\n        ])\n      ], !0)\n    ], 4));\n  }\n});\nconst ct = /* @__PURE__ */ C(dt, [[\"__scopeId\", \"data-v-fbfc39ce\"]]);\nfunction ft(t) {\n  t.component(\"ACell\", he), t.component(\"AExpansionRow\", Je), t.component(\"ARow\", ge), t.component(\"ATable\", ct), t.component(\"ATableHeader\", ve), t.component(\"ATableModal\", ye);\n}\nexport {\n  he as ACell,\n  Je as AExpansionRow,\n  ge as ARow,\n  ct as ATable,\n  ve as ATableHeader,\n  ye as ATableModal,\n  ot as TableDataStore,\n  ft as install\n};\n//# sourceMappingURL=atable.js.map\n","<template>\r\n\t<ATable\r\n\t\tv-if=\"isReady\"\r\n\t\t:columns=\"stonecrop.schema.schema.toArray()\"\r\n\t\t:rows=\"stonecrop.store.records\"\r\n\t\t:config=\"config\" />\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ATable } from '@agritheory/atable'\r\nimport { useStonecrop } from '@agritheory/stonecrop'\r\n\r\n// TODO: use component if provided else call to Records Schema endpoint/ table  / lookup\r\n// alteratively: a view: component map, eg records: Records, gantt: GanttView\r\n// default_view key in schema\r\n// last_used_view_type in application state\r\n\r\nconst { stonecrop, isReady } = useStonecrop()\r\nconst config = { view: 'list' }\r\n</script>\r\n","<template>\r\n\t<footer>\r\n\t\t<ul class=\"tabs\">\r\n\t\t\t<li class=\"hidebreadcrumbs\" @click=\"toggleBreadcrumbs\" @keydown.enter=\"toggleBreadcrumbs\">\r\n\t\t\t\t<a tabindex=\"0\"><div :class=\"rotateHideTabIcon\">×</div></a>\r\n\t\t\t</li>\r\n\t\t\t<li\r\n\t\t\t\tclass=\"hometab\"\r\n\t\t\t\t@click=\"navigateHome\"\r\n\t\t\t\t@keydown.enter=\"navigateHome\"\r\n\t\t\t\t:style=\"{ display: breadcrumbsVisibile ? 'block' : 'none' }\">\r\n\t\t\t\t<router-link to=\"/home\" tabindex=\"0\">\r\n\t\t\t\t\t<svg\r\n\t\t\t\t\t\tversion=\"1.1\"\r\n\t\t\t\t\t\tid=\"Capa_1\"\r\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\txmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n\t\t\t\t\t\tx=\"0px\"\r\n\t\t\t\t\t\ty=\"0px\"\r\n\t\t\t\t\t\tviewBox=\"0 0 424.098 424.098\"\r\n\t\t\t\t\t\tstyle=\"enable-background: new 0 0 424.098 424.098\"\r\n\t\t\t\t\t\txml:space=\"preserve\">\r\n\t\t\t\t\t\t<g>\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\tstyle=\"fill: #010002\"\r\n\t\t\t\t\t\t\t\td=\"M351.191,401.923H72.901c-4.487,0-8.129-3.633-8.129-8.129V242.262l-56.664-0.114\r\n\t\t\t\t\t\t\t\tc-3.284-0.008-6.243-1.992-7.495-5.023c-1.252-3.04-0.553-6.527,1.764-8.852L206.104,24.546c1.853-1.845,4.503-2.666,7.047-2.276\r\n\t\t\t\t\t\t\t\tc2.414,0.39,4.511,1.845,5.731,3.942l47.43,47.43V58.499c0-4.487,3.633-8.129,8.129-8.129h47.755c4.495,0,8.129,3.642,8.129,8.129\r\n\t\t\t\t\t\t\t\tv79.156l91.39,91.398c2.325,2.325,3.024,5.828,1.764,8.868c-1.26,3.032-4.227,5.007-7.511,5.007c-0.008,0-0.008,0-0.016,0\r\n\t\t\t\t\t\t\t\tl-56.64-0.114v150.98C359.32,398.29,355.686,401.923,351.191,401.923z M81.03,385.666h262.033V234.67\r\n\t\t\t\t\t\t\t\tc0-2.162,0.854-4.235,2.39-5.755c1.528-1.52,3.585-2.374,5.739-2.374c0.008,0,0.008,0,0.016,0l45.105,0.089l-79.855-79.863\r\n\t\t\t\t\t\t\t\tc-1.528-1.528-2.382-3.593-2.382-5.747V66.628h-31.498v26.645c0,3.284-1.975,6.251-5.015,7.511\r\n\t\t\t\t\t\t\t\tc-3.032,1.268-6.527,0.569-8.86-1.764l-57.038-57.038l-183.95,183.95l45.203,0.089c4.487,0.008,8.112,3.642,8.112,8.129\r\n\t\t\t\t\t\t\t\tC81.03,234.149,81.03,385.666,81.03,385.666z\" />\r\n\t\t\t\t\t\t</g>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</router-link>\r\n\t\t\t</li>\r\n\t\t\t<li\r\n\t\t\t\tclass=\"searchtab\"\r\n\t\t\t\t@click=\"toggleSearch\"\r\n\t\t\t\t@keydown.enter=\"toggleSearch\"\r\n\t\t\t\t:style=\"{ display: breadcrumbsVisibile ? 'block' : 'none' }\">\r\n\t\t\t\t<a tabindex=\"0\">\r\n\t\t\t\t\t<span :style=\"{ display: searchVisibile ? 'none' : 'block' }\">\r\n\t\t\t\t\t\t<svg style=\"width: 11pt\">\r\n\t\t\t\t\t\t\t<g transform=\"matrix(-0.08088215,0,0,0.08088215,9.8016177,3.1263021e-6)\">\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\td=\"M 93.148438,80.832031 C 109.5,57.742188 104.03125,25.769531 80.941406,9.421875 57.851562,-6.925781 25.878906,-1.460938 9.53125,21.632812 -6.816406,44.722656 -1.351562,76.691406 21.742188,93.039062 38.222656,104.70703 60.011719,105.60547 77.394531,95.339844 l 37.769529,37.542966 c 4.07813,4.29297 10.86328,4.46485 15.15625,0.38672 4.29297,-4.07422 4.46485,-10.85937 0.39063,-15.15234 -0.12891,-0.13672 -0.25391,-0.26172 -0.39063,-0.39063 z m -41.839844,3.5 C 33.0625,84.335938 18.269531,69.554688 18.257812,51.308594 18.253906,33.0625 33.035156,18.269531 51.285156,18.261719 c 18.222656,-0.0078 33.007813,14.75 33.042969,32.972656 0.03125,18.25 -14.742187,33.066406 -32.996094,33.097656 -0.0078,0 -0.01172,0 -0.02344,0 z m 0,0\"\r\n\t\t\t\t\t\t\t\t\tstyle=\"fill: #000000; fill-opacity: 1; fill-rule: nonzero; stroke: none\"\r\n\t\t\t\t\t\t\t\t\tid=\"path2\" />\r\n\t\t\t\t\t\t\t</g>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tv-model=\"searchText\"\r\n\t\t\t\t\t\tref=\"searchinput\"\r\n\t\t\t\t\t\t:style=\"{ display: searchVisibile ? 'block' : 'none' }\"\r\n\t\t\t\t\t\t@click=\"handleSearchInput($event)\"\r\n\t\t\t\t\t\t@input=\"handleSearchInput($event)\"\r\n\t\t\t\t\t\t@blur=\"handleSearch($event)\"\r\n\t\t\t\t\t\t@keydown.enter=\"handleSearch($event)\"\r\n\t\t\t\t\t\ttype=\"text\" />\r\n\t\t\t\t</a>\r\n\t\t\t</li>\r\n\t\t\t<li\r\n\t\t\t\tv-for=\"(breadcrumb, index) in breadcrumbs\"\r\n\t\t\t\t:key=\"index\"\r\n\t\t\t\t:style=\"{ display: breadcrumbsVisibile ? 'block' : 'none' }\">\r\n\t\t\t\t<router-link tabindex=\"0\" :to=\"breadcrumb.to\"> {{ breadcrumb.title }} </router-link>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t</footer>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed, nextTick, onMounted, ref } from 'vue'\r\n\r\nconst props = defineProps<{\r\n\tbreadcrumbs?: { title: string; to: string }[]\r\n}>()\r\n\r\nconst breadcrumbs = ref([])\r\nconst breadcrumbsVisibile = ref(true)\r\nconst searchVisibile = ref(false)\r\nconst searchText = ref('')\r\nconst searchinput = ref<HTMLElement>(null)\r\n\r\nconst rotateHideTabIcon = computed(() => {\r\n\treturn breadcrumbsVisibile.value ? 'unrotated' : 'rotated'\r\n})\r\n\r\nonMounted(() => {\r\n\tbreadcrumbs.value = props.breadcrumbs || []\r\n})\r\n\r\nconst toggleBreadcrumbs = () => {\r\n\tbreadcrumbsVisibile.value = !breadcrumbsVisibile.value\r\n}\r\n\r\nconst toggleSearch = async () => {\r\n\tsearchVisibile.value = !searchVisibile.value\r\n\tawait nextTick(() => {\r\n\t\tsearchinput.value.focus()\r\n\t})\r\n}\r\n\r\nconst handleSearchInput = (event: Event | MouseEvent) => {\r\n\tevent.preventDefault()\r\n\tevent.stopPropagation()\r\n}\r\n\r\nconst handleSearch = async (event: FocusEvent | KeyboardEvent) => {\r\n\tevent.preventDefault()\r\n\tevent.stopPropagation()\r\n\tawait toggleSearch()\r\n}\r\n\r\nconst navigateHome = (/* event: MouseEvent | KeyboardEvent */) => {\r\n\t// navigate home\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nfooter {\r\n\tposition: fixed;\r\n\tbottom: 0px;\r\n\twidth: 100%;\r\n\tbackground-color: transparent;\r\n\theight: 2rem;\r\n\tz-index: 100;\r\n\ttext-align: left;\r\n\tfont-size: 100%;\r\n\tdisplay: flex;\r\n\tjustify-content: right;\r\n\tpadding-bottom: 0.2rem;\r\n}\r\nul {\r\n\tdisplay: flex;\r\n\tflex-direction: row-reverse;\r\n}\r\n\r\n.tabs li {\r\n\t/* Makes a horizontal row */\r\n\tfloat: left;\r\n\tlist-style-type: none;\r\n\t/* So the psueudo elements can be\r\n     abs. positioned inside */\r\n\tposition: relative;\r\n\tmargin-left: -1px;\r\n}\r\n.tabs a {\r\n\tfloat: left;\r\n\tpadding: 1ch 4ch 4ch 4ch;\r\n\ttext-decoration: none;\r\n\tcolor: black;\r\n\tbackground: #aaa;\r\n\toutline: 2px solid inherit;\r\n\toutline-offset: -2px;\r\n\r\n\t/* Only round the top corners */\r\n\t-webkit-border-top-left-radius: 15px;\r\n\t-webkit-border-top-right-radius: 15px;\r\n\t-moz-border-radius-topleft: 15px;\r\n\t-moz-border-radius-topright: 15px;\r\n\tborder-top-left-radius: 15px;\r\n\tborder-top-right-radius: 15px;\r\n\r\n\tborder: 1px solid #ccc;\r\n}\r\n.tabs .router-link-active {\r\n\t/* Highest, active tab is on top */\r\n\tz-index: 3;\r\n}\r\n.router-link-active {\r\n\t/* Colors when tab is active */\r\n\tbackground: #827553;\r\n\tcolor: black;\r\n\tbox-shadow: #999;\r\n}\r\n.tabs li:before,\r\n.tabs li:after,\r\n.tabs li a:before,\r\n.tabs li a:after {\r\n\t/* All pseudo elements are\r\n     abs. positioned and on bottom */\r\n\tposition: absolute;\r\n\tbottom: 0;\r\n}\r\n/* Only the first, last, and active\r\n   tabs need pseudo elements at all */\r\n.tabs li:last-child:after,\r\n.tabs li:last-child a:after,\r\n.tabs li:first-child:before,\r\n.tabs li:first-child a:before,\r\n.tabs .router-link-active:after,\r\n.tabs .router-link-active:before,\r\n.tabs .router-link-active a:after,\r\n.tabs .router-link-active a:before {\r\n\tcontent: '';\r\n}\r\n.tabs .router-link-active:before,\r\n.tabs .router-link-active:after {\r\n\tbackground: transparent;\r\n\r\n\t/* Squares below circles */\r\n\tz-index: 1;\r\n}\r\n/* Squares */\r\n.tabs li:before,\r\n.tabs li:after {\r\n\tbackground: transparent;\r\n\twidth: 10px;\r\n\theight: 10px;\r\n}\r\n.tabs li:before {\r\n\tleft: -10px;\r\n}\r\n.tabs li:after {\r\n\tright: -10px;\r\n}\r\n/* Circles */\r\n.tabs li a:after,\r\n.tabs li a:before {\r\n\twidth: 20px;\r\n\theight: 20px;\r\n\t/* Circles are circular */\r\n\t-webkit-border-radius: 10px;\r\n\t-moz-border-radius: 10px;\r\n\tborder-radius: 10px;\r\n\tbackground: transparent;\r\n\r\n\t/* Circles over squares */\r\n\tz-index: 2;\r\n}\r\n.tabs .router-link-active a:after,\r\n.tabs .router-link-active a:before {\r\n\tbackground: transparent;\r\n}\r\n/* First and last tabs have different\r\n   outside color needs */\r\n.tabs li:first-child.router-link-active a:before,\r\n.tabs li:last-child.router-link-active a:after {\r\n\tbackground: transparent;\r\n}\r\n.tabs li a:before {\r\n\tleft: -20px;\r\n}\r\n.tabs li a:after {\r\n\tright: -20px;\r\n}\r\n.hidebreadcrumbs a {\r\n\twidth: 1ch;\r\n\tmin-width: calc(66px - 4ch);\r\n\tbackground-color: #ffffff;\r\n\tpadding-left: 2ch;\r\n\tpadding-right: 2ch;\r\n\tpadding-top: 3px;\r\n\tfont-size: 150%;\r\n\ttext-align: center;\r\n}\r\n.rotated {\r\n\t/* border: 1px solid red; */\r\n\ttransform: rotate(45deg);\r\n\t-webkit-transform: rotate(45deg);\r\n\t-moz-transform: rotate(45deg);\r\n\t-ms-transform: rotate(45deg);\r\n\t-o-transform: rotate(45deg);\r\n\ttransition: transform 250ms;\r\n}\r\n.unrotated {\r\n\t/* border: 1px solid red; */\r\n\ttransform: rotate(0deg);\r\n\t-webkit-transform: rotate(0deg);\r\n\t-moz-transform: rotate(0deg);\r\n\t-ms-transform: rotate(0deg);\r\n\t-o-transform: rotate(0deg);\r\n\ttransition: transform 250ms;\r\n}\r\nli:active,\r\nli:hover,\r\nli:focus,\r\nli > a:active,\r\nli > a:hover,\r\nli > a:focus {\r\n\tz-index: 3;\r\n}\r\n\r\na:active,\r\na:hover,\r\na:focus {\r\n\toutline: 2px solid black;\r\n\tz-index: 3;\r\n}\r\n.hometab a {\r\n\twidth: 1ch;\r\n\tmin-width: calc(66px - 4ch);\r\n\tbackground-color: #ffffff;\r\n\tpadding-left: 2ch;\r\n\tpadding-right: 2ch;\r\n\tpadding-top: 6px;\r\n\ttext-align: center;\r\n}\r\n.hometab svg {\r\n\theight: 14pt;\r\n\twidth: 14pt;\r\n}\r\n.searchtab a {\r\n\t/* width: 100%; */\r\n\tmin-width: calc(66px - 4ch);\r\n\tbackground-color: #ffffff;\r\n\tpadding-left: 2ch;\r\n\tpadding-right: 2ch;\r\n\tpadding-top: 11px;\r\n\tfont-size: 150%;\r\n\talign-items: center;\r\n}\r\n.searchtab svg {\r\n\tpadding-left: 0.25ch;\r\n}\r\n.searchtab input {\r\n\tmargin-top: -4px;\r\n\toutline: none;\r\n\tborder: none;\r\n\tborder-bottom: 1.5px solid black;\r\n\tbackground-color: transparent;\r\n\ttext-align: right;\r\n\tfont-size: 11pt;\r\n}\r\n</style>\r\n","import { App } from 'vue'\r\n\r\nimport ActionSet from '@/components/ActionSet.vue'\r\nimport CommandPalette from '@/components/CommandPalette.vue'\r\nimport Doctype from '@/components/Doctype.vue'\r\nimport Records from '@/components/Records.vue'\r\nimport SheetNav from '@/components/SheetNav.vue'\r\n\r\nexport default {\r\n\tinstall: (app: App) => {\r\n\t\tapp.component('ActionSet', ActionSet)\r\n\t\tapp.component('CommandPalette', CommandPalette)\r\n\t\tapp.component('Doctype', Doctype)\r\n\t\tapp.component('Records', Records)\r\n\t\tapp.component('SheetNav', SheetNav)\r\n\t},\r\n}\r\n"],"names":["props","__props","_elements","ref","isOpen","timeout","hover","closeClicked","onMounted","closeDropdowns","element","onHover","onHoverLeave","toggleDropdown","index","showDropdown","_cache","I","o","n","s","N","Qe","W","z","W$1","G","We","K","ze","Ge","J","Ke","k","pe","g","l","r","p","u","d","a","S","f","v","x","V","F","Ee","Ie","y","le","At","Et","t","It","Mt","Tt","ae","NotImplementedError","message","Stonecrop","registry","store","schema","workflow","actions","doctype","doctypeRegistry","filters","data","id","action","initialState","action2","isVue2","set","target","key","val","del","getDevtoolsGlobalHook","getTarget","isProxyAvailable","HOOK_SETUP","HOOK_PLUGIN_SETTINGS_SET","supported","perf","isPerformanceSupported","_a","now$1","ApiProxy","plugin","hook","defaultSettings","item","localSettingsSaveId","currentSettings","raw","value","pluginId","_target","prop","args","resolve","setupDevtoolsPlugin","pluginDescriptor","setupFn","descriptor","enableProxy","proxy","activePinia","setActivePinia","pinia2","piniaSymbol","isPlainObject","MutationType","MutationType2","IS_CLIENT","USE_DEVTOOLS","_global","bom","blob","autoBom","download","url","name","opts","xhr","saveAs","corsEnabled","click","node","evt","_navigator","isMacOSWebView","downloadSaveAs","msSaveAs","fileSaverSaveAs","popup","force","isSafari","isChromeIOS","reader","toastMessage","type2","piniaMessage","isPinia","checkClipboardAccess","checkNotFocusedError","error","actionGlobalCopyState","actionGlobalPasteState","loadStoresState","actionGlobalSaveState","fileInput","getFileOpener","openFile","reject","files","file","actionGlobalOpenStateFile","result","text","state","storeState","formatDisplay$1","display","PINIA_ROOT_LABEL","PINIA_ROOT_ID","formatStoreForInspectorTree","formatStoreForInspectorState","storeNames","storeMap","storeId","store2","getters","getterName","formatEventData","events","event","formatMutationType","isTimelineActive","componentStateTypes","MUTATIONS_LAYER_ID","INSPECTOR_ID","assign$1","getStoreType","registerPiniaDevtools","app","api","nodeId","payload","ctx","piniaStores","toRaw","stores","inspectedStore","path","addStoreToDevtools","now2","after","onError","groupId","runningActionId","activeAction","watch","unref","newValue","oldValue","eventData","hotUpdate","markRaw","newStore","$dispose","patchActionForGrouping","actionNames","wrapWithProxy","storeActions","actionName","_actionId","trackedStore","retValue","devtoolsPlugin","options","originalHotUpdate","createPinia","scope","effectScope","_p","toBeInstalled","patchObject","newState","oldState","subPatch","targetValue","isRef","isReactive","noop$1","addSubscription","subscriptions","callback","detached","onCleanup","removeSubscription","idx","getCurrentScope","onScopeDispose","triggerSubscriptions","fallbackRunWithContext","fn","mergeReactiveObjects","patchToApply","skipHydrateSymbol","shouldHydrate","obj","assign$2","isComputed","createOptionsStore","hot","setup","localState","toRefs","computedGetters","computed","createSetupStore","$id","isOptionsStore","optionsForPlugin","$subscribeOptions","isListening","debuggerEvents","isSyncListening","actionSubscriptions","hotState","activeListener","$patch","partialStateOrMutator","subscriptionMutation","myListenerId","nextTick","$reset","$state","wrapAction","afterCallbackList","onErrorCallbackList","ret","_hmrPayload","partialStore","options2","stopWatcher","reactive","setupStore","toRef","actionValue","stateKey","newStateTarget","oldStateSource","getter","getterValue","nonEnumerable","extender","extensions","defineStore","idOrOptions","setupOptions","isSetupStore","useStore","hasContext","hasInjectionContext","inject","hotId","currentInstance","getCurrentInstance","vm","cache","useDataStore","records","record","useStonecrop","stonecrop","isReady","onBeforeMount","_b","route","doctypeSlug","recordId","isBrowser","isESModule","assign","applyToParams","params","newParams","isArray","noop","warn","msg","TRAILING_SLASH_RE","removeTrailingSlash","parseURL","parseQuery2","location2","currentLocation","query","searchString","hash","hashPos","searchPos","resolveRelativePath","stringifyURL","stringifyQuery2","stripBase","pathname","base","isSameRouteLocation","b","aLastIndex","bLastIndex","isSameRouteRecord","isSameRouteLocationParams","isSameRouteLocationParamsValue","isEquivalentArray","i","to","from","fromSegments","toSegments","lastToSegment","position","toPosition","segment","NavigationType","NavigationType2","NavigationDirection","NavigationDirection2","normalizeBase","baseEl","BEFORE_HASH_RE","createHref","getElementPosition","el","offset","docRect","elRect","computeScrollPosition","scrollToPosition","scrollToOptions","positionEl","isIdSelector","foundEl","getScrollKey","delta","scrollPositions","saveScrollPosition","scrollPosition","getSavedScrollPosition","scroll","createBaseLocation","createCurrentLocation","search","slicePos","pathFromHash","useHistoryListeners","historyState","replace","listeners","teardowns","pauseState","popStateHandler","fromState","listener","pauseListeners","listen","teardown","index2","beforeUnloadListener","history2","destroy","buildState","back","current","forward","replaced","computeScroll","useHistoryStateNavigation","changeLocation","replace2","hashIndex","err","push","currentState","createWebHistory","historyNavigation","historyListeners","go","triggerListeners","routerHistory","isRouteLocation","isRouteName","START_LOCATION_NORMALIZED","NavigationFailureSymbol","NavigationFailureType","NavigationFailureType2","ErrorTypeMessages","stringifyRoute","createRouterError","isNavigationFailure","propertiesToLog","BASE_PARAM_PATTERN","BASE_PATH_PARSER_OPTIONS","REGEX_CHARS_RE","tokensToParser","segments","extraOptions","score","pattern","keys","segmentScores","tokenIndex","token","subSegmentScore","repeatable","optional","regexp","re2","subPattern","re","parse2","match","stringify2","avoidDuplicatedSlash","param","compareScoreArray","diff","comparePathParserScore","aScore","bScore","comp","isLastScoreNegative","last","ROOT_TOKEN","VALID_PARAM_RE","tokenizePath","crash","buffer","previousState","tokens","finalizeSegment","char","customRe","consumeBuffer","addCharToBuffer","createRouteRecordMatcher","parent","parser","existingKeys","matcher","createRouterMatcher","routes","globalOptions","matchers","matcherMap","mergeOptions","getRecordMatcher","addRoute","originalRecord","isRootAdd","mainNormalizedRecord","normalizeRouteRecord","checkChildMissingNameWithEmptyPath","normalizedRecords","aliases","alias","originalMatcher","normalizedRecord","parentPath","connectingSlash","checkMissingParamsInAbsolutePath","checkSameParams","isAliasRecord","removeRoute","children","insertMatcher","matcherRef","getRoutes","isRecordChildOf","invalidParams","paramName","paramsFromLocation","m2","matched","parentMatcher","mergeMetaFields","normalizeRecordProps","propsObject","meta","defaults","partialOptions","isSameParam","child","HASH_RE","AMPERSAND_RE","SLASH_RE","EQUAL_RE","IM_RE","PLUS_RE","ENC_BRACKET_OPEN_RE","ENC_BRACKET_CLOSE_RE","ENC_CARET_RE","ENC_BACKTICK_RE","ENC_CURLY_OPEN_RE","ENC_PIPE_RE","ENC_CURLY_CLOSE_RE","ENC_SPACE_RE","commonEncode","encodeHash","encodeQueryValue","encodeQueryKey","encodePath","encodeParam","decode","parseQuery","searchParams","searchParam","eqPos","currentValue","stringifyQuery","value2","normalizeQuery","normalizedQuery","matchedRouteKey","viewDepthKey","routerKey","routeLocationKey","routerViewLocationKey","useCallbacks","handlers","add","handler","reset","guardToPromiseFn","guard","enterCallbackArray","next","valid","guardReturn","canOnlyBeCalledOnce","guardCall","resolvedValue","called","extractComponentsGuards","guardType","guards","rawComponent","promise","isRouteComponent","componentPromise","resolved","resolvedComponent","component","useLink","router2","currentRoute","activeRecordIndex","length","routeMatched","currentMatched","parentRecordPath","getOriginalPath","isActive","includesParams","isExactActive","navigate","e","guardEvent","instance","linkContextDevtools","watchEffect","RouterLink","defineComponent","slots","link","elClass","getLinkClass","h$1","outer","inner","innerValue","outerValue","propClass","globalClass","defaultClass","RouterViewImpl","attrs","warnDeprecatedUsage","injectedRoute","routeToDisplay","injectedDepth","depth","initialDepth","matchedRoute","matchedRouteRef","provide","viewRef","oldInstance","oldName","currentName","ViewComponent","normalizeSlot","routePropsOption","routeProps","onVnodeUnmounted","vnode","info","slot","slotContent","RouterView","parentName","parentSubTreeType","formatRouteLocation","routeLocation","tooltip","copy","omit","formatDisplay","routerId","addDevtools","componentInstance","PINK_500","devtoolsData","backgroundColor","ORANGE_400","LIME_500","BLUE_600","refreshRoutesView","routerInspectorId","navigationsLayerId","navigationId","failure","activeRoutesPayload","resetMatchStateOnRouteRecord","isRouteMatching","markRouteRecordActive","formatRouteRecordForInspector","route2","formatRouteRecordMatcherForStateInspector","modifierForKey","fields","CYAN_400","DARK","tags","routeRecordId","EXTRACT_REGEXP_RE","childRoute","filter","found","decodedPath","createRouter","parseQuery$1","stringifyQuery$1","beforeGuards","beforeResolveGuards","afterGuards","shallowRef","pendingLocation","normalizeParams","paramValue","encodeParams","decodeParams","parentOrRoute","recordMatcher","routeMatcher","hasRoute","rawLocation","locationNormalized","matchedRoute2","href2","matcherLocation","targetParams","fullPath","href","locationAsObject","checkCanceledNavigation","pushWithRedirect","handleRedirectRecord","lastMatched","redirect","newTargetLocation","redirectedFrom","targetLocation","shouldRedirect","toLocation","handleScroll","markAsReady","triggerError","failure2","finalizeNavigation","triggerAfterEach","checkCanceledNavigationAndReject","runWithContext","installedApps","leavingRecords","updatingRecords","enteringRecords","extractChangingRecords","canceledNavigationCheck","runGuardQueue","beforeEnter","isPush","isFirstNavigation","removeHistoryListener","setupListeners","_from","readyHandlers","errorListeners","ready","list","resolve2","scrollBehavior","started","router3","reactiveRoute","shallowReactive","unmountApp","len","recordFrom","recordTo","isPromise","PROMISE_RESOLVED_VOID","sleep","time","resolveWith","res","randomInt","min","max","randomToken","lastMs","additional","microSeconds$4","ms","microSeconds$3","type$3","create$3","channelName","close$3","channelState","postMessage$3","messageJson","onMessage$3","canBeUsed$3","averageResponseTime$3","NativeMethod","ObliviousSet","ObliviousSet2","ttl","_this","now","removeTooOldValues","obliviousSet","olderThen","iterator","fillOptionsWithDefaults","originalOptions","microSeconds$2","DB_PREFIX","OBJECT_STORE_ID","TRANSACTION_SETTINGS","type$2","getIdb","commitIndexedDBTransaction","tx","createDatabase","IndexedDB","dbName","openRequest","ev","db","rej","writeMessage","readerUuid","writeObject","objectStore","getMessagesHigherThan","lastCursorId","keyRangeValue","getAllRequest","openCursor","openCursorRequest","cursor","removeMessagesById","ids","deleteRequest","getOldMessages","msgObk","cleanOldMessages","tooOld","create$2","_readLoop","readNewMessages","_filterMessage","msgObj","newerMessages","useMessages","msgObjA","msgObjB","close$2","postMessage$2","onMessage$2","canBeUsed$2","averageResponseTime$2","IndexedDBMethod","microSeconds$1","KEY_PREFIX","type$1","getLocalStorage","localStorage2","storageKey","postMessage$1","writeObj","addStorageEventListener","removeStorageEventListener","create$1","canBeUsed$1","uuid","eMIs","close$1","onMessage$1","ls","averageResponseTime$1","defaultTime","userAgent","LocalstorageMethod","microSeconds","type","SIMULATE_CHANNELS","create","close","postMessage","channelArray","channel","onMessage","canBeUsed","averageResponseTime","SimulateMethod","METHODS","chooseMethod","chooseMethods","useMethod","method","OPEN_BROADCAST_CHANNELS","lastId","BroadcastChannel$1","_prepareChannel","_post","listenObj","_removeListenerObject","_addListenerObject","obj2","awaitPrepare","broadcastChannel","sendPromise","maybePromise","_hasMessageListeners","_startListening","_stopListening","listenerFn","listenerObject","hundredMsInMicro","minMessageTime","DevalueError","is_primitive","thing","object_proto_names","is_plain_object","proto","get_type","get_escaped_char","stringify_string","str","last_pos","replacement","UNDEFINED","HOLE","NAN","POSITIVE_INFINITY","NEGATIVE_INFINITY","NEGATIVE_ZERO","parse","serialized","revivers","unflatten","parsed","hydrate","values","hydrated","standalone","reviver","set2","map","array","object","stringify","reducers","stringified","indexes","custom","flatten","index3","stringify_primitive","source","flags","m","h","_a2","newSchema","fieldValue","Te","$e","fe","Oe","De","U","me","Re","c","j","X","Y","Se","E","Z","Pe","He","Le","ee","Me","_","te","Ue","B","ne","je","oe","Q","D","Ve","we","q","xe","_e","Be","O","P","ie","$","C","he","Xe","Ye","ge","de","ce","ue","R","et","w","tt","nt","se","be","ot","A","lt","at","rt","ve","T","M","L","H","ke","ye","ct","Ce","Ae","config","breadcrumbs","breadcrumbsVisibile","searchVisibile","searchText","searchinput","rotateHideTabIcon","toggleBreadcrumbs","toggleSearch","handleSearchInput","handleSearch","navigateHome","ActionSet","CommandPalette","Doctype","Records","SheetNav"],"mappings":"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"}