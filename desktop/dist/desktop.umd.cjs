(function(W,s){typeof exports=="object"&&typeof module<"u"?s(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],s):(W=typeof globalThis<"u"?globalThis:W||self,s(W["@agritheory/desktop"]={},W.Vue))})(this,function(W,s){"use strict";const We=e=>(s.pushScopeId("data-v-b7fdfbec"),e=e(),s.popScopeId(),e),To={class:"action-menu-icon"},Ao=[We(()=>s.createElementVNode("svg",{class:"leftBar",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 100","xml:space":"preserve",width:"50",height:"50"},[s.createElementVNode("polygon",{points:"54.2,33.4 29.2,58.8 25,54.6 50,29.2 "})],-1)),We(()=>s.createElementVNode("svg",{class:"rightBar",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 100","xml:space":"preserve",width:"50",height:"50"},[s.createElementVNode("polygon",{points:"70.8,58.8 45.8,33.4 50,29.2 75,54.6 "})],-1))],Do=We(()=>s.createElementVNode("div",{style:{"margin-right":"30px"}},null,-1)),Vo=["onclick"],Bo={key:1},Mo=["onClick"],Lo={class:"dropdown-container"},jo={class:"dropdown"},Uo=["onclick"],Ho=["href"],Fo={class:"dropdown-item"},Wo=s.defineComponent({__name:"ActionSet",props:{elements:null},setup(e){const t=e,n=s.ref([]),o=s.ref(!1),r=s.ref(null),a=s.ref(!1),i=s.ref(!1);s.onMounted(()=>{n.value=t.elements,c()});const c=()=>{for(let f of n.value)f.elementType==="dropdown"&&(f.show=!1)},d=()=>{a.value=!0,r.value=setTimeout(()=>{a.value&&(o.value=!0)},500)},u=()=>{a.value=!1,i.value=!1,clearTimeout(r.value),o.value=!1},l=f=>{const p=!n.value[f].show;c(),n.value[f].show=p};return(f,p)=>(s.openBlock(),s.createElementBlock("div",{class:s.normalizeClass([{"open-set":o.value,"hovered-and-closed":i.value},"action-set collapse"]),onMouseover:d,onMouseleave:u},[s.createElementVNode("div",To,[s.createElementVNode("div",{id:"chevron",onClick:p[0]||(p[0]=h=>i.value=!i.value)},Ao)]),Do,(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(n.value,(h,g)=>(s.openBlock(),s.createElementBlock("div",{class:"action-element",key:g},[h.elementType=="button"?(s.openBlock(),s.createElementBlock("button",{key:0,onclick:h.action,class:"button-default"},s.toDisplayString(h.label),9,Vo)):s.createCommentVNode("",!0),h.elementType=="dropdown"?(s.openBlock(),s.createElementBlock("div",Bo,[s.createElementVNode("button",{class:"button-default",onClick:y=>l(g)},s.toDisplayString(h.label),9,Mo),s.withDirectives(s.createElementVNode("div",Lo,[s.createElementVNode("div",jo,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(h.actions,y=>(s.openBlock(),s.createElementBlock("div",{key:y.label},[y.action!=null?(s.openBlock(),s.createElementBlock("button",{key:0,onclick:y.action,class:"dropdown-item"},s.toDisplayString(y.label),9,Uo)):y.link!=null?(s.openBlock(),s.createElementBlock("a",{key:1,href:y.link},[s.createElementVNode("button",Fo,s.toDisplayString(y.label),1)],8,Ho)):s.createCommentVNode("",!0)]))),128))])],512),[[s.vShow,h.show]])])):s.createCommentVNode("",!0)]))),128))],34))}}),Xi="",ze=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},$t=ze(Wo,[["__scopeId","data-v-b7fdfbec"]]),zo={};function Go(e,t){return s.openBlock(),s.createElementBlock("dialog")}const xt=ze(zo,[["render",Go]]),Qo=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n};var Rt;typeof window<"u"&&(Rt=window==null?void 0:window.navigator)!=null&&Rt.userAgent&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Ko(e){return e}const Tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},At="__vueuse_ssr_handlers__";Tt[At]=Tt[At]||{};var Dt;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Dt||(Dt={}));var qo=Object.defineProperty,Vt=Object.getOwnPropertySymbols,Jo=Object.prototype.hasOwnProperty,Yo=Object.prototype.propertyIsEnumerable,Bt=(e,t,n)=>t in e?qo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xo=(e,t)=>{for(var n in t||(t={}))Jo.call(t,n)&&Bt(e,n,t[n]);if(Vt)for(var n of Vt(t))Yo.call(t,n)&&Bt(e,n,t[n]);return e};Xo({linear:Ko},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});const Zo=Qo(s.defineComponent({__name:"AForm",props:{modelValue:null,data:null,readonly:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=s.ref(n.data||{}),r=i=>{let c={};for(const[d,u]of Object.entries(i))["component","fieldtype"].includes(d)||(c[d]=u),d==="rows"&&u&&u.length===0&&(c.rows=o.value[i.fieldname]);return c},a=s.computed({get:()=>n.modelValue.map((i,c)=>s.computed({get(){return i.value},set:d=>{n.modelValue[c].value=d,t("update:modelValue",n.modelValue)}})),set:()=>{}});return(i,c)=>(s.openBlock(),s.createElementBlock("form",null,[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(e.modelValue,(d,u)=>(s.openBlock(),s.createBlock(s.resolveDynamicComponent(d.component),s.mergeProps({key:u,schema:d,modelValue:s.unref(a)[u].value,"onUpdate:modelValue":l=>s.unref(a)[u].value=l,data:o.value[d.fieldname],readonly:e.readonly},r(d)),null,16,["schema","modelValue","onUpdate:modelValue","data","readonly"]))),128))]))}}),[["__scopeId","data-v-74d66cf2"]]),Mt={date:"##/##/####",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"};function er(e){try{return Function(`"use strict";return (${e})`)()}catch{}}function tr(e){var t;let n=e.value;if(n){const o=er(n);if(o){const r=e.instance.locale;n=o(r)}}else{const o=(t=e.instance.schema.fieldtype)==null?void 0:t.toLowerCase();o&&Mt[o]&&(n=Mt[o])}return n}function nr(e,t){t||(t="#");let n=e;const o=[t,"/","-","(",")"," "];for(const r of o)n=n.replaceAll(r,"");return n}function or(e,t,n){n||(n="#");let o=t;for(const r of e){const a=o.indexOf(n);if(a!==-1){const i=o.substring(0,a),c=o.substring(a+1);o=i+r+c}}return o.slice(0,t.length)}function rr(e,t){const n=tr(t);if(!n)return;const o="#",r=e.value,a=nr(r,o);if(a){const i=or(a,n,o);t.instance.maskFilled&&(t.instance.maskFilled=!i.includes(o)),e.value=i}else e.value=n}s.defineComponent({name:"ATextInput",props:{schema:{type:Object,required:!0},label:{type:String,required:!0},modelValue:{type:null},mask:{type:String},required:{type:Boolean},readonly:{type:Boolean},uuid:{type:String},validation:{type:Object,default:()=>({errorMessage:"&nbsp;"})}},setup(e,t){const n=s.ref(!1),o=s.inject("locale","");return{inputText:s.computed({get(){return e.modelValue},set(r){t.emit("update:modelValue",r)}}),locale:o,maskFilled:n}},directives:{mask:rr}});let sr=class Fe{constructor(t,n,o,r,a){if(this.name="Stonecrop",Fe._root)return Fe._root;Fe._root=this,this.registry=t,this.store=n,this.schema=o,this.workflow=r,this.actions=a}setup(t){this.getMeta(t),this.getWorkflow(t),this.getActions(t)}getMeta(t){this.schema={doctype:t.doctype,schema:t.schema}}getWorkflow(t){const n=this.registry.registry[t.slug];this.workflow=n.workflow}getActions(t){const n=this.registry.registry[t.slug];this.actions=n.actions}async getRecords(t,n){this.store.$patch({records:[]});const r=await(await fetch(`/${t.slug}`,n)).json();this.store.$patch({records:r})}async getRecord(t,n){this.store.$patch({record:{}});const r=await(await fetch(`/${t.slug}/${n}`)).json();this.store.$patch({record:r})}runAction(t,n,o){const a=this.registry.registry[t.slug].actions.get(n),{initialState:i}=this.workflow;this.workflow.transition(i,{type:n}),a.length>0&&a.forEach(c=>{new Function(c)(o)})}};var Lt=!1;function $e(e,t,n){return Array.isArray(e)?(e.length=Math.max(e.length,t),e.splice(t,1,n),n):(e[t]=n,n)}function Ge(e,t){if(Array.isArray(e)){e.splice(t,1);return}delete e[t]}function ar(){return jt().__VUE_DEVTOOLS_GLOBAL_HOOK__}function jt(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const ir=typeof Proxy=="function",cr="devtools-plugin:setup",lr="plugin:settings:set";let pe,Qe;function ur(){var e;return pe!==void 0||(typeof window<"u"&&window.performance?(pe=!0,Qe=window.performance):typeof global<"u"&&(!((e=global.perf_hooks)===null||e===void 0)&&e.performance)?(pe=!0,Qe=global.perf_hooks.performance):pe=!1),pe}function dr(){return ur()?Qe.now():Date.now()}class fr{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const o={};if(t.settings)for(const i in t.settings){const c=t.settings[i];o[i]=c.defaultValue}const r=`__vue-devtools-plugin-settings__${t.id}`;let a=Object.assign({},o);try{const i=localStorage.getItem(r),c=JSON.parse(i);Object.assign(a,c)}catch{}this.fallbacks={getSettings(){return a},setSettings(i){try{localStorage.setItem(r,JSON.stringify(i))}catch{}a=i},now(){return dr()}},n&&n.on(lr,(i,c)=>{i===this.plugin.id&&this.fallbacks.setSettings(c)}),this.proxiedOn=new Proxy({},{get:(i,c)=>this.target?this.target.on[c]:(...d)=>{this.onQueue.push({method:c,args:d})}}),this.proxiedTarget=new Proxy({},{get:(i,c)=>this.target?this.target[c]:c==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(c)?(...d)=>(this.targetQueue.push({method:c,args:d,resolve:()=>{}}),this.fallbacks[c](...d)):(...d)=>new Promise(u=>{this.targetQueue.push({method:c,args:d,resolve:u})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function Ke(e,t){const n=e,o=jt(),r=ar(),a=ir&&n.enableEarlyProxy;if(r&&(o.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!a))r.emit(cr,e,t);else{const i=a?new fr(n,r):null;(o.__VUE_DEVTOOLS_PLUGINS__=o.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:i}),i&&t(i.proxiedTarget)}}/*!
  * pinia v2.0.35
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let _e;const ve=e=>_e=e,Ut=process.env.NODE_ENV!=="production"?Symbol("pinia"):Symbol();function ie(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var q;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(q||(q={}));const xe=typeof window<"u",be=(process.env.NODE_ENV!=="production"||!1)&&process.env.NODE_ENV!=="test"&&xe,Ht=(()=>typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null})();function pr(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}function qe(e,t,n){const o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){zt(o.response,t,n)},o.onerror=function(){console.error("could not download file")},o.send()}function Ft(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Re(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}const Te=typeof navigator=="object"?navigator:{userAgent:""},Wt=(()=>/Macintosh/.test(Te.userAgent)&&/AppleWebKit/.test(Te.userAgent)&&!/Safari/.test(Te.userAgent))(),zt=xe?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!Wt?hr:"msSaveOrOpenBlob"in Te?mr:gr:()=>{};function hr(e,t="download",n){const o=document.createElement("a");o.download=t,o.rel="noopener",typeof e=="string"?(o.href=e,o.origin!==location.origin?Ft(o.href)?qe(e,t,n):(o.target="_blank",Re(o)):Re(o)):(o.href=URL.createObjectURL(e),setTimeout(function(){URL.revokeObjectURL(o.href)},4e4),setTimeout(function(){Re(o)},0))}function mr(e,t="download",n){if(typeof e=="string")if(Ft(e))qe(e,t,n);else{const o=document.createElement("a");o.href=e,o.target="_blank",setTimeout(function(){Re(o)})}else navigator.msSaveOrOpenBlob(pr(e,n),t)}function gr(e,t,n,o){if(o=o||open("","_blank"),o&&(o.document.title=o.document.body.innerText="downloading..."),typeof e=="string")return qe(e,t,n);const r=e.type==="application/octet-stream",a=/constructor/i.test(String(Ht.HTMLElement))||"safari"in Ht,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||r&&a||Wt)&&typeof FileReader<"u"){const c=new FileReader;c.onloadend=function(){let d=c.result;if(typeof d!="string")throw o=null,new Error("Wrong reader.result type");d=i?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=d:location.assign(d),o=null},c.readAsDataURL(e)}else{const c=URL.createObjectURL(e);o?o.location.assign(c):location.href=c,o=null,setTimeout(function(){URL.revokeObjectURL(c)},4e4)}}function B(e,t){const n="🍍 "+e;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(n,t):t==="error"?console.error(n):t==="warn"?console.warn(n):console.log(n)}function Je(e){return"_a"in e&&"install"in e}function Gt(){if(!("clipboard"in navigator))return B("Your browser doesn't support the Clipboard API","error"),!0}function Qt(e){return e instanceof Error&&e.message.toLowerCase().includes("document is not focused")?(B('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function yr(e){if(!Gt())try{await navigator.clipboard.writeText(JSON.stringify(e.state.value)),B("Global state copied to clipboard.")}catch(t){if(Qt(t))return;B("Failed to serialize the state. Check the console for more details.","error"),console.error(t)}}async function wr(e){if(!Gt())try{e.state.value=JSON.parse(await navigator.clipboard.readText()),B("Global state pasted from clipboard.")}catch(t){if(Qt(t))return;B("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(t)}}async function _r(e){try{zt(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(t){B("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}let X;function vr(){X||(X=document.createElement("input"),X.type="file",X.accept=".json");function e(){return new Promise((t,n)=>{X.onchange=async()=>{const o=X.files;if(!o)return t(null);const r=o.item(0);return t(r?{text:await r.text(),file:r}:null)},X.oncancel=()=>t(null),X.onerror=n,X.click()})}return e}async function br(e){try{const n=await(await vr())();if(!n)return;const{text:o,file:r}=n;e.state.value=JSON.parse(o),B(`Global state imported from "${r.name}".`)}catch(t){B("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}function K(e){return{_custom:{display:e}}}const Kt="🍍 Pinia (root)",Ye="_root";function Er(e){return Je(e)?{id:Ye,label:Kt}:{id:e.$id,label:e.$id}}function kr(e){if(Je(e)){const n=Array.from(e._s.keys()),o=e._s;return{state:n.map(a=>({editable:!0,key:a,value:e.state.value[a]})),getters:n.filter(a=>o.get(a)._getters).map(a=>{const i=o.get(a);return{editable:!1,key:a,value:i._getters.reduce((c,d)=>(c[d]=i[d],c),{})}})}}const t={state:Object.keys(e.$state).map(n=>({editable:!0,key:n,value:e.$state[n]}))};return e._getters&&e._getters.length&&(t.getters=e._getters.map(n=>({editable:!1,key:n,value:e[n]}))),e._customProperties.size&&(t.customProperties=Array.from(e._customProperties).map(n=>({editable:!0,key:n,value:e[n]}))),t}function Sr(e){return e?Array.isArray(e)?e.reduce((t,n)=>(t.keys.push(n.key),t.operations.push(n.type),t.oldValue[n.key]=n.oldValue,t.newValue[n.key]=n.newValue,t),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:K(e.type),key:K(e.key),oldValue:e.oldValue,newValue:e.newValue}:{}}function Ir(e){switch(e){case q.direct:return"mutation";case q.patchFunction:return"$patch";case q.patchObject:return"$patch";default:return"unknown"}}let he=!0;const Ae=[],ce="pinia:mutations",j="pinia",{assign:Or}=Object,De=e=>"🍍 "+e;function Nr(e,t){Ke({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Ae,app:e},n=>{typeof n.now!="function"&&B("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:ce,label:"Pinia 🍍",color:15064968}),n.addInspector({id:j,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{yr(t)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await wr(t),n.sendInspectorTree(j),n.sendInspectorState(j)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{_r(t)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await br(t),n.sendInspectorTree(j),n.sendInspectorState(j)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:"Reset the state (option store only)",action:o=>{const r=t._s.get(o);r?r._isOptionsAPI?(r.$reset(),B(`Store "${o}" reset.`)):B(`Cannot reset "${o}" store because it's a setup store.`,"warn"):B(`Cannot reset "${o}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent((o,r)=>{const a=o.componentInstance&&o.componentInstance.proxy;if(a&&a._pStores){const i=o.componentInstance.proxy._pStores;Object.values(i).forEach(c=>{o.instanceData.state.push({type:De(c.$id),key:"state",editable:!0,value:c._isOptionsAPI?{_custom:{value:s.toRaw(c.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>c.$reset()}]}}:Object.keys(c.$state).reduce((d,u)=>(d[u]=c.$state[u],d),{})}),c._getters&&c._getters.length&&o.instanceData.state.push({type:De(c.$id),key:"getters",editable:!1,value:c._getters.reduce((d,u)=>{try{d[u]=c[u]}catch(l){d[u]=l}return d},{})})})}}),n.on.getInspectorTree(o=>{if(o.app===e&&o.inspectorId===j){let r=[t];r=r.concat(Array.from(t._s.values())),o.rootNodes=(o.filter?r.filter(a=>"$id"in a?a.$id.toLowerCase().includes(o.filter.toLowerCase()):Kt.toLowerCase().includes(o.filter.toLowerCase())):r).map(Er)}}),n.on.getInspectorState(o=>{if(o.app===e&&o.inspectorId===j){const r=o.nodeId===Ye?t:t._s.get(o.nodeId);if(!r)return;r&&(o.state=kr(r))}}),n.on.editInspectorState((o,r)=>{if(o.app===e&&o.inspectorId===j){const a=o.nodeId===Ye?t:t._s.get(o.nodeId);if(!a)return B(`store "${o.nodeId}" not found`,"error");const{path:i}=o;Je(a)?i.unshift("state"):(i.length!==1||!a._customProperties.has(i[0])||i[0]in a.$state)&&i.unshift("$state"),he=!1,o.set(a,i,o.state.value),he=!0}}),n.on.editComponentState(o=>{if(o.type.startsWith("🍍")){const r=o.type.replace(/^🍍\s*/,""),a=t._s.get(r);if(!a)return B(`store "${r}" not found`,"error");const{path:i}=o;if(i[0]!=="state")return B(`Invalid path for store "${r}":
${i}
Only state can be modified.`);i[0]="$state",he=!1,o.set(a,i,o.state.value),he=!0}})})}function Pr(e,t){Ae.includes(De(t.$id))||Ae.push(De(t.$id)),Ke({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Ae,app:e,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},n=>{const o=typeof n.now=="function"?n.now.bind(n):Date.now;t.$onAction(({after:i,onError:c,name:d,args:u})=>{const l=qt++;n.addTimelineEvent({layerId:ce,event:{time:o(),title:"🛫 "+d,subtitle:"start",data:{store:K(t.$id),action:K(d),args:u},groupId:l}}),i(f=>{le=void 0,n.addTimelineEvent({layerId:ce,event:{time:o(),title:"🛬 "+d,subtitle:"end",data:{store:K(t.$id),action:K(d),args:u,result:f},groupId:l}})}),c(f=>{le=void 0,n.addTimelineEvent({layerId:ce,event:{time:o(),logType:"error",title:"💥 "+d,subtitle:"end",data:{store:K(t.$id),action:K(d),args:u,error:f},groupId:l}})})},!0),t._customProperties.forEach(i=>{s.watch(()=>s.unref(t[i]),(c,d)=>{n.notifyComponentUpdate(),n.sendInspectorState(j),he&&n.addTimelineEvent({layerId:ce,event:{time:o(),title:"Change",subtitle:i,data:{newValue:c,oldValue:d},groupId:le}})},{deep:!0})}),t.$subscribe(({events:i,type:c},d)=>{if(n.notifyComponentUpdate(),n.sendInspectorState(j),!he)return;const u={time:o(),title:Ir(c),data:Or({store:K(t.$id)},Sr(i)),groupId:le};le=void 0,c===q.patchFunction?u.subtitle="⤵️":c===q.patchObject?u.subtitle="🧩":i&&!Array.isArray(i)&&(u.subtitle=i.type),i&&(u.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:i}}),n.addTimelineEvent({layerId:ce,event:u})},{detached:!0,flush:"sync"});const r=t._hotUpdate;t._hotUpdate=s.markRaw(i=>{r(i),n.addTimelineEvent({layerId:ce,event:{time:o(),title:"🔥 "+t.$id,subtitle:"HMR update",data:{store:K(t.$id),info:K("HMR update")}}}),n.notifyComponentUpdate(),n.sendInspectorTree(j),n.sendInspectorState(j)});const{$dispose:a}=t;t.$dispose=()=>{a(),n.notifyComponentUpdate(),n.sendInspectorTree(j),n.sendInspectorState(j),n.getSettings().logStoreChanges&&B(`Disposed "${t.$id}" store 🗑`)},n.notifyComponentUpdate(),n.sendInspectorTree(j),n.sendInspectorState(j),n.getSettings().logStoreChanges&&B(`"${t.$id}" store installed 🆕`)})}let qt=0,le;function Jt(e,t){const n=t.reduce((o,r)=>(o[r]=s.toRaw(e)[r],o),{});for(const o in n)e[o]=function(){const r=qt,a=new Proxy(e,{get(...i){return le=r,Reflect.get(...i)},set(...i){return le=r,Reflect.set(...i)}});return n[o].apply(a,arguments)}}function Cr({app:e,store:t,options:n}){if(!t.$id.startsWith("__hot:")){if(n.state&&(t._isOptionsAPI=!0),typeof n.state=="function"){Jt(t,Object.keys(n.actions));const o=t._hotUpdate;s.toRaw(t)._hotUpdate=function(r){o.apply(this,arguments),Jt(t,Object.keys(r._hmrPayload.actions))}}Pr(e,t)}}function $r(){const e=s.effectScope(!0),t=e.run(()=>s.ref({}));let n=[],o=[];const r=s.markRaw({install(a){ve(r),r._a=a,a.provide(Ut,r),a.config.globalProperties.$pinia=r,be&&Nr(a,r),o.forEach(i=>n.push(i)),o=[]},use(a){return!this._a&&!Lt?o.push(a):n.push(a),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return be&&typeof Proxy<"u"&&r.use(Cr),r}function Yt(e,t){for(const n in t){const o=t[n];if(!(n in e))continue;const r=e[n];ie(r)&&ie(o)&&!s.isRef(o)&&!s.isReactive(o)?e[n]=Yt(r,o):e[n]=o}return e}const Xt=()=>{};function Zt(e,t,n,o=Xt){e.push(t);const r=()=>{const a=e.indexOf(t);a>-1&&(e.splice(a,1),o())};return!n&&s.getCurrentScope()&&s.onScopeDispose(r),r}function me(e,...t){e.slice().forEach(n=>{n(...t)})}function Xe(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,o)=>e.set(o,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const o=t[n],r=e[n];ie(r)&&ie(o)&&e.hasOwnProperty(n)&&!s.isRef(o)&&!s.isReactive(o)?e[n]=Xe(r,o):e[n]=o}return e}const xr=process.env.NODE_ENV!=="production"?Symbol("pinia:skipHydration"):Symbol();function Rr(e){return!ie(e)||!e.hasOwnProperty(xr)}const{assign:z}=Object;function en(e){return!!(s.isRef(e)&&e.effect)}function tn(e,t,n,o){const{state:r,actions:a,getters:i}=t,c=n.state.value[e];let d;function u(){!c&&(process.env.NODE_ENV==="production"||!o)&&(n.state.value[e]=r?r():{});const l=process.env.NODE_ENV!=="production"&&o?s.toRefs(s.ref(r?r():{}).value):s.toRefs(n.state.value[e]);return z(l,a,Object.keys(i||{}).reduce((f,p)=>(process.env.NODE_ENV!=="production"&&p in l&&console.warn(`[🍍]: A getter cannot have the same name as another state property. Rename one of them. Found with "${p}" in store "${e}".`),f[p]=s.markRaw(s.computed(()=>{ve(n);const h=n._s.get(e);return i[p].call(h,h)})),f),{}))}return d=Ze(e,u,t,n,o,!0),d}function Ze(e,t,n={},o,r,a){let i;const c=z({actions:{}},n);if(process.env.NODE_ENV!=="production"&&!o._e.active)throw new Error("Pinia destroyed");const d={deep:!0};process.env.NODE_ENV!=="production"&&!Lt&&(d.onTrigger=k=>{u?h=k:u==!1&&!S._hotUpdating&&(Array.isArray(h)?h.push(k):console.error("🍍 debuggerEvents should be an array. This is most likely an internal Pinia bug."))});let u,l,f=s.markRaw([]),p=s.markRaw([]),h;const g=o.state.value[e];!a&&!g&&(process.env.NODE_ENV==="production"||!r)&&(o.state.value[e]={});const y=s.ref({});let _;function I(k){let v;u=l=!1,process.env.NODE_ENV!=="production"&&(h=[]),typeof k=="function"?(k(o.state.value[e]),v={type:q.patchFunction,storeId:e,events:h}):(Xe(o.state.value[e],k),v={type:q.patchObject,payload:k,storeId:e,events:h});const R=_=Symbol();s.nextTick().then(()=>{_===R&&(u=!0)}),l=!0,me(f,v,o.state.value[e])}const O=a?function(){const{state:v}=n,R=v?v():{};this.$patch(D=>{z(D,R)})}:process.env.NODE_ENV!=="production"?()=>{throw new Error(`🍍: Store "${e}" is built using the setup syntax and does not implement $reset().`)}:Xt;function T(){i.stop(),f=[],p=[],o._s.delete(e)}function L(k,v){return function(){ve(o);const R=Array.from(arguments),D=[],de=[];function Ce(U){D.push(U)}function He(U){de.push(U)}me(p,{args:R,name:k,store:S,after:Ce,onError:He});let Y;try{Y=v.apply(this&&this.$id===e?this:S,R)}catch(U){throw me(de,U),U}return Y instanceof Promise?Y.then(U=>(me(D,U),U)).catch(U=>(me(de,U),Promise.reject(U))):(me(D,Y),Y)}}const G=s.markRaw({actions:{},getters:{},state:[],hotState:y}),Q={_p:o,$id:e,$onAction:Zt.bind(null,p),$patch:I,$reset:O,$subscribe(k,v={}){const R=Zt(f,k,v.detached,()=>D()),D=i.run(()=>s.watch(()=>o.state.value[e],de=>{(v.flush==="sync"?l:u)&&k({storeId:e,type:q.direct,events:h},de)},z({},d,v)));return R},$dispose:T},S=s.reactive(process.env.NODE_ENV!=="production"||be?z({_hmrPayload:G,_customProperties:s.markRaw(new Set)},Q):Q);o._s.set(e,S);const J=o._e.run(()=>(i=s.effectScope(),i.run(()=>t())));for(const k in J){const v=J[k];if(s.isRef(v)&&!en(v)||s.isReactive(v))process.env.NODE_ENV!=="production"&&r?$e(y.value,k,s.toRef(J,k)):a||(g&&Rr(v)&&(s.isRef(v)?v.value=g[k]:Xe(v,g[k])),o.state.value[e][k]=v),process.env.NODE_ENV!=="production"&&G.state.push(k);else if(typeof v=="function"){const R=process.env.NODE_ENV!=="production"&&r?v:L(k,v);J[k]=R,process.env.NODE_ENV!=="production"&&(G.actions[k]=v),c.actions[k]=v}else process.env.NODE_ENV!=="production"&&en(v)&&(G.getters[k]=a?n.getters[k]:v,xe&&(J._getters||(J._getters=s.markRaw([]))).push(k))}if(z(S,J),z(s.toRaw(S),J),Object.defineProperty(S,"$state",{get:()=>process.env.NODE_ENV!=="production"&&r?y.value:o.state.value[e],set:k=>{if(process.env.NODE_ENV!=="production"&&r)throw new Error("cannot set hotState");I(v=>{z(v,k)})}}),process.env.NODE_ENV!=="production"&&(S._hotUpdate=s.markRaw(k=>{S._hotUpdating=!0,k._hmrPayload.state.forEach(v=>{if(v in S.$state){const R=k.$state[v],D=S.$state[v];typeof R=="object"&&ie(R)&&ie(D)?Yt(R,D):k.$state[v]=D}$e(S,v,s.toRef(k.$state,v))}),Object.keys(S.$state).forEach(v=>{v in k.$state||Ge(S,v)}),u=!1,l=!1,o.state.value[e]=s.toRef(k._hmrPayload,"hotState"),l=!0,s.nextTick().then(()=>{u=!0});for(const v in k._hmrPayload.actions){const R=k[v];$e(S,v,L(v,R))}for(const v in k._hmrPayload.getters){const R=k._hmrPayload.getters[v],D=a?s.computed(()=>(ve(o),R.call(S,S))):R;$e(S,v,D)}Object.keys(S._hmrPayload.getters).forEach(v=>{v in k._hmrPayload.getters||Ge(S,v)}),Object.keys(S._hmrPayload.actions).forEach(v=>{v in k._hmrPayload.actions||Ge(S,v)}),S._hmrPayload=k._hmrPayload,S._getters=k._getters,S._hotUpdating=!1})),be){const k={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(v=>{Object.defineProperty(S,v,z({value:S[v]},k))})}return o._p.forEach(k=>{if(be){const v=i.run(()=>k({store:S,app:o._a,pinia:o,options:c}));Object.keys(v||{}).forEach(R=>S._customProperties.add(R)),z(S,v)}else z(S,i.run(()=>k({store:S,app:o._a,pinia:o,options:c})))}),process.env.NODE_ENV!=="production"&&S.$state&&typeof S.$state=="object"&&typeof S.$state.constructor=="function"&&!S.$state.constructor.toString().includes("[native code]")&&console.warn(`[🍍]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${S.$id}".`),g&&a&&n.hydrate&&n.hydrate(S.$state,g),u=!0,l=!0,S}function Tr(e,t,n){let o,r;const a=typeof t=="function";typeof e=="string"?(o=e,r=a?n:t):(r=e,o=e.id);function i(c,d){const u=s.getCurrentInstance();if(c=(process.env.NODE_ENV==="test"&&_e&&_e._testing?null:c)||u&&s.inject(Ut,null),c&&ve(c),process.env.NODE_ENV!=="production"&&!_e)throw new Error(`[🍍]: getActivePinia was called with no active Pinia. Did you forget to install pinia?
	const pinia = createPinia()
	app.use(pinia)
This will fail in production.`);c=_e,c._s.has(o)||(a?Ze(o,t,r,c):tn(o,r,c),process.env.NODE_ENV!=="production"&&(i._pinia=c));const l=c._s.get(o);if(process.env.NODE_ENV!=="production"&&d){const f="__hot:"+o,p=a?Ze(f,t,r,c,!0):tn(f,z({},r),c,!0);d._hotUpdate(p),delete c.state.value[f],c._s.delete(f)}if(process.env.NODE_ENV!=="production"&&xe&&u&&u.proxy&&!d){const f=u.proxy,p="_pStores"in f?f._pStores:f._pStores={};p[o]=l}return l}return i.$id=o,i}const Ar=Tr("data",()=>{const e=s.ref([]),t=s.ref({});return{records:e,record:t}});function nn(e){e||(e=s.inject("$registry"));const t=Ar(),n=s.ref(new sr(e,t)),o=s.ref(!1);return s.onBeforeMount(async()=>{var r,a;const i=e.router.currentRoute.value,c=(r=i.params.records)==null?void 0:r.toString().toLowerCase(),d=(a=i.params.record)==null?void 0:a.toString().toLowerCase();if(!c&&!d)return;const u=await e.doctypeLoader(c);e.addDoctype(u),n.value.setup(u),c&&(d?await n.value.getRecord(u,d):await n.value.getRecords(u)),n.value.runAction(u,"LOAD",d?[d]:void 0),o.value=!0}),{stonecrop:n,isReady:o}}/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Z=typeof window<"u";function Dr(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const $=Object.assign;function et(e,t){const n={};for(const o in t){const r=t[o];n[o]=F(r)?r.map(e):e(r)}return n}const Ee=()=>{},F=Array.isArray;function C(e){const t=Array.from(arguments).slice(1);console.warn.apply(console,["[Vue Router warn]: "+e].concat(t))}const Vr=/\/$/,Br=e=>e.replace(Vr,"");function tt(e,t,n="/"){let o,r={},a="",i="";const c=t.indexOf("#");let d=t.indexOf("?");return c<d&&c>=0&&(d=-1),d>-1&&(o=t.slice(0,d),a=t.slice(d+1,c>-1?c:t.length),r=e(a)),c>-1&&(o=o||t.slice(0,c),i=t.slice(c,t.length)),o=jr(o??t,n),{fullPath:o+(a&&"?")+a+i,path:o,query:r,hash:i}}function Mr(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function on(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function rn(e,t,n){const o=t.matched.length-1,r=n.matched.length-1;return o>-1&&o===r&&re(t.matched[o],n.matched[r])&&sn(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function re(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function sn(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Lr(e[n],t[n]))return!1;return!0}function Lr(e,t){return F(e)?an(e,t):F(t)?an(t,e):e===t}function an(e,t){return F(t)?e.length===t.length&&e.every((n,o)=>n===t[o]):e.length===1&&e[0]===t}function jr(e,t){if(e.startsWith("/"))return e;if(process.env.NODE_ENV!=="production"&&!t.startsWith("/"))return C(`Cannot resolve a relative location without an absolute path. Trying to resolve "${e}" from "${t}". It should look like "/${t}".`),e;if(!e)return t;const n=t.split("/"),o=e.split("/");let r=n.length-1,a,i;for(a=0;a<o.length;a++)if(i=o[a],i!==".")if(i==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+o.slice(a-(a===o.length?1:0)).join("/")}var ke;(function(e){e.pop="pop",e.push="push"})(ke||(ke={}));var Se;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Se||(Se={}));function Ur(e){if(!e)if(Z){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Br(e)}const Hr=/^[^#]+#/;function Fr(e,t){return e.replace(Hr,"#")+t}function Wr(e,t){const n=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-n.left-(t.left||0),top:o.top-n.top-(t.top||0)}}const Ve=()=>({left:window.pageXOffset,top:window.pageYOffset});function zr(e){let t;if("el"in e){const n=e.el,o=typeof n=="string"&&n.startsWith("#");if(process.env.NODE_ENV!=="production"&&typeof e.el=="string"&&(!o||!document.getElementById(e.el.slice(1))))try{const a=document.querySelector(e.el);if(o&&a){C(`The selector "${e.el}" should be passed as "el: document.querySelector('${e.el}')" because it starts with "#".`);return}}catch{C(`The selector "${e.el}" is invalid. If you are using an id selector, make sure to escape it. You can find more information about escaping characters in selectors at https://mathiasbynens.be/notes/css-escapes or use CSS.escape (https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape).`);return}const r=typeof n=="string"?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r){process.env.NODE_ENV!=="production"&&C(`Couldn't find element using selector "${e.el}" returned by scrollBehavior.`);return}t=Wr(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function cn(e,t){return(history.state?history.state.position-t:-1)+e}const nt=new Map;function Gr(e,t){nt.set(e,t)}function Qr(e){const t=nt.get(e);return nt.delete(e),t}let Kr=()=>location.protocol+"//"+location.host;function ln(e,t){const{pathname:n,search:o,hash:r}=t,a=e.indexOf("#");if(a>-1){let c=r.includes(e.slice(a))?e.slice(a).length:1,d=r.slice(c);return d[0]!=="/"&&(d="/"+d),on(d,"")}return on(n,e)+o+r}function qr(e,t,n,o){let r=[],a=[],i=null;const c=({state:p})=>{const h=ln(e,location),g=n.value,y=t.value;let _=0;if(p){if(n.value=h,t.value=p,i&&i===g){i=null;return}_=y?p.position-y.position:0}else o(h);r.forEach(I=>{I(n.value,g,{delta:_,type:ke.pop,direction:_?_>0?Se.forward:Se.back:Se.unknown})})};function d(){i=n.value}function u(p){r.push(p);const h=()=>{const g=r.indexOf(p);g>-1&&r.splice(g,1)};return a.push(h),h}function l(){const{history:p}=window;p.state&&p.replaceState($({},p.state,{scroll:Ve()}),"")}function f(){for(const p of a)p();a=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",l),{pauseListeners:d,listen:u,destroy:f}}function un(e,t,n,o=!1,r=!1){return{back:e,current:t,forward:n,replaced:o,position:window.history.length,scroll:r?Ve():null}}function Jr(e){const{history:t,location:n}=window,o={value:ln(e,n)},r={value:t.state};r.value||a(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(d,u,l){const f=e.indexOf("#"),p=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+d:Kr()+e+d;try{t[l?"replaceState":"pushState"](u,"",p),r.value=u}catch(h){process.env.NODE_ENV!=="production"?C("Error with push/replace State",h):console.error(h),n[l?"replace":"assign"](p)}}function i(d,u){const l=$({},t.state,un(r.value.back,d,r.value.forward,!0),u,{position:r.value.position});a(d,l,!0),o.value=d}function c(d,u){const l=$({},r.value,t.state,{forward:d,scroll:Ve()});process.env.NODE_ENV!=="production"&&!t.state&&C(`history.state seems to have been manually replaced without preserving the necessary values. Make sure to preserve existing history state if you are manually calling history.replaceState:

history.replaceState(history.state, '', url)

You can find more information at https://next.router.vuejs.org/guide/migration/#usage-of-history-state.`),a(l.current,l,!0);const f=$({},un(o.value,d,null),{position:l.position+1},u);a(d,f,!1),o.value=d}return{location:o,state:r,push:c,replace:i}}function Yr(e){e=Ur(e);const t=Jr(e),n=qr(e,t.state,t.location,t.replace);function o(a,i=!0){i||n.pauseListeners(),history.go(a)}const r=$({location:"",base:e,go:o,createHref:Fr.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function Xr(e){return typeof e=="string"||e&&typeof e=="object"}function dn(e){return typeof e=="string"||typeof e=="symbol"}const se={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},ot=Symbol(process.env.NODE_ENV!=="production"?"navigation failure":"");var fn;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(fn||(fn={}));const Zr={[1]({location:e,currentLocation:t}){return`No match for
 ${JSON.stringify(e)}${t?`
while being at
`+JSON.stringify(t):""}`},[2]({from:e,to:t}){return`Redirected from "${e.fullPath}" to "${ts(t)}" via a navigation guard.`},[4]({from:e,to:t}){return`Navigation aborted from "${e.fullPath}" to "${t.fullPath}" via a navigation guard.`},[8]({from:e,to:t}){return`Navigation cancelled from "${e.fullPath}" to "${t.fullPath}" with a new navigation.`},[16]({from:e,to:t}){return`Avoided redundant navigation to current location: "${e.fullPath}".`}};function ge(e,t){return process.env.NODE_ENV!=="production"?$(new Error(Zr[e](t)),{type:e,[ot]:!0},t):$(new Error,{type:e,[ot]:!0},t)}function ee(e,t){return e instanceof Error&&ot in e&&(t==null||!!(e.type&t))}const es=["params","query","hash"];function ts(e){if(typeof e=="string")return e;if("path"in e)return e.path;const t={};for(const n of es)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}const pn="[^/]+?",ns={sensitive:!1,strict:!1,start:!0,end:!0},os=/[.+*?^${}()[\]/\\]/g;function rs(e,t){const n=$({},ns,t),o=[];let r=n.start?"^":"";const a=[];for(const u of e){const l=u.length?[]:[90];n.strict&&!u.length&&(r+="/");for(let f=0;f<u.length;f++){const p=u[f];let h=40+(n.sensitive?.25:0);if(p.type===0)f||(r+="/"),r+=p.value.replace(os,"\\$&"),h+=40;else if(p.type===1){const{value:g,repeatable:y,optional:_,regexp:I}=p;a.push({name:g,repeatable:y,optional:_});const O=I||pn;if(O!==pn){h+=10;try{new RegExp(`(${O})`)}catch(L){throw new Error(`Invalid custom RegExp for param "${g}" (${O}): `+L.message)}}let T=y?`((?:${O})(?:/(?:${O}))*)`:`(${O})`;f||(T=_&&u.length<2?`(?:/${T})`:"/"+T),_&&(T+="?"),r+=T,h+=20,_&&(h+=-8),y&&(h+=-20),O===".*"&&(h+=-50)}l.push(h)}o.push(l)}if(n.strict&&n.end){const u=o.length-1;o[u][o[u].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const i=new RegExp(r,n.sensitive?"":"i");function c(u){const l=u.match(i),f={};if(!l)return null;for(let p=1;p<l.length;p++){const h=l[p]||"",g=a[p-1];f[g.name]=h&&g.repeatable?h.split("/"):h}return f}function d(u){let l="",f=!1;for(const p of e){(!f||!l.endsWith("/"))&&(l+="/"),f=!1;for(const h of p)if(h.type===0)l+=h.value;else if(h.type===1){const{value:g,repeatable:y,optional:_}=h,I=g in u?u[g]:"";if(F(I)&&!y)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const O=F(I)?I.join("/"):I;if(!O)if(_)p.length<2&&(l.endsWith("/")?l=l.slice(0,-1):f=!0);else throw new Error(`Missing required param "${g}"`);l+=O}}return l||"/"}return{re:i,score:o,keys:a,parse:c,stringify:d}}function ss(e,t){let n=0;for(;n<e.length&&n<t.length;){const o=t[n]-e[n];if(o)return o;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function as(e,t){let n=0;const o=e.score,r=t.score;for(;n<o.length&&n<r.length;){const a=ss(o[n],r[n]);if(a)return a;n++}if(Math.abs(r.length-o.length)===1){if(hn(o))return 1;if(hn(r))return-1}return r.length-o.length}function hn(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const is={type:0,value:""},cs=/[a-zA-Z0-9_]/;function ls(e){if(!e)return[[]];if(e==="/")return[[is]];if(!e.startsWith("/"))throw new Error(process.env.NODE_ENV!=="production"?`Route paths should start with a "/": "${e}" should be "/${e}".`:`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${u}": ${h}`)}let n=0,o=n;const r=[];let a;function i(){a&&r.push(a),a=[]}let c=0,d,u="",l="";function f(){u&&(n===0?a.push({type:0,value:u}):n===1||n===2||n===3?(a.length>1&&(d==="*"||d==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:u,regexp:l,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):t("Invalid state to consume buffer"),u="")}function p(){u+=d}for(;c<e.length;){if(d=e[c++],d==="\\"&&n!==2){o=n,n=4;continue}switch(n){case 0:d==="/"?(u&&f(),i()):d===":"?(f(),n=1):p();break;case 4:p(),n=o;break;case 1:d==="("?n=2:cs.test(d)?p():(f(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&c--);break;case 2:d===")"?l[l.length-1]=="\\"?l=l.slice(0,-1)+d:n=3:l+=d;break;case 3:f(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&c--,l="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),f(),i(),r}function us(e,t,n){const o=rs(ls(e.path),n);if(process.env.NODE_ENV!=="production"){const a=new Set;for(const i of o.keys)a.has(i.name)&&C(`Found duplicated params with name "${i.name}" for path "${e.path}". Only the last one will be available on "$route.params".`),a.add(i.name)}const r=$(o,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function ds(e,t){const n=[],o=new Map;t=yn({strict:!1,end:!0,sensitive:!1},t);function r(l){return o.get(l)}function a(l,f,p){const h=!p,g=fs(l);process.env.NODE_ENV!=="production"&&gs(g,f),g.aliasOf=p&&p.record;const y=yn(t,l),_=[g];if("alias"in l){const T=typeof l.alias=="string"?[l.alias]:l.alias;for(const L of T)_.push($({},g,{components:p?p.record.components:g.components,path:L,aliasOf:p?p.record:g}))}let I,O;for(const T of _){const{path:L}=T;if(f&&L[0]!=="/"){const G=f.record.path,Q=G[G.length-1]==="/"?"":"/";T.path=f.record.path+(L&&Q+L)}if(process.env.NODE_ENV!=="production"&&T.path==="*")throw new Error(`Catch all routes ("*") must now be defined using a param with a custom regexp.
See more at https://next.router.vuejs.org/guide/migration/#removed-star-or-catch-all-routes.`);if(I=us(T,f,y),process.env.NODE_ENV!=="production"&&f&&L[0]==="/"&&ys(I,f),p?(p.alias.push(I),process.env.NODE_ENV!=="production"&&ms(p,I)):(O=O||I,O!==I&&O.alias.push(I),h&&l.name&&!gn(I)&&i(l.name)),g.children){const G=g.children;for(let Q=0;Q<G.length;Q++)a(G[Q],I,p&&p.children[Q])}p=p||I,(I.record.components&&Object.keys(I.record.components).length||I.record.name||I.record.redirect)&&d(I)}return O?()=>{i(O)}:Ee}function i(l){if(dn(l)){const f=o.get(l);f&&(o.delete(l),n.splice(n.indexOf(f),1),f.children.forEach(i),f.alias.forEach(i))}else{const f=n.indexOf(l);f>-1&&(n.splice(f,1),l.record.name&&o.delete(l.record.name),l.children.forEach(i),l.alias.forEach(i))}}function c(){return n}function d(l){let f=0;for(;f<n.length&&as(l,n[f])>=0&&(l.record.path!==n[f].record.path||!wn(l,n[f]));)f++;n.splice(f,0,l),l.record.name&&!gn(l)&&o.set(l.record.name,l)}function u(l,f){let p,h={},g,y;if("name"in l&&l.name){if(p=o.get(l.name),!p)throw ge(1,{location:l});if(process.env.NODE_ENV!=="production"){const O=Object.keys(l.params||{}).filter(T=>!p.keys.find(L=>L.name===T));O.length&&C(`Discarded invalid param(s) "${O.join('", "')}" when navigating. See https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md#414-2022-08-22 for more details.`)}y=p.record.name,h=$(mn(f.params,p.keys.filter(O=>!O.optional).map(O=>O.name)),l.params&&mn(l.params,p.keys.map(O=>O.name))),g=p.stringify(h)}else if("path"in l)g=l.path,process.env.NODE_ENV!=="production"&&!g.startsWith("/")&&C(`The Matcher cannot resolve relative paths but received "${g}". Unless you directly called \`matcher.resolve("${g}")\`, this is probably a bug in vue-router. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/router.`),p=n.find(O=>O.re.test(g)),p&&(h=p.parse(g),y=p.record.name);else{if(p=f.name?o.get(f.name):n.find(O=>O.re.test(f.path)),!p)throw ge(1,{location:l,currentLocation:f});y=p.record.name,h=$({},f.params,l.params),g=p.stringify(h)}const _=[];let I=p;for(;I;)_.unshift(I.record),I=I.parent;return{name:y,path:g,params:h,matched:_,meta:hs(_)}}return e.forEach(l=>a(l)),{addRoute:a,resolve:u,removeRoute:i,getRoutes:c,getRecordMatcher:r}}function mn(e,t){const n={};for(const o of t)o in e&&(n[o]=e[o]);return n}function fs(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:ps(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function ps(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const o in e.components)t[o]=typeof n=="boolean"?n:n[o];return t}function gn(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function hs(e){return e.reduce((t,n)=>$(t,n.meta),{})}function yn(e,t){const n={};for(const o in e)n[o]=o in t?t[o]:e[o];return n}function rt(e,t){return e.name===t.name&&e.optional===t.optional&&e.repeatable===t.repeatable}function ms(e,t){for(const n of e.keys)if(!n.optional&&!t.keys.find(rt.bind(null,n)))return C(`Alias "${t.record.path}" and the original record: "${e.record.path}" must have the exact same param named "${n.name}"`);for(const n of t.keys)if(!n.optional&&!e.keys.find(rt.bind(null,n)))return C(`Alias "${t.record.path}" and the original record: "${e.record.path}" must have the exact same param named "${n.name}"`)}function gs(e,t){t&&t.record.name&&!e.name&&!e.path&&C(`The route named "${String(t.record.name)}" has a child without a name and an empty path. Using that name won't render the empty path child so you probably want to move the name to the child instead. If this is intentional, add a name to the child route to remove the warning.`)}function ys(e,t){for(const n of t.keys)if(!e.keys.find(rt.bind(null,n)))return C(`Absolute path "${e.record.path}" must have the exact same param named "${n.name}" as its parent "${t.record.path}".`)}function wn(e,t){return t.children.some(n=>n===e||wn(e,n))}const _n=/#/g,ws=/&/g,_s=/\//g,vs=/=/g,bs=/\?/g,vn=/\+/g,Es=/%5B/g,ks=/%5D/g,bn=/%5E/g,Ss=/%60/g,En=/%7B/g,Is=/%7C/g,kn=/%7D/g,Os=/%20/g;function st(e){return encodeURI(""+e).replace(Is,"|").replace(Es,"[").replace(ks,"]")}function Ns(e){return st(e).replace(En,"{").replace(kn,"}").replace(bn,"^")}function at(e){return st(e).replace(vn,"%2B").replace(Os,"+").replace(_n,"%23").replace(ws,"%26").replace(Ss,"`").replace(En,"{").replace(kn,"}").replace(bn,"^")}function Ps(e){return at(e).replace(vs,"%3D")}function Cs(e){return st(e).replace(_n,"%23").replace(bs,"%3F")}function $s(e){return e==null?"":Cs(e).replace(_s,"%2F")}function Ie(e){try{return decodeURIComponent(""+e)}catch{process.env.NODE_ENV!=="production"&&C(`Error decoding "${e}". Using original value`)}return""+e}function xs(e){const t={};if(e===""||e==="?")return t;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<o.length;++r){const a=o[r].replace(vn," "),i=a.indexOf("="),c=Ie(i<0?a:a.slice(0,i)),d=i<0?null:Ie(a.slice(i+1));if(c in t){let u=t[c];F(u)||(u=t[c]=[u]),u.push(d)}else t[c]=d}return t}function Sn(e){let t="";for(let n in e){const o=e[n];if(n=Ps(n),o==null){o!==void 0&&(t+=(t.length?"&":"")+n);continue}(F(o)?o.map(a=>a&&at(a)):[o&&at(o)]).forEach(a=>{a!==void 0&&(t+=(t.length?"&":"")+n,a!=null&&(t+="="+a))})}return t}function Rs(e){const t={};for(const n in e){const o=e[n];o!==void 0&&(t[n]=F(o)?o.map(r=>r==null?null:""+r):o==null?o:""+o)}return t}const Ts=Symbol(process.env.NODE_ENV!=="production"?"router view location matched":""),In=Symbol(process.env.NODE_ENV!=="production"?"router view depth":""),it=Symbol(process.env.NODE_ENV!=="production"?"router":""),On=Symbol(process.env.NODE_ENV!=="production"?"route location":""),ct=Symbol(process.env.NODE_ENV!=="production"?"router view location":"");function Oe(){let e=[];function t(o){return e.push(o),()=>{const r=e.indexOf(o);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function ae(e,t,n,o,r){const a=o&&(o.enterCallbacks[r]=o.enterCallbacks[r]||[]);return()=>new Promise((i,c)=>{const d=f=>{f===!1?c(ge(4,{from:n,to:t})):f instanceof Error?c(f):Xr(f)?c(ge(2,{from:t,to:f})):(a&&o.enterCallbacks[r]===a&&typeof f=="function"&&a.push(f),i())},u=e.call(o&&o.instances[r],t,n,process.env.NODE_ENV!=="production"?As(d,t,n):d);let l=Promise.resolve(u);if(e.length<3&&(l=l.then(d)),process.env.NODE_ENV!=="production"&&e.length>2){const f=`The "next" callback was never called inside of ${e.name?'"'+e.name+'"':""}:
${e.toString()}
. If you are returning a value instead of calling "next", make sure to remove the "next" parameter from your function.`;if(typeof u=="object"&&"then"in u)l=l.then(p=>d._called?p:(C(f),Promise.reject(new Error("Invalid navigation guard"))));else if(u!==void 0&&!d._called){C(f),c(new Error("Invalid navigation guard"));return}}l.catch(f=>c(f))})}function As(e,t,n){let o=0;return function(){o++===1&&C(`The "next" callback was called more than once in one navigation guard when going from "${n.fullPath}" to "${t.fullPath}". It should be called exactly one time in each navigation guard. This will fail in production.`),e._called=!0,o===1&&e.apply(null,arguments)}}function lt(e,t,n,o){const r=[];for(const a of e){process.env.NODE_ENV!=="production"&&!a.components&&!a.children.length&&C(`Record with path "${a.path}" is either missing a "component(s)" or "children" property.`);for(const i in a.components){let c=a.components[i];if(process.env.NODE_ENV!=="production"){if(!c||typeof c!="object"&&typeof c!="function")throw C(`Component "${i}" in record with path "${a.path}" is not a valid component. Received "${String(c)}".`),new Error("Invalid route component");if("then"in c){C(`Component "${i}" in record with path "${a.path}" is a Promise instead of a function that returns a Promise. Did you write "import('./MyPage.vue')" instead of "() => import('./MyPage.vue')" ? This will break in production if not fixed.`);const d=c;c=()=>d}else c.__asyncLoader&&!c.__warnedDefineAsync&&(c.__warnedDefineAsync=!0,C(`Component "${i}" in record with path "${a.path}" is defined using "defineAsyncComponent()". Write "() => import('./MyPage.vue')" instead of "defineAsyncComponent(() => import('./MyPage.vue'))".`))}if(!(t!=="beforeRouteEnter"&&!a.instances[i]))if(Ds(c)){const u=(c.__vccOpts||c)[t];u&&r.push(ae(u,n,o,a,i))}else{let d=c();process.env.NODE_ENV!=="production"&&!("catch"in d)&&(C(`Component "${i}" in record with path "${a.path}" is a function that does not return a Promise. If you were passing a functional component, make sure to add a "displayName" to the component. This will break in production if not fixed.`),d=Promise.resolve(d)),r.push(()=>d.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${i}" at "${a.path}"`));const l=Dr(u)?u.default:u;a.components[i]=l;const p=(l.__vccOpts||l)[t];return p&&ae(p,n,o,a,i)()}))}}}return r}function Ds(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Nn(e){const t=s.inject(it),n=s.inject(On),o=s.computed(()=>t.resolve(s.unref(e.to))),r=s.computed(()=>{const{matched:d}=o.value,{length:u}=d,l=d[u-1],f=n.matched;if(!l||!f.length)return-1;const p=f.findIndex(re.bind(null,l));if(p>-1)return p;const h=Pn(d[u-2]);return u>1&&Pn(l)===h&&f[f.length-1].path!==h?f.findIndex(re.bind(null,d[u-2])):p}),a=s.computed(()=>r.value>-1&&Ms(n.params,o.value.params)),i=s.computed(()=>r.value>-1&&r.value===n.matched.length-1&&sn(n.params,o.value.params));function c(d={}){return Bs(d)?t[s.unref(e.replace)?"replace":"push"](s.unref(e.to)).catch(Ee):Promise.resolve()}if(process.env.NODE_ENV!=="production"&&Z){const d=s.getCurrentInstance();if(d){const u={route:o.value,isActive:a.value,isExactActive:i.value};d.__vrl_devtools=d.__vrl_devtools||[],d.__vrl_devtools.push(u),s.watchEffect(()=>{u.route=o.value,u.isActive=a.value,u.isExactActive=i.value},{flush:"post"})}}return{route:o,href:s.computed(()=>o.value.href),isActive:a,isExactActive:i,navigate:c}}const Vs=s.defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Nn,setup(e,{slots:t}){const n=s.reactive(Nn(e)),{options:o}=s.inject(it),r=s.computed(()=>({[Cn(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[Cn(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const a=t.default&&t.default(n);return e.custom?a:s.h("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},a)}}});function Bs(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Ms(e,t){for(const n in t){const o=t[n],r=e[n];if(typeof o=="string"){if(o!==r)return!1}else if(!F(r)||r.length!==o.length||o.some((a,i)=>a!==r[i]))return!1}return!0}function Pn(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Cn=(e,t,n)=>e??t??n,Ls=s.defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){process.env.NODE_ENV!=="production"&&Us();const o=s.inject(ct),r=s.computed(()=>e.route||o.value),a=s.inject(In,0),i=s.computed(()=>{let u=s.unref(a);const{matched:l}=r.value;let f;for(;(f=l[u])&&!f.components;)u++;return u}),c=s.computed(()=>r.value.matched[i.value]);s.provide(In,s.computed(()=>i.value+1)),s.provide(Ts,c),s.provide(ct,r);const d=s.ref();return s.watch(()=>[d.value,c.value,e.name],([u,l,f],[p,h,g])=>{l&&(l.instances[f]=u,h&&h!==l&&u&&u===p&&(l.leaveGuards.size||(l.leaveGuards=h.leaveGuards),l.updateGuards.size||(l.updateGuards=h.updateGuards))),u&&l&&(!h||!re(l,h)||!p)&&(l.enterCallbacks[f]||[]).forEach(y=>y(u))},{flush:"post"}),()=>{const u=r.value,l=e.name,f=c.value,p=f&&f.components[l];if(!p)return $n(n.default,{Component:p,route:u});const h=f.props[l],g=h?h===!0?u.params:typeof h=="function"?h(u):h:null,y=I=>{I.component.isUnmounted&&(f.instances[l]=null)},_=s.h(p,$({},g,t,{onVnodeUnmounted:y,ref:d}));if(process.env.NODE_ENV!=="production"&&Z&&_.ref){const I={depth:i.value,name:f.name,path:f.path,meta:f.meta};(F(_.ref)?_.ref.map(T=>T.i):[_.ref.i]).forEach(T=>{T.__vrv_devtools=I})}return $n(n.default,{Component:_,route:u})||_}}});function $n(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const js=Ls;function Us(){const e=s.getCurrentInstance(),t=e.parent&&e.parent.type.name;if(t&&(t==="KeepAlive"||t.includes("Transition"))){const n=t==="KeepAlive"?"keep-alive":"transition";C(`<router-view> can no longer be used directly inside <transition> or <keep-alive>.
Use slot props instead:

<router-view v-slot="{ Component }">
  <${n}>
    <component :is="Component" />
  </${n}>
</router-view>`)}}function Ne(e,t){const n=$({},e,{matched:e.matched.map(o=>Js(o,["instances","children","aliasOf"]))});return{_custom:{type:null,readOnly:!0,display:e.fullPath,tooltip:t,value:n}}}function Be(e){return{_custom:{display:e}}}let Hs=0;function Fs(e,t,n){if(t.__hasDevtools)return;t.__hasDevtools=!0;const o=Hs++;Ke({id:"org.vuejs.router"+(o?"."+o:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:e},r=>{typeof r.now!="function"&&console.warn("[Vue Router]: You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),r.on.inspectComponent((l,f)=>{l.instanceData&&l.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:Ne(t.currentRoute.value,"Current Route")})}),r.on.visitComponentTree(({treeNode:l,componentInstance:f})=>{if(f.__vrv_devtools){const p=f.__vrv_devtools;l.tags.push({label:(p.name?`${p.name.toString()}: `:"")+p.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:xn})}F(f.__vrl_devtools)&&(f.__devtoolsApi=r,f.__vrl_devtools.forEach(p=>{let h=An,g="";p.isExactActive?(h=Tn,g="This is exactly active"):p.isActive&&(h=Rn,g="This link is active"),l.tags.push({label:p.route.path,textColor:0,tooltip:g,backgroundColor:h})}))}),s.watch(t.currentRoute,()=>{d(),r.notifyComponentUpdate(),r.sendInspectorTree(c),r.sendInspectorState(c)});const a="router:navigations:"+o;r.addTimelineLayer({id:a,label:`Router${o?" "+o:""} Navigations`,color:4237508}),t.onError((l,f)=>{r.addTimelineEvent({layerId:a,event:{title:"Error during Navigation",subtitle:f.fullPath,logType:"error",time:r.now(),data:{error:l},groupId:f.meta.__navigationId}})});let i=0;t.beforeEach((l,f)=>{const p={guard:Be("beforeEach"),from:Ne(f,"Current Location during this navigation"),to:Ne(l,"Target location")};Object.defineProperty(l.meta,"__navigationId",{value:i++}),r.addTimelineEvent({layerId:a,event:{time:r.now(),title:"Start of navigation",subtitle:l.fullPath,data:p,groupId:l.meta.__navigationId}})}),t.afterEach((l,f,p)=>{const h={guard:Be("afterEach")};p?(h.failure={_custom:{type:Error,readOnly:!0,display:p?p.message:"",tooltip:"Navigation Failure",value:p}},h.status=Be("❌")):h.status=Be("✅"),h.from=Ne(f,"Current Location during this navigation"),h.to=Ne(l,"Target location"),r.addTimelineEvent({layerId:a,event:{title:"End of navigation",subtitle:l.fullPath,time:r.now(),data:h,logType:p?"warning":"default",groupId:l.meta.__navigationId}})});const c="router-inspector:"+o;r.addInspector({id:c,label:"Routes"+(o?" "+o:""),icon:"book",treeFilterPlaceholder:"Search routes"});function d(){if(!u)return;const l=u;let f=n.getRoutes().filter(p=>!p.parent);f.forEach(Bn),l.filter&&(f=f.filter(p=>ut(p,l.filter.toLowerCase()))),f.forEach(p=>Vn(p,t.currentRoute.value)),l.rootNodes=f.map(Dn)}let u;r.on.getInspectorTree(l=>{u=l,l.app===e&&l.inspectorId===c&&d()}),r.on.getInspectorState(l=>{if(l.app===e&&l.inspectorId===c){const p=n.getRoutes().find(h=>h.record.__vd_id===l.nodeId);p&&(l.state={options:zs(p)})}}),r.sendInspectorTree(c),r.sendInspectorState(c)})}function Ws(e){return e.optional?e.repeatable?"*":"?":e.repeatable?"+":""}function zs(e){const{record:t}=e,n=[{editable:!1,key:"path",value:t.path}];return t.name!=null&&n.push({editable:!1,key:"name",value:t.name}),n.push({editable:!1,key:"regexp",value:e.re}),e.keys.length&&n.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:e.keys.map(o=>`${o.name}${Ws(o)}`).join(" "),tooltip:"Param keys",value:e.keys}}}),t.redirect!=null&&n.push({editable:!1,key:"redirect",value:t.redirect}),e.alias.length&&n.push({editable:!1,key:"aliases",value:e.alias.map(o=>o.record.path)}),Object.keys(e.record.meta).length&&n.push({editable:!1,key:"meta",value:e.record.meta}),n.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:e.score.map(o=>o.join(", ")).join(" | "),tooltip:"Score used to sort routes",value:e.score}}}),n}const xn=15485081,Rn=2450411,Tn=8702998,Gs=2282478,An=16486972,Qs=6710886;function Dn(e){const t=[],{record:n}=e;n.name!=null&&t.push({label:String(n.name),textColor:0,backgroundColor:Gs}),n.aliasOf&&t.push({label:"alias",textColor:0,backgroundColor:An}),e.__vd_match&&t.push({label:"matches",textColor:0,backgroundColor:xn}),e.__vd_exactActive&&t.push({label:"exact",textColor:0,backgroundColor:Tn}),e.__vd_active&&t.push({label:"active",textColor:0,backgroundColor:Rn}),n.redirect&&t.push({label:typeof n.redirect=="string"?`redirect: ${n.redirect}`:"redirects",textColor:16777215,backgroundColor:Qs});let o=n.__vd_id;return o==null&&(o=String(Ks++),n.__vd_id=o),{id:o,label:n.path,tags:t,children:e.children.map(Dn)}}let Ks=0;const qs=/^\/(.*)\/([a-z]*)$/;function Vn(e,t){const n=t.matched.length&&re(t.matched[t.matched.length-1],e.record);e.__vd_exactActive=e.__vd_active=n,n||(e.__vd_active=t.matched.some(o=>re(o,e.record))),e.children.forEach(o=>Vn(o,t))}function Bn(e){e.__vd_match=!1,e.children.forEach(Bn)}function ut(e,t){const n=String(e.re).match(qs);if(e.__vd_match=!1,!n||n.length<3)return!1;if(new RegExp(n[1].replace(/\$$/,""),n[2]).test(t))return e.children.forEach(i=>ut(i,t)),e.record.path!=="/"||t==="/"?(e.__vd_match=e.re.test(t),!0):!1;const r=e.record.path.toLowerCase(),a=Ie(r);return!t.startsWith("/")&&(a.includes(t)||r.includes(t))||a.startsWith(t)||r.startsWith(t)||e.record.name&&String(e.record.name).includes(t)?!0:e.children.some(i=>ut(i,t))}function Js(e,t){const n={};for(const o in e)t.includes(o)||(n[o]=e[o]);return n}function Ys(e){const t=ds(e.routes,e),n=e.parseQuery||xs,o=e.stringifyQuery||Sn,r=e.history;if(process.env.NODE_ENV!=="production"&&!r)throw new Error('Provide the "history" option when calling "createRouter()": https://next.router.vuejs.org/api/#history.');const a=Oe(),i=Oe(),c=Oe(),d=s.shallowRef(se);let u=se;Z&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=et.bind(null,m=>""+m),f=et.bind(null,$s),p=et.bind(null,Ie);function h(m,b){let w,E;return dn(m)?(w=t.getRecordMatcher(m),E=b):E=m,t.addRoute(E,w)}function g(m){const b=t.getRecordMatcher(m);b?t.removeRoute(b):process.env.NODE_ENV!=="production"&&C(`Cannot remove non-existent route "${String(m)}"`)}function y(){return t.getRoutes().map(m=>m.record)}function _(m){return!!t.getRecordMatcher(m)}function I(m,b){if(b=$({},b||d.value),typeof m=="string"){const N=tt(n,m,b.path),A=t.resolve({path:N.path},b),fe=r.createHref(N.fullPath);return process.env.NODE_ENV!=="production"&&(fe.startsWith("//")?C(`Location "${m}" resolved to "${fe}". A resolved location cannot start with multiple slashes.`):A.matched.length||C(`No match found for location with path "${m}"`)),$(N,A,{params:p(A.params),hash:Ie(N.hash),redirectedFrom:void 0,href:fe})}let w;if("path"in m)process.env.NODE_ENV!=="production"&&"params"in m&&!("name"in m)&&Object.keys(m.params).length&&C(`Path "${m.path}" was passed with params but they will be ignored. Use a named route alongside params instead.`),w=$({},m,{path:tt(n,m.path,b.path).path});else{const N=$({},m.params);for(const A in N)N[A]==null&&delete N[A];w=$({},m,{params:f(m.params)}),b.params=f(b.params)}const E=t.resolve(w,b),x=m.hash||"";process.env.NODE_ENV!=="production"&&x&&!x.startsWith("#")&&C(`A \`hash\` should always start with the character "#". Replace "${x}" with "#${x}".`),E.params=l(p(E.params));const V=Mr(o,$({},m,{hash:Ns(x),path:E.path})),P=r.createHref(V);return process.env.NODE_ENV!=="production"&&(P.startsWith("//")?C(`Location "${m}" resolved to "${P}". A resolved location cannot start with multiple slashes.`):E.matched.length||C(`No match found for location with path "${"path"in m?m.path:m}"`)),$({fullPath:V,hash:x,query:o===Sn?Rs(m.query):m.query||{}},E,{redirectedFrom:void 0,href:P})}function O(m){return typeof m=="string"?tt(n,m,d.value.path):$({},m)}function T(m,b){if(u!==m)return ge(8,{from:b,to:m})}function L(m){return S(m)}function G(m){return L($(O(m),{replace:!0}))}function Q(m){const b=m.matched[m.matched.length-1];if(b&&b.redirect){const{redirect:w}=b;let E=typeof w=="function"?w(m):w;if(typeof E=="string"&&(E=E.includes("?")||E.includes("#")?E=O(E):{path:E},E.params={}),process.env.NODE_ENV!=="production"&&!("path"in E)&&!("name"in E))throw C(`Invalid redirect found:
${JSON.stringify(E,null,2)}
 when navigating to "${m.fullPath}". A redirect must contain a name or path. This will break in production.`),new Error("Invalid redirect");return $({query:m.query,hash:m.hash,params:"path"in E?{}:m.params},E)}}function S(m,b){const w=u=I(m),E=d.value,x=m.state,V=m.force,P=m.replace===!0,N=Q(w);if(N)return S($(O(N),{state:typeof N=="object"?$({},x,N.state):x,force:V,replace:P}),b||w);const A=w;A.redirectedFrom=b;let fe;return!V&&rn(o,E,w)&&(fe=ge(16,{to:A,from:E}),Ro(E,E,!0,!1)),(fe?Promise.resolve(fe):k(A,E)).catch(H=>ee(H)?ee(H,2)?H:Ot(H):U(H,A,E)).then(H=>{if(H){if(ee(H,2))return process.env.NODE_ENV!=="production"&&rn(o,I(H.to),A)&&b&&(b._count=b._count?b._count+1:1)>10?(C(`Detected an infinite redirection in a navigation guard when going from "${E.fullPath}" to "${A.fullPath}". Aborting to avoid a Stack Overflow. This will break in production if not fixed.`),Promise.reject(new Error("Infinite redirect in navigation guard"))):S($({replace:P},O(H.to),{state:typeof H.to=="object"?$({},x,H.to.state):x,force:V}),b||A)}else H=R(A,E,!0,P,x);return v(A,E,H),H})}function J(m,b){const w=T(m,b);return w?Promise.reject(w):Promise.resolve()}function k(m,b){let w;const[E,x,V]=Xs(m,b);w=lt(E.reverse(),"beforeRouteLeave",m,b);for(const N of E)N.leaveGuards.forEach(A=>{w.push(ae(A,m,b))});const P=J.bind(null,m,b);return w.push(P),ye(w).then(()=>{w=[];for(const N of a.list())w.push(ae(N,m,b));return w.push(P),ye(w)}).then(()=>{w=lt(x,"beforeRouteUpdate",m,b);for(const N of x)N.updateGuards.forEach(A=>{w.push(ae(A,m,b))});return w.push(P),ye(w)}).then(()=>{w=[];for(const N of m.matched)if(N.beforeEnter&&!b.matched.includes(N))if(F(N.beforeEnter))for(const A of N.beforeEnter)w.push(ae(A,m,b));else w.push(ae(N.beforeEnter,m,b));return w.push(P),ye(w)}).then(()=>(m.matched.forEach(N=>N.enterCallbacks={}),w=lt(V,"beforeRouteEnter",m,b),w.push(P),ye(w))).then(()=>{w=[];for(const N of i.list())w.push(ae(N,m,b));return w.push(P),ye(w)}).catch(N=>ee(N,8)?N:Promise.reject(N))}function v(m,b,w){for(const E of c.list())E(m,b,w)}function R(m,b,w,E,x){const V=T(m,b);if(V)return V;const P=b===se,N=Z?history.state:{};w&&(E||P?r.replace(m.fullPath,$({scroll:P&&N&&N.scroll},x)):r.push(m.fullPath,x)),d.value=m,Ro(m,b,w,P),Ot()}let D;function de(){D||(D=r.listen((m,b,w)=>{const E=I(m),x=Q(E);if(x){S($(x,{replace:!0}),E).catch(Ee);return}u=E;const V=d.value;Z&&Gr(cn(V.fullPath,w.delta),Ve()),k(E,V).catch(P=>ee(P,12)?P:ee(P,2)?(S(P.to,E).then(N=>{ee(N,20)&&!w.delta&&w.type===ke.pop&&r.go(-1,!1)}).catch(Ee),Promise.reject()):(w.delta&&r.go(-w.delta,!1),U(P,E,V))).then(P=>{P=P||R(E,V,!1),P&&(w.delta&&!ee(P,8)?r.go(-w.delta,!1):w.type===ke.pop&&ee(P,20)&&r.go(-1,!1)),v(E,V,P)}).catch(Ee)}))}let Ce=Oe(),He=Oe(),Y;function U(m,b,w){Ot(m);const E=He.list();return E.length?E.forEach(x=>x(m,b,w)):(process.env.NODE_ENV!=="production"&&C("uncaught error during route navigation:"),console.error(m)),Promise.reject(m)}function qi(){return Y&&d.value!==se?Promise.resolve():new Promise((m,b)=>{Ce.add([m,b])})}function Ot(m){return Y||(Y=!m,de(),Ce.list().forEach(([b,w])=>m?w(m):b()),Ce.reset()),m}function Ro(m,b,w,E){const{scrollBehavior:x}=e;if(!Z||!x)return Promise.resolve();const V=!w&&Qr(cn(m.fullPath,0))||(E||!w)&&history.state&&history.state.scroll||null;return s.nextTick().then(()=>x(m,b,V)).then(P=>P&&zr(P)).catch(P=>U(P,m,b))}const Nt=m=>r.go(m);let Pt;const Ct=new Set;return{currentRoute:d,listening:!0,addRoute:h,removeRoute:g,hasRoute:_,getRoutes:y,resolve:I,options:e,push:L,replace:G,go:Nt,back:()=>Nt(-1),forward:()=>Nt(1),beforeEach:a.add,beforeResolve:i.add,afterEach:c.add,onError:He.add,isReady:qi,install(m){const b=this;m.component("RouterLink",Vs),m.component("RouterView",js),m.config.globalProperties.$router=b,Object.defineProperty(m.config.globalProperties,"$route",{enumerable:!0,get:()=>s.unref(d)}),Z&&!Pt&&d.value===se&&(Pt=!0,L(r.location).catch(x=>{process.env.NODE_ENV!=="production"&&C("Unexpected error when starting the router:",x)}));const w={};for(const x in se)w[x]=s.computed(()=>d.value[x]);m.provide(it,b),m.provide(On,s.reactive(w)),m.provide(ct,d);const E=m.unmount;Ct.add(m),m.unmount=function(){Ct.delete(m),Ct.size<1&&(u=se,D&&D(),D=null,d.value=se,Pt=!1,Y=!1),E()},process.env.NODE_ENV!=="production"&&Z&&Fs(m,b,t)}}}function ye(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function Xs(e,t){const n=[],o=[],r=[],a=Math.max(t.matched.length,e.matched.length);for(let i=0;i<a;i++){const c=t.matched[i];c&&(e.matched.find(u=>re(u,c))?o.push(c):n.push(c));const d=e.matched[i];d&&(t.matched.find(u=>re(u,d))||r.push(d))}return[n,o,r]}Ys({history:Yr(),routes:[]});function Zs(e){return e&&typeof e.then=="function"}Promise.resolve(!1),Promise.resolve(!0);var ue=Promise.resolve();function Mn(e,t){return e||(e=0),new Promise(function(n){return setTimeout(function(){return n(t)},e)})}function ea(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function dt(){return Math.random().toString(36).substring(2)}var Ln=0,ft=0;function Me(){var e=new Date().getTime();return e===Ln?(ft++,e*1e3+ft):(Ln=e,ft=0,e*1e3)}var ta=Me,na="native";function oa(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(n){t.messagesCallback&&t.messagesCallback(n.data)},t}function ra(e){e.bc.close(),e.subFns=[]}function sa(e,t){try{return e.bc.postMessage(t,!1),ue}catch(n){return Promise.reject(n)}}function aa(e,t){e.messagesCallback=t}function ia(){if(typeof window>"u")return!1;if(typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function ca(){return 150}var la={create:oa,close:ra,onMessage:aa,postMessage:sa,canBeUsed:ia,type:na,averageResponseTime:ca,microSeconds:ta},jn=function(){function e(t){this.ttl=t,this.map=new Map,this._to=!1}return e.prototype.has=function(t){return this.map.has(t)},e.prototype.add=function(t){var n=this;this.map.set(t,Un()),this._to||(this._to=!0,setTimeout(function(){n._to=!1,ua(n)},0))},e.prototype.clear=function(){this.map.clear()},e}();function ua(e){for(var t=Un()-e.ttl,n=e.map[Symbol.iterator]();;){var o=n.next().value;if(!o)return;var r=o[0],a=o[1];if(a<t)e.map.delete(r);else return}}function Un(){return new Date().getTime()}function pt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return typeof t.webWorkerSupport>"u"&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=1e3*45),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&typeof e.idb.onclose=="function"&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=1e3*60),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=1e3*60*2),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),typeof t.node.useFastPath>"u"&&(t.node.useFastPath=!0),t}var da=Me,fa="pubkey.broadcast-channel-0-",te="messages",Le={durability:"relaxed"},pa="idb";function Hn(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function ht(e){e.commit&&e.commit()}function ha(e){var t=Hn(),n=fa+e,o=t.open(n);return o.onupgradeneeded=function(r){var a=r.target.result;a.createObjectStore(te,{keyPath:"id",autoIncrement:!0})},new Promise(function(r,a){o.onerror=function(i){return a(i)},o.onsuccess=function(){r(o.result)}})}function ma(e,t,n){var o=new Date().getTime(),r={uuid:t,time:o,data:n},a=e.transaction([te],"readwrite",Le);return new Promise(function(i,c){a.oncomplete=function(){return i()},a.onerror=function(u){return c(u)};var d=a.objectStore(te);d.add(r),ht(a)})}function ga(e,t){var n=e.transaction(te,"readonly",Le),o=n.objectStore(te),r=[],a=IDBKeyRange.bound(t+1,1/0);if(o.getAll){var i=o.getAll(a);return new Promise(function(d,u){i.onerror=function(l){return u(l)},i.onsuccess=function(l){d(l.target.result)}})}function c(){try{return a=IDBKeyRange.bound(t+1,1/0),o.openCursor(a)}catch{return o.openCursor()}}return new Promise(function(d,u){var l=c();l.onerror=function(f){return u(f)},l.onsuccess=function(f){var p=f.target.result;p?p.value.id<t+1?p.continue(t+1):(r.push(p.value),p.continue()):(ht(n),d(r))}})}function ya(e,t){if(e.closed)return Promise.resolve([]);var n=e.db.transaction(te,"readwrite",Le),o=n.objectStore(te);return Promise.all(t.map(function(r){var a=o.delete(r);return new Promise(function(i){a.onsuccess=function(){return i()}})}))}function wa(e,t){var n=new Date().getTime()-t,o=e.transaction(te,"readonly",Le),r=o.objectStore(te),a=[];return new Promise(function(i){r.openCursor().onsuccess=function(c){var d=c.target.result;if(d){var u=d.value;u.time<n?(a.push(u),d.continue()):(ht(o),i(a))}else i(a)}})}function _a(e){return wa(e.db,e.options.idb.ttl).then(function(t){return ya(e,t.map(function(n){return n.id}))})}function va(e,t){return t=pt(t),ha(e).then(function(n){var o={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:dt(),eMIs:new jn(t.idb.ttl*2),writeBlockPromise:ue,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){o.closed=!0,t.idb.onclose&&t.idb.onclose()},Fn(o),o})}function Fn(e){e.closed||Wn(e).then(function(){return Mn(e.options.idb.fallbackInterval)}).then(function(){return Fn(e)})}function ba(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}function Wn(e){return e.closed||!e.messagesCallback?ue:ga(e.db,e.lastCursorId).then(function(t){var n=t.filter(function(o){return!!o}).map(function(o){return o.id>e.lastCursorId&&(e.lastCursorId=o.id),o}).filter(function(o){return ba(o,e)}).sort(function(o,r){return o.time-r.time});return n.forEach(function(o){e.messagesCallback&&(e.eMIs.add(o.id),e.messagesCallback(o.data))}),ue})}function Ea(e){e.closed=!0,e.db.close()}function ka(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return ma(e.db,e.uuid,t)}).then(function(){ea(0,10)===0&&_a(e)}),e.writeBlockPromise}function Sa(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,Wn(e)}function Ia(){return!!Hn()}function Oa(e){return e.idb.fallbackInterval*2}var Na={create:va,close:Ea,onMessage:Sa,postMessage:ka,canBeUsed:Ia,type:pa,averageResponseTime:Oa,microSeconds:da},Pa=Me,Ca="pubkey.broadcastChannel-",$a="localstorage";function zn(){var e;if(typeof window>"u")return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return e}function Gn(e){return Ca+e}function xa(e,t){return new Promise(function(n){Mn().then(function(){var o=Gn(e.channelName),r={token:dt(),time:new Date().getTime(),data:t,uuid:e.uuid},a=JSON.stringify(r);zn().setItem(o,a);var i=document.createEvent("Event");i.initEvent("storage",!0,!0),i.key=o,i.newValue=a,window.dispatchEvent(i),n()})})}function Ra(e,t){var n=Gn(e),o=function(a){a.key===n&&t(JSON.parse(a.newValue))};return window.addEventListener("storage",o),o}function Ta(e){window.removeEventListener("storage",e)}function Aa(e,t){if(t=pt(t),!Qn())throw new Error("BroadcastChannel: localstorage cannot be used");var n=dt(),o=new jn(t.localstorage.removeTimeout),r={channelName:e,uuid:n,eMIs:o};return r.listener=Ra(e,function(a){r.messagesCallback&&a.uuid!==n&&(!a.token||o.has(a.token)||a.data.time&&a.data.time<r.messagesCallbackTime||(o.add(a.token),r.messagesCallback(a.data)))}),r}function Da(e){Ta(e.listener)}function Va(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t}function Qn(){var e=zn();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch{return!1}return!0}function Ba(){var e=120,t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?e*2:e}var Ma={create:Aa,close:Da,onMessage:Va,postMessage:xa,canBeUsed:Qn,type:$a,averageResponseTime:Ba,microSeconds:Pa},La=Me,ja="simulate",mt=new Set;function Ua(e){var t={name:e,messagesCallback:null};return mt.add(t),t}function Ha(e){mt.delete(e)}function Fa(e,t){return new Promise(function(n){return setTimeout(function(){var o=Array.from(mt);o.filter(function(r){return r.name===e.name}).filter(function(r){return r!==e}).filter(function(r){return!!r.messagesCallback}).forEach(function(r){return r.messagesCallback(t)}),n()},5)})}function Wa(e,t){e.messagesCallback=t}function za(){return!0}function Ga(){return 5}var Qa={create:Ua,close:Ha,onMessage:Wa,postMessage:Fa,canBeUsed:za,type:ja,averageResponseTime:Ga,microSeconds:La},Kn=[la,Na,Ma];function Ka(e){var t=[].concat(e.methods,Kn).filter(Boolean);if(e.type){if(e.type==="simulate")return Qa;var n=t.find(function(r){return r.type===e.type});if(n)return n;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||(t=t.filter(function(r){return r.type!=="idb"}));var o=t.find(function(r){return r.canBeUsed()});if(o)return o;throw new Error("No usable method found in "+JSON.stringify(Kn.map(function(r){return r.type})))}var qn=new Set,qa=0,gt=function(t,n){this.id=qa++,qn.add(this),this.name=t,this.options=pt(n),this.method=Ka(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,Ja(this)};gt._pubkey=!0,gt.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(t));return Jn(this,"message",t)},postInternal:function(t){return Jn(this,"internal",t)},set onmessage(e){var t=this.method.microSeconds(),n={time:t,fn:e};Zn(this,"message",this._onML),e&&typeof e=="function"?(this._onML=n,Xn(this,"message",n)):this._onML=null},addEventListener:function(t,n){var o=this.method.microSeconds(),r={time:o,fn:n};Xn(this,t,r)},removeEventListener:function(t,n){var o=this._addEL[t].find(function(r){return r.fn===n});Zn(this,t,o)},close:function(){var t=this;if(!this.closed){qn.delete(this),this.closed=!0;var n=this._prepP?this._prepP:ue;return this._onML=null,this._addEL.message=[],n.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(o){return o()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function Jn(e,t,n){var o=e.method.microSeconds(),r={time:o,type:t,data:n},a=e._prepP?e._prepP:ue;return a.then(function(){var i=e.method.postMessage(e._state,r);return e._uMP.add(i),i.catch().then(function(){return e._uMP.delete(i)}),i})}function Ja(e){var t=e.method.create(e.name,e.options);Zs(t)?(e._prepP=t,t.then(function(n){e._state=n})):e._state=t}function Yn(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function Xn(e,t,n){e._addEL[t].push(n),Ya(e)}function Zn(e,t,n){e._addEL[t]=e._addEL[t].filter(function(o){return o!==n}),Xa(e)}function Ya(e){if(!e._iL&&Yn(e)){var t=function(r){e._addEL[r.type].forEach(function(a){var i=1e5,c=a.time-i;r.time>=c&&a.fn(r.data)})},n=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,n)}):(e._iL=!0,e.method.onMessage(e._state,t,n))}}function Xa(e){if(e._iL&&!Yn(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}const eo={"<":"\\u003C",">":"\\u003E","/":"\\u002F","\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\0":"\\u0000","\u2028":"\\u2028","\u2029":"\\u2029"};class yt extends Error{constructor(t,n){super(t),this.name="DevalueError",this.path=n.join("")}}function to(e){return Object(e)!==e}const Za=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ei(e){const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===Za}function ti(e){return Object.prototype.toString.call(e).slice(8,-1)}function we(e){let t='"';for(let n=0;n<e.length;n+=1){const o=e.charAt(n),r=o.charCodeAt(0);if(o==='"')t+='\\"';else if(o in eo)t+=eo[o];else if(r<=31)t+=`\\u${r.toString(16).toUpperCase().padStart(4,"0")}`;else if(r>=55296&&r<=57343){const a=e.charCodeAt(n+1);r<=56319&&a>=56320&&a<=57343?t+=o+e[++n]:t+=`\\u${r.toString(16).toUpperCase()}`}else t+=o}return t+='"',t}const wt=-1,no=-2,oo=-3,ro=-4,so=-5,_t=-6;function ao(e,t){return ni(JSON.parse(e),t)}function ni(e,t){if(typeof e=="number")return r(e,!0);if(!Array.isArray(e)||e.length===0)throw new Error("Invalid input");const n=e,o=Array(n.length);function r(a,i=!1){if(a===wt)return;if(a===oo)return NaN;if(a===ro)return 1/0;if(a===so)return-1/0;if(a===_t)return-0;if(i)throw new Error("Invalid input");if(a in o)return o[a];const c=n[a];if(!c||typeof c!="object")o[a]=c;else if(Array.isArray(c))if(typeof c[0]=="string"){const d=c[0],u=t==null?void 0:t[d];if(u)return o[a]=u(r(c[1]));switch(d){case"Date":o[a]=new Date(c[1]);break;case"Set":const l=new Set;o[a]=l;for(let h=1;h<c.length;h+=1)l.add(r(c[h]));break;case"Map":const f=new Map;o[a]=f;for(let h=1;h<c.length;h+=2)f.set(r(c[h]),r(c[h+1]));break;case"RegExp":o[a]=new RegExp(c[1],c[2]);break;case"Object":o[a]=Object(c[1]);break;case"BigInt":o[a]=BigInt(c[1]);break;case"null":const p=Object.create(null);o[a]=p;for(let h=1;h<c.length;h+=2)p[c[h]]=r(c[h+1]);break;default:throw new Error(`Unknown type ${d}`)}}else{const d=new Array(c.length);o[a]=d;for(let u=0;u<c.length;u+=1){const l=c[u];l!==no&&(d[u]=r(l))}}else{const d={};o[a]=d;for(const u in c){const l=c[u];d[u]=r(l)}}return o[a]}return r(0)}function io(e,t){const n=[],o=new Map,r=[];for(const u in t)r.push({key:u,fn:t[u]});const a=[];let i=0;function c(u){if(typeof u=="function")throw new yt("Cannot stringify a function",a);if(o.has(u))return o.get(u);if(u===void 0)return wt;if(Number.isNaN(u))return oo;if(u===1/0)return ro;if(u===-1/0)return so;if(u===0&&1/u<0)return _t;const l=i++;o.set(u,l);for(const{key:p,fn:h}of r){const g=h(u);if(g)return n[l]=`["${p}",${c(g)}]`,l}let f="";if(to(u))f=vt(u);else switch(ti(u)){case"Number":case"String":case"Boolean":f=`["Object",${vt(u)}]`;break;case"BigInt":f=`["BigInt",${u}]`;break;case"Date":f=`["Date","${u.toISOString()}"]`;break;case"RegExp":const{source:h,flags:g}=u;f=g?`["RegExp",${we(h)},"${g}"]`:`["RegExp",${we(h)}]`;break;case"Array":f="[";for(let y=0;y<u.length;y+=1)y>0&&(f+=","),y in u?(a.push(`[${y}]`),f+=c(u[y]),a.pop()):f+=no;f+="]";break;case"Set":f='["Set"';for(const y of u)f+=`,${c(y)}`;f+="]";break;case"Map":f='["Map"';for(const[y,_]of u)a.push(`.get(${to(y)?vt(y):"..."})`),f+=`,${c(y)},${c(_)}`;f+="]";break;default:if(!ei(u))throw new yt("Cannot stringify arbitrary non-POJOs",a);if(Object.getOwnPropertySymbols(u).length>0)throw new yt("Cannot stringify POJOs with symbolic keys",a);if(Object.getPrototypeOf(u)===null){f='["null"';for(const y in u)a.push(`.${y}`),f+=`,${we(y)},${c(u[y])}`,a.pop();f+="]"}else{f="{";let y=!1;for(const _ in u)y&&(f+=","),y=!0,a.push(`.${_}`),f+=`${we(_)}:${c(u[_])}`,a.pop();f+="}"}}return n[l]=f,l}const d=c(e);return d<0?`${d}`:`[${n.join(",")}]`}function vt(e){const t=typeof e;return t==="string"?we(e):e instanceof String?we(e.toString()):e===void 0?wt.toString():e===0&&1/e<0?_t.toString():t==="bigint"?`["BigInt","${e}"]`:String(e)}function oi(e,t,{initialize:n,type:o}){let r=`${t.$id}-${e.toString()}`,a=new gt(r,{type:o}),i=!1,c=0;s.watch(()=>t[e],l=>{i||(c=Date.now(),a.postMessage({timestamp:c,state:ao(io(l))})),i=!1},{deep:!0}),a.onmessage=l=>{if(l===void 0){a.postMessage({timestamp:c,state:ao(io(t[e]))});return}l.timestamp<=c||(i=!0,c=l.timestamp,t[e]=l.state)};let d=()=>a.postMessage(void 0),u=()=>a.close();return n&&d(),{sync:d,unshare:u}}var ri=(e,t)=>Object.keys(t).includes(e),si=({initialize:e=!0,enable:t=!0,type:n})=>({store:o,options:r})=>{var a,i;let c=((a=r==null?void 0:r.share)==null?void 0:a.enable)??t,d=((i=r==null?void 0:r.share)==null?void 0:i.omit)??[];!c||Object.keys(o.$state).forEach(u=>{var l;d.includes(u)||!ri(u,o.$state)||oi(u,o,{initialize:((l=r==null?void 0:r.share)==null?void 0:l.initialize)??e,type:n})})};$r().use(si({enable:!0,initialize:!0}));const co=s.defineComponent({__name:"Doctype",setup(e){const{stonecrop:t,isReady:n}=nn(),o=s.ref([]);return s.watch(n,()=>{if(n.value){let r=t.value.schema.schema.toArray();r.forEach((a,i)=>{const d=t.value.store.record[a.fieldname];r[i].value=d}),o.value=r}}),(r,a)=>s.unref(n)?(s.openBlock(),s.createBlock(s.unref(Zo),{key:0,class:"aform-main",modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=i=>o.value=i)},null,8,["modelValue"])):s.createCommentVNode("",!0)}});var lo;const uo=typeof window<"u",ai=e=>typeof e=="string",ii=()=>{};uo&&(lo=window==null?void 0:window.navigator)!=null&&lo.userAgent&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function fo(e){return typeof e=="function"?e():s.unref(e)}function ci(e){return e}function li(e){return s.getCurrentScope()?(s.onScopeDispose(e),!0):!1}function bt(e){var t;const n=fo(e);return(t=n==null?void 0:n.$el)!=null?t:n}const po=uo?window:void 0;function ui(...e){let t,n,o,r;if(ai(e[0])||Array.isArray(e[0])?([n,o,r]=e,t=po):[t,n,o,r]=e,!t)return ii;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const a=[],i=()=>{a.forEach(l=>l()),a.length=0},c=(l,f,p,h)=>(l.addEventListener(f,p,h),()=>l.removeEventListener(f,p,h)),d=s.watch(()=>[bt(t),fo(r)],([l,f])=>{i(),l&&a.push(...n.flatMap(p=>o.map(h=>c(l,p,h,f))))},{immediate:!0,flush:"post"}),u=()=>{d(),i()};return li(u),u}const ho=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mo="__vueuse_ssr_handlers__";ho[mo]=ho[mo]||{};function di(e,{window:t=po,scrollTarget:n}={}){const o=s.ref(!1),r=()=>{if(!t)return;const a=t.document,i=bt(e);if(!i)o.value=!1;else{const c=i.getBoundingClientRect();o.value=c.top<=(t.innerHeight||a.documentElement.clientHeight)&&c.left<=(t.innerWidth||a.documentElement.clientWidth)&&c.bottom>=0&&c.right>=0}};return s.watch(()=>bt(e),()=>r(),{immediate:!0,flush:"post"}),t&&ui(n||t,"scroll",r,{capture:!1,passive:!0}),o}var go;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(go||(go={}));var fi=Object.defineProperty,yo=Object.getOwnPropertySymbols,pi=Object.prototype.hasOwnProperty,hi=Object.prototype.propertyIsEnumerable,wo=(e,t,n)=>t in e?fi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mi=(e,t)=>{for(var n in t||(t={}))pi.call(t,n)&&wo(e,n,t[n]);if(yo)for(var n of yo(t))hi.call(t,n)&&wo(e,n,t[n]);return e};mi({linear:ci},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});const ne=e=>{let t=di(e).value;return t=t&&e.offsetHeight>0,t},oe=e=>e.tabIndex>=0,_o=e=>{const t=e.target;return Et(t)},Et=e=>{var t;let n;if(e instanceof HTMLTableCellElement){const o=(t=e.parentElement)==null?void 0:t.previousElementSibling;if(o){const r=Array.from(o.children)[e.cellIndex];r&&(n=r)}}else if(e instanceof HTMLTableRowElement){const o=e.previousElementSibling;o&&(n=o)}return n&&(!oe(n)||!ne(n))?Et(n):n},gi=e=>{var t;const n=e.target;let o;if(n instanceof HTMLTableCellElement){const r=(t=n.parentElement)==null?void 0:t.parentElement;if(r){const a=r.firstElementChild.children[n.cellIndex];a&&(o=a)}}else if(n instanceof HTMLTableRowElement){const r=n.parentElement;if(r){const a=r.firstElementChild;a&&(o=a)}}return o&&(!oe(o)||!ne(o))?kt(o):o},vo=e=>{const t=e.target;return kt(t)},kt=e=>{var t;let n;if(e instanceof HTMLTableCellElement){const o=(t=e.parentElement)==null?void 0:t.nextElementSibling;if(o){const r=Array.from(o.children)[e.cellIndex];r&&(n=r)}}else if(e instanceof HTMLTableRowElement){const o=e.nextElementSibling;o&&(n=o)}return n&&(!oe(n)||!ne(n))?kt(n):n},yi=e=>{var t;const n=e.target;let o;if(n instanceof HTMLTableCellElement){const r=(t=n.parentElement)==null?void 0:t.parentElement;if(r){const a=r.lastElementChild.children[n.cellIndex];a&&(o=a)}}else if(n instanceof HTMLTableRowElement){const r=n.parentElement;if(r){const a=r.lastElementChild;a&&(o=a)}}return o&&(!oe(o)||!ne(o))?Et(o):o},bo=e=>{const t=e.target;return St(t)},St=e=>{var t;let n;if(e.previousElementSibling)n=e.previousElementSibling;else{const o=(t=e.parentElement)==null?void 0:t.previousElementSibling;n=o==null?void 0:o.lastElementChild}return n&&(!oe(n)||!ne(n))?St(n):n},Eo=e=>{const t=e.target;return It(t)},It=e=>{var t;let n;if(e.nextElementSibling)n=e.nextElementSibling;else{const o=(t=e.parentElement)==null?void 0:t.nextElementSibling;n=o==null?void 0:o.firstElementChild}return n&&(!oe(n)||!ne(n))?It(n):n},ko=e=>{const t=e.target.parentElement.firstElementChild;return t&&(!oe(t)||!ne(t))?It(t):t},So=e=>{const t=e.target.parentElement.lastElementChild;return t&&(!oe(t)||!ne(t))?St(t):t},je=["alt","control","shift","meta"],wi={ArrowUp:"up",ArrowDown:"down",ArrowLeft:"left",ArrowRight:"right"},Io={"keydown.up":e=>{const t=_o(e);t&&(e.preventDefault(),e.stopPropagation(),t.focus())},"keydown.down":e=>{const t=vo(e);t&&(e.preventDefault(),e.stopPropagation(),t.focus())},"keydown.left":e=>{const t=bo(e);e.preventDefault(),e.stopPropagation(),t&&t.focus()},"keydown.right":e=>{const t=Eo(e);e.preventDefault(),e.stopPropagation(),t&&t.focus()},"keydown.control.up":e=>{const t=gi(e);t&&(e.preventDefault(),e.stopPropagation(),t.focus())},"keydown.control.down":e=>{const t=yi(e);t&&(e.preventDefault(),e.stopPropagation(),t.focus())},"keydown.control.left":e=>{const t=ko(e);t&&(e.preventDefault(),e.stopPropagation(),t.focus())},"keydown.control.right":e=>{const t=So(e);t&&(e.preventDefault(),e.stopPropagation(),t.focus())},"keydown.end":e=>{const t=So(e);t&&(e.preventDefault(),e.stopPropagation(),t.focus())},"keydown.enter":e=>{if(e.target instanceof HTMLTableCellElement){e.preventDefault(),e.stopPropagation();const t=vo(e);t&&t.focus()}},"keydown.shift.enter":e=>{if(e.target instanceof HTMLTableCellElement){e.preventDefault(),e.stopPropagation();const t=_o(e);t&&t.focus()}},"keydown.home":e=>{const t=ko(e);t&&(e.preventDefault(),e.stopPropagation(),t.focus())},"keydown.tab":e=>{const t=Eo(e);t&&(e.preventDefault(),e.stopPropagation(),t.focus())},"keydown.shift.tab":e=>{const t=bo(e);t&&(e.preventDefault(),e.stopPropagation(),t.focus())}};function Oo(e){const t=o=>{let r=null;o.parent&&(typeof o.parent=="string"?r=document.querySelector(o.parent):o.parent instanceof Element?r=o.parent:r=o.parent.value);let a=[];if(o.selectors)if(typeof o.selectors=="string")a=r?Array.from(r.querySelectorAll(o.selectors)):Array.from(document.querySelectorAll(o.selectors));else if(o.selectors instanceof Element)a.push(o.selectors);else if(Array.isArray(o.selectors.value))for(const i of o.selectors.value)i instanceof Element?a.push(i):a.push(i.$el);else a.push(o.selectors.value);else a=Array.from(r.children).filter(i=>oe(i)&&ne(i));return a},n=o=>r=>{const a=wi[r.key]||r.key.toLowerCase();if(je.includes(a))return;const i=o.handlers||Io;for(const c of Object.keys(i)){const[d,...u]=c.split(".");if(d==="keydown"&&u.includes(a)){const l=i[c],f=u.filter(h=>je.includes(h)),p=je.some(h=>{const g=h.charAt(0).toUpperCase()+h.slice(1);return r.getModifierState(g)});if(f.length>0){if(p){for(const h of je)if(u.includes(h)){const g=h.charAt(0).toUpperCase()+h.slice(1);r.getModifierState(g)&&l(r)}}}else p||l(r)}}};s.onMounted(()=>{for(const o of e){const r=t(o);for(const a of r)a.addEventListener("keydown",n(o))}}),s.onBeforeUnmount(()=>{for(const o of e){const r=t(o);for(const a of r)a.removeEventListener("keydown",n(o))}})}const _i=["data-colindex","data-rowindex","data-editable","contenteditable","tabindex"],vi={key:1},bi=s.defineComponent({__name:"ACell",props:{colIndex:null,rowIndex:null,tableid:null,addNavigation:{type:[Boolean,Object],default:!0},tabIndex:{default:0},clickHandler:null},setup(e){var t;const n=e,o=s.inject(n.tableid),r=s.ref(null);let a=s.ref(!1);const i=s.computed(()=>{const y=o.cellData(n.colIndex,n.rowIndex);if(o.columns[n.colIndex].format){const _=o.columns[n.colIndex].format;return typeof _=="function"?_(y):typeof _=="string"?Function(`"use strict";return (${_})`)()(y):y}else return y}),c=y=>{if(n.clickHandler){n.clickHandler(y);return}if(o.columns[n.colIndex].mask,o.columns[n.colIndex].modalComponent){const _=r.value.getBoundingClientRect();o.modal.visible=!0,o.modal.colIndex=n.colIndex,o.modal.rowIndex=n.rowIndex,o.modal.parent=r.value,o.modal.top=_.top+_.height,o.modal.left=_.left,o.modal.width=u.value,o.modal.component=o.columns[n.colIndex].modalComponent,o.modal.componentProps=o.columns[n.colIndex].modalComponentProps}};if(n.addNavigation){let y={...Io,"keydown.f2":c,"keydown.alt.up":c,"keydown.alt.down":c,"keydown.alt.left":c,"keydown.alt.right":c};typeof n.addNavigation=="object"&&(y={...y,...n.addNavigation}),Oo([{selectors:r,handlers:y}])}const d=s.computed(()=>o.columns[n.colIndex].align||"center"),u=s.computed(()=>o.columns[n.colIndex].width||"40ch");let l="";const f=()=>{r.value&&(l=r.value.innerText)},p=()=>{r.value&&r.value.innerHTML!==l&&(l=r.value.innerText,r.value.dispatchEvent(new Event("change")),a.value=!0,o.columns[n.colIndex].format||o.setCellData(n.rowIndex,n.colIndex,l))},h=(y,_)=>_&&y===0&&_>0?`${_}ch`:"inherit",g={textAlign:d.value,width:u.value,backgroundColor:a.value?"var(--cell-modified-color)":"inherit",fontWeight:a.value?"bold":"inherit",paddingLeft:h(n.colIndex,(t=o.display[n.rowIndex])==null?void 0:t.indent)};return(y,_)=>(s.openBlock(),s.createElementBlock("td",{ref_key:"cell",ref:r,"data-colindex":e.colIndex,"data-rowindex":e.rowIndex,"data-editable":s.unref(o).columns[e.colIndex].edit,contenteditable:s.unref(o).columns[e.colIndex].edit,tabindex:e.tabIndex,spellcheck:!1,style:g,onFocus:f,onPaste:p,onBlur:p,onInput:p,onClick:c,onMousedown:c},[s.unref(o).columns[e.colIndex].cellComponent?(s.openBlock(),s.createBlock(s.resolveDynamicComponent(s.unref(o).columns[e.colIndex].cellComponent),s.mergeProps({key:0,value:s.unref(i)},s.unref(o).columns[e.colIndex].cellComponentProps),null,16,["value"])):(s.openBlock(),s.createElementBlock("span",vi,s.toDisplayString(s.unref(i)),1))],40,_i))}}),Pe=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},Ei=Pe(bi,[["__scopeId","data-v-1738c6fc"]]),ki=["tabindex"],Si={key:0,tabIndex:-1,class:"list-index"},Ii=Pe(s.defineComponent({__name:"ARow",props:{row:null,rowIndex:null,tableid:null,tabIndex:{default:-1},addNavigation:null},setup(e){const t=e;s.useCssVars(d=>({"6b10edcf":s.unref(r)}));const n=s.inject(t.tableid),o=s.ref(null),r=n.numberedRowWidth.value,a=()=>n.config.view!=="tree"?"":n.display[t.rowIndex].isRoot||n.display[t.rowIndex].isParent?n.display[t.rowIndex].childrenOpen?"-":"+":"",i=()=>n.config.view!=="tree"||n.display[t.rowIndex].isRoot||n.display[t.rowIndex].open,c=d=>{n.toggleRowExpand(d)};return t.addNavigation&&Oo([{selectors:o,handlers:t.addNavigation}]),(d,u)=>s.withDirectives((s.openBlock(),s.createElementBlock("tr",{ref_key:"rowEl",ref:o,tabindex:e.tabIndex,class:"table-row"},[s.unref(n).config.view==="list"?(s.openBlock(),s.createElementBlock("td",Si,s.toDisplayString(e.rowIndex+1),1)):s.unref(n).config.view==="tree"?(s.openBlock(),s.createElementBlock("td",{key:1,tabIndex:-1,class:"tree-index",onClick:u[0]||(u[0]=l=>c(e.rowIndex))},s.toDisplayString(a()),1)):s.renderSlot(d.$slots,"indexCell",{key:2},void 0,!0),s.renderSlot(d.$slots,"default",{},void 0,!0)],8,ki)),[[s.vShow,i()]])}}),[["__scopeId","data-v-c758303d"]]);let Ue;const Oi=new Uint8Array(16);function Ni(){if(!Ue&&(Ue=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ue))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ue(Oi)}const M=[];for(let e=0;e<256;++e)M.push((e+256).toString(16).slice(1));function Pi(e,t=0){return(M[e[t+0]]+M[e[t+1]]+M[e[t+2]]+M[e[t+3]]+"-"+M[e[t+4]]+M[e[t+5]]+"-"+M[e[t+6]]+M[e[t+7]]+"-"+M[e[t+8]]+M[e[t+9]]+"-"+M[e[t+10]]+M[e[t+11]]+M[e[t+12]]+M[e[t+13]]+M[e[t+14]]+M[e[t+15]]).toLowerCase()}const Ci=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),No={randomUUID:Ci};function Po(e,t,n){if(No.randomUUID&&!t&&!e)return No.randomUUID();e=e||{};const o=e.random||(e.rng||Ni)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){n=n||0;for(let r=0;r<16;++r)t[n+r]=o[r];return t}return Pi(o)}class $i{constructor(t,n,o,r,a,i){this.id=t||Po(),this.rows=o,this.columns=s.reactive(n),this.config=s.reactive(r),this.table=a||s.reactive(this.createTableObject()),this.display=this.createDisplayObject(i),this.modal=s.reactive({visible:!1})}createTableObject(){const t={};for(const[n,o]of this.columns.entries())for(const[r,a]of this.rows.entries())t[`${n}:${r}`]=a[o.name];return t}createDisplayObject(t){const n=[Object.assign({},{modified:!1})];if(t&&"0:0"in t)return t;const o=new Set;for(let r=this.rows.length-1;r>=0;r--){const a=this.rows[r];a.parent&&o.add(a.parent),n[r]={childrenOpen:!1,expanded:!1,indent:a.indent||null,isParent:o.has(r),isRoot:a.parent===null||a.parent===void 0,modified:!1,open:a.parent===null||a.parent===void 0,parent:a.parent}}return s.reactive(n)}get zeroColumn(){return["list","tree","list-expansion"].includes(this.config.view)}get numberedRowWidth(){return s.computed(()=>String(Math.ceil(this.rows.length/100)+1)+"ch")}cellData(t,n){return this.table[`${t}:${n}`]}setCellData(t,n,o){this.table[`${n}:${t}`]!==o&&(this.display[t].modified=!0),this.table[`${n}:${t}`]=o;let r=this.columns[n];return this.rows[t][r.name]=o,this.table[`${n}:${t}`]}toggleRowExpand(t){if(this.config.view==="tree"){this.display[t].childrenOpen=!this.display[t].childrenOpen;for(let n=this.rows.length-1;n>=0;n--)this.display[n].parent===t&&(this.display[n].open=!this.display[n].open,this.display[n].childrenOpen&&this.toggleRowExpand(n))}else this.config.view==="list-expansion"&&(this.display[t].expanded=!this.display[t].expanded)}}const xi={key:0},Ri={class:"atable-header-row",tabindex:"-1"},Ti={key:0,id:"header-index"},Ai=Pe(s.defineComponent({__name:"ATableHeader",props:{columns:null,config:null,tableid:null},setup(e){const t=e;s.useCssVars(a=>({"1cb0fcc9":s.unref(o)}));const n=s.inject(t.tableid),o=n.numberedRowWidth.value,r=a=>({minWidth:a.width||"40ch",textAlign:a.align||"center",width:n.config.fullWidth?"auto":null});return(a,i)=>e.columns.length?(s.openBlock(),s.createElementBlock("thead",xi,[s.createElementVNode("tr",Ri,[s.unref(n).zeroColumn?(s.openBlock(),s.createElementBlock("th",Ti)):s.createCommentVNode("",!0),(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(e.columns,(c,d)=>(s.openBlock(),s.createElementBlock("th",{key:d,tabindex:"-1",style:s.normalizeStyle(r(c))},[s.renderSlot(a.$slots,"default",{},()=>[s.createTextVNode(s.toDisplayString(c.label||String.fromCharCode(d+97).toUpperCase()),1)],!0)],4))),128))])])):s.createCommentVNode("",!0)}}),[["__scopeId","data-v-8a8d9cee"]]),Di=Pe(s.defineComponent({__name:"ATableModal",props:{colIndex:null,rowIndex:null,tableid:null},setup(e){s.inject(e.tableid);const t=n=>{n.stopPropagation()};return(n,o)=>(s.openBlock(),s.createElementBlock("div",{ref:"amodal",class:"amodal",tabindex:"-1",onClick:t,onInput:t},[s.renderSlot(n.$slots,"default",{},void 0,!0)],544))}}),[["__scopeId","data-v-8ac70767"]]),Vi=Pe(s.defineComponent({__name:"ATable",props:{id:null,modelValue:null,columns:null,rows:{default:()=>[]},config:{default:()=>new Object},tableid:null},emits:["update:modelValue"],setup(e,{emit:t}){const n=e;let o=n.modelValue?n.modelValue:n.rows,r=new $i(n.id,n.columns,o,n.config);s.provide(r.id,r),s.watch(()=>r.rows,(i,c)=>{t("update:modelValue",i)},{deep:!0});const a=i=>{var c;(c=r.modal.parent)!=null&&c.contains(i.target)||r.modal.visible&&(r.modal.visible=!1)};return window.addEventListener("click",a),window.addEventListener("keydown",i=>{if(i.key==="Escape"&&r.modal.visible){r.modal.visible=!1;const c=r.modal.parent;c&&s.nextTick().then(()=>{const d=c.dataset.rowindex,u=c.dataset.colindex,l=document.querySelectorAll(`[data-rowindex='${d}'][data-colindex='${u}']`);l&&l[0].focus()})}}),(i,c)=>(s.openBlock(),s.createElementBlock("table",{class:"atable",style:s.normalizeStyle({width:s.unref(r).config.fullWidth?"100%":"auto"})},[s.renderSlot(i.$slots,"header",{data:s.unref(r)},()=>[s.createVNode(Ai,{columns:s.unref(r).columns,config:s.unref(r).config,tableid:s.unref(r).id},null,8,["columns","config","tableid"])],!0),s.createElementVNode("tbody",null,[s.renderSlot(i.$slots,"body",{data:s.unref(r)},()=>[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(s.unref(r).rows,(d,u)=>(s.openBlock(),s.createBlock(Ii,{key:d.id||s.unref(Po)(),row:d,rowIndex:u,tableid:s.unref(r).id},{default:s.withCtx(()=>[(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(s.unref(r).columns,(l,f)=>(s.openBlock(),s.createBlock(Ei,{key:`${f}:${u}`,tableid:s.unref(r).id,col:l,spellcheck:"false",rowIndex:u,colIndex:f+(s.unref(r).zeroColumn?0:-1),component:l.cellComponent,style:s.normalizeStyle({textAlign:(l==null?void 0:l.align)||"center",minWidth:(l==null?void 0:l.width)||"40ch",width:s.unref(r).config.fullWidth?"auto":null})},null,8,["tableid","col","rowIndex","colIndex","component","style"]))),128))]),_:2},1032,["row","rowIndex","tableid"]))),128))],!0)]),s.renderSlot(i.$slots,"footer",{data:s.unref(r)},void 0,!0),s.renderSlot(i.$slots,"modal",{data:s.unref(r)},()=>[s.withDirectives(s.createVNode(Di,{colIndex:s.unref(r).modal.colIndex,rowIndex:s.unref(r).modal.rowIndex,tableid:s.unref(r).id,style:s.normalizeStyle({left:s.unref(r).modal.left+"px",top:s.unref(r).modal.top+"px",maxWidth:s.unref(r).modal.width+"px"})},{default:s.withCtx(()=>[(s.openBlock(),s.createBlock(s.resolveDynamicComponent(s.unref(r).modal.component),s.mergeProps({key:`${s.unref(r).modal.rowIndex}:${s.unref(r).modal.colIndex}`,colIndex:s.unref(r).modal.colIndex,rowIndex:s.unref(r).modal.rowIndex,tableid:s.unref(r).id},s.unref(r).modal.componentProps),null,16,["colIndex","rowIndex","tableid"]))]),_:1},8,["colIndex","rowIndex","tableid","style"]),[[s.vShow,s.unref(r).modal.visible]])],!0)],4))}}),[["__scopeId","data-v-9137b4c3"]]),Co=s.defineComponent({__name:"Records",setup(e){const{stonecrop:t,isReady:n}=nn(),o={view:"list"};return(r,a)=>s.unref(n)?(s.openBlock(),s.createBlock(s.unref(Vi),{key:0,columns:s.unref(t).schema.schema.toArray(),rows:s.unref(t).store.records,config:o},null,8,["columns","rows"])):s.createCommentVNode("",!0)}}),$o=e=>(s.pushScopeId("data-v-18bfde6e"),e=e(),s.popScopeId(),e),Bi={class:"tabs"},Mi=["onKeydown"],Li={tabindex:"0"},ji=["onKeydown"],Ui={version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 424.098 424.098",style:{"enable-background":"new 0 0 424.098 424.098"},"xml:space":"preserve"},Hi=[$o(()=>s.createElementVNode("g",null,[s.createElementVNode("path",{style:{fill:"#010002"},d:`M351.191,401.923H72.901c-4.487,0-8.129-3.633-8.129-8.129V242.262l-56.664-0.114
								c-3.284-0.008-6.243-1.992-7.495-5.023c-1.252-3.04-0.553-6.527,1.764-8.852L206.104,24.546c1.853-1.845,4.503-2.666,7.047-2.276
								c2.414,0.39,4.511,1.845,5.731,3.942l47.43,47.43V58.499c0-4.487,3.633-8.129,8.129-8.129h47.755c4.495,0,8.129,3.642,8.129,8.129
								v79.156l91.39,91.398c2.325,2.325,3.024,5.828,1.764,8.868c-1.26,3.032-4.227,5.007-7.511,5.007c-0.008,0-0.008,0-0.016,0
								l-56.64-0.114v150.98C359.32,398.29,355.686,401.923,351.191,401.923z M81.03,385.666h262.033V234.67
								c0-2.162,0.854-4.235,2.39-5.755c1.528-1.52,3.585-2.374,5.739-2.374c0.008,0,0.008,0,0.016,0l45.105,0.089l-79.855-79.863
								c-1.528-1.528-2.382-3.593-2.382-5.747V66.628h-31.498v26.645c0,3.284-1.975,6.251-5.015,7.511
								c-3.032,1.268-6.527,0.569-8.86-1.764l-57.038-57.038l-183.95,183.95l45.203,0.089c4.487,0.008,8.112,3.642,8.112,8.129
								C81.03,234.149,81.03,385.666,81.03,385.666z`})],-1))],Fi=["onKeydown"],Wi={tabindex:"0"},zi={style:{width:"11pt"}},Gi=[$o(()=>s.createElementVNode("g",{transform:"matrix(-0.08088215,0,0,0.08088215,9.8016177,3.1263021e-6)"},[s.createElementVNode("path",{d:"M 93.148438,80.832031 C 109.5,57.742188 104.03125,25.769531 80.941406,9.421875 57.851562,-6.925781 25.878906,-1.460938 9.53125,21.632812 -6.816406,44.722656 -1.351562,76.691406 21.742188,93.039062 38.222656,104.70703 60.011719,105.60547 77.394531,95.339844 l 37.769529,37.542966 c 4.07813,4.29297 10.86328,4.46485 15.15625,0.38672 4.29297,-4.07422 4.46485,-10.85937 0.39063,-15.15234 -0.12891,-0.13672 -0.25391,-0.26172 -0.39063,-0.39063 z m -41.839844,3.5 C 33.0625,84.335938 18.269531,69.554688 18.257812,51.308594 18.253906,33.0625 33.035156,18.269531 51.285156,18.261719 c 18.222656,-0.0078 33.007813,14.75 33.042969,32.972656 0.03125,18.25 -14.742187,33.066406 -32.996094,33.097656 -0.0078,0 -0.01172,0 -0.02344,0 z m 0,0",style:{fill:"#000000","fill-opacity":"1","fill-rule":"nonzero",stroke:"none"},id:"path2"})],-1))],Qi=s.defineComponent({__name:"SheetNav",props:{breadcrumbs:null},setup(e){const t=e,n=s.ref([]),o=s.ref(!0),r=s.ref(!1),a=s.ref(""),i=s.ref(null),c=s.computed(()=>o.value?"unrotated":"rotated");s.onMounted(()=>{n.value=t.breadcrumbs||[]});const d=()=>{o.value=!o.value},u=async()=>{r.value=!r.value,await s.nextTick(()=>{i.value.focus()})},l=h=>{h.preventDefault(),h.stopPropagation()},f=async h=>{h.preventDefault(),h.stopPropagation(),await u()},p=()=>{};return(h,g)=>{const y=s.resolveComponent("router-link");return s.openBlock(),s.createElementBlock("footer",null,[s.createElementVNode("ul",Bi,[s.createElementVNode("li",{class:"hidebreadcrumbs",onClick:d,onKeydown:s.withKeys(d,["enter"])},[s.createElementVNode("a",Li,[s.createElementVNode("div",{class:s.normalizeClass(s.unref(c))},"×",2)])],40,Mi),s.createElementVNode("li",{class:"hometab",onClick:p,onKeydown:s.withKeys(p,["enter"]),style:s.normalizeStyle({display:o.value?"block":"none"})},[s.createVNode(y,{to:"/home",tabindex:"0"},{default:s.withCtx(()=>[(s.openBlock(),s.createElementBlock("svg",Ui,Hi))]),_:1})],44,ji),s.createElementVNode("li",{class:"searchtab",onClick:u,onKeydown:s.withKeys(u,["enter"]),style:s.normalizeStyle({display:o.value?"block":"none"})},[s.createElementVNode("a",Wi,[s.createElementVNode("span",{style:s.normalizeStyle({display:r.value?"none":"block"})},[(s.openBlock(),s.createElementBlock("svg",zi,Gi))],4),s.withDirectives(s.createElementVNode("input",{"onUpdate:modelValue":g[0]||(g[0]=_=>a.value=_),ref_key:"searchinput",ref:i,style:s.normalizeStyle({display:r.value?"block":"none"}),onClick:g[1]||(g[1]=_=>l(_)),onInput:g[2]||(g[2]=_=>l(_)),onBlur:g[3]||(g[3]=_=>f(_)),onKeydown:g[4]||(g[4]=s.withKeys(_=>f(_),["enter"])),type:"text"},null,36),[[s.vModelText,a.value]])])],44,Fi),(s.openBlock(!0),s.createElementBlock(s.Fragment,null,s.renderList(n.value,(_,I)=>(s.openBlock(),s.createElementBlock("li",{key:I,style:s.normalizeStyle({display:o.value?"block":"none"})},[s.createVNode(y,{tabindex:"0",to:_.to},{default:s.withCtx(()=>[s.createTextVNode(s.toDisplayString(_.title),1)]),_:2},1032,["to"])],4))),128))])])}}}),dc="",xo=ze(Qi,[["__scopeId","data-v-18bfde6e"]]);function Ki(e){e.component("ActionSet",$t),e.component("CommandPalette",xt),e.component("Doctype",co),e.component("Records",Co),e.component("SheetNav",xo)}W.ActionSet=$t,W.CommandPalette=xt,W.Doctype=co,W.Records=Co,W.SheetNav=xo,W.install=Ki,Object.defineProperty(W,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=desktop.umd.cjs.map
